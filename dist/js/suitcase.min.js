function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}!function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e(require,exports,module):t.Tether=e()}(this,function(t,e,i){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t){var e=t.getBoundingClientRect(),i={};for(var o in e)i[o]=e[o];if(t.ownerDocument!==document){var r=t.ownerDocument.defaultView.frameElement;if(r){var s=n(r);i.top+=s.top,i.bottom+=s.top,i.left+=s.left,i.right+=s.left}}return i}function r(t){var e=getComputedStyle(t)||{},i=e.position,o=[];if("fixed"===i)return[t];for(var n=t;(n=n.parentNode)&&n&&1===n.nodeType;){var r=void 0;try{r=getComputedStyle(n)}catch(t){}if(void 0===r||null===r)return o.push(n),o;var s=r,a=s.overflow,l=s.overflowX;/(auto|scroll)/.test(a+s.overflowY+l)&&("absolute"!==i||["relative","absolute","fixed"].indexOf(r.position)>=0)&&o.push(n)}return o.push(t.ownerDocument.body),t.ownerDocument!==document&&o.push(t.ownerDocument.defaultView),o}function s(){O&&document.body.removeChild(O),O=null}function a(t){var e=void 0;t===document?(e=document,t=document.documentElement):e=t.ownerDocument;var i=e.documentElement,o=n(t),r=D();return o.top-=r.top,o.left-=r.left,void 0===o.width&&(o.width=document.body.scrollWidth-o.left-o.right),void 0===o.height&&(o.height=document.body.scrollHeight-o.top-o.bottom),o.top=o.top-i.clientTop,o.left=o.left-i.clientLeft,o.right=e.body.clientWidth-o.width-o.left,o.bottom=e.body.clientHeight-o.height-o.top,o}function l(t){return t.offsetParent||document.documentElement}function h(){if(I)return I;var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");f(e.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),e.appendChild(t),document.body.appendChild(e);var i=t.offsetWidth;e.style.overflow="scroll";var o=t.offsetWidth;i===o&&(o=e.clientWidth),document.body.removeChild(e);var n=i-o;return I={width:n,height:n}}function f(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=[];return Array.prototype.push.apply(e,arguments),e.slice(1).forEach(function(e){if(e)for(var i in e)({}).hasOwnProperty.call(e,i)&&(t[i]=e[i])}),t}function c(t,e){if(void 0!==t.classList)e.split(" ").forEach(function(e){e.trim()&&t.classList.remove(e)});else{var i=new RegExp("(^| )"+e.split(" ").join("|")+"( |$)","gi"),o=p(t).replace(i," ");g(t,o)}}function d(t,e){if(void 0!==t.classList)e.split(" ").forEach(function(e){e.trim()&&t.classList.add(e)});else{c(t,e);var i=p(t)+" "+e;g(t,i)}}function u(t,e){if(void 0!==t.classList)return t.classList.contains(e);var i=p(t);return new RegExp("(^| )"+e+"( |$)","gi").test(i)}function p(t){return t.className instanceof t.ownerDocument.defaultView.SVGAnimatedString?t.className.baseVal:t.className}function g(t,e){t.setAttribute("class",e)}function m(t,e,i){i.forEach(function(i){-1===e.indexOf(i)&&u(t,i)&&c(t,i)}),e.forEach(function(e){u(t,e)||d(t,e)})}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function b(t,e){var i=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return t+i>=e&&e>=t-i}function y(){return"undefined"!=typeof performance&&void 0!==performance.now?performance.now():+new Date}function _(){for(var t={top:0,left:0},e=arguments.length,i=Array(e),o=0;o<e;o++)i[o]=arguments[o];return i.forEach(function(e){var i=e.top,o=e.left;"string"==typeof i&&(i=parseFloat(i,10)),"string"==typeof o&&(o=parseFloat(o,10)),t.top+=i,t.left+=o}),t}function E(t,e){return"string"==typeof t.left&&-1!==t.left.indexOf("%")&&(t.left=parseFloat(t.left,10)/100*e.width),"string"==typeof t.top&&-1!==t.top.indexOf("%")&&(t.top=parseFloat(t.top,10)/100*e.height),t}function w(t,e){return"scrollParent"===e?e=t.scrollParents[0]:"window"===e&&(e=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),e===document&&(e=e.documentElement),void 0!==e.nodeType&&function(){var t=e,i=a(e),o=i,n=getComputedStyle(e);if(e=[o.left,o.top,i.width+o.left,i.height+o.top],t.ownerDocument!==document){var r=t.ownerDocument.defaultView;e[0]+=r.pageXOffset,e[1]+=r.pageYOffset,e[2]+=r.pageXOffset,e[3]+=r.pageYOffset}G.forEach(function(t,i){t=t[0].toUpperCase()+t.substr(1),"Top"===t||"Left"===t?e[i]+=parseFloat(n["border"+t+"Width"]):e[i]-=parseFloat(n["border"+t+"Width"])})}(),e}var T=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),C=void 0;void 0===C&&(C={modules:[]});var O=null,S=function(){var t=0;return function(){return++t}}(),A={},D=function(){var t=O;t&&document.body.contains(t)||(t=document.createElement("div"),t.setAttribute("data-tether-id",S()),f(t.style,{top:0,left:0,position:"absolute"}),document.body.appendChild(t),O=t);var e=t.getAttribute("data-tether-id");return void 0===A[e]&&(A[e]=n(t),k(function(){delete A[e]})),A[e]},I=null,N=[],k=function(t){N.push(t)},W=function(){for(var t=void 0;t=N.pop();)t()},U=function(){function t(){o(this,t)}return T(t,[{key:"on",value:function(t,e,i){var o=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];void 0===this.bindings&&(this.bindings={}),void 0===this.bindings[t]&&(this.bindings[t]=[]),this.bindings[t].push({handler:e,ctx:i,once:o})}},{key:"once",value:function(t,e,i){this.on(t,e,i,!0)}},{key:"off",value:function(t,e){if(void 0!==this.bindings&&void 0!==this.bindings[t])if(void 0===e)delete this.bindings[t];else for(var i=0;i<this.bindings[t].length;)this.bindings[t][i].handler===e?this.bindings[t].splice(i,1):++i}},{key:"trigger",value:function(t){if(void 0!==this.bindings&&this.bindings[t]){for(var e=0,i=arguments.length,o=Array(i>1?i-1:0),n=1;n<i;n++)o[n-1]=arguments[n];for(;e<this.bindings[t].length;){var r=this.bindings[t][e],s=r.handler,a=r.ctx,l=r.once,h=a;void 0===h&&(h=this),s.apply(h,o),l?this.bindings[t].splice(e,1):++e}}}}]),t}();C.Utils={getActualBoundingClientRect:n,getScrollParents:r,getBounds:a,getOffsetParent:l,extend:f,addClass:d,removeClass:c,hasClass:u,updateClasses:m,defer:k,flush:W,uniqueId:S,Evented:U,getScrollBarSize:h,removeUtilElements:s};var x=function(){function t(t,e){var i=[],o=!0,n=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(o=(s=a.next()).done)&&(i.push(s.value),!e||i.length!==e);o=!0);}catch(t){n=!0,r=t}finally{try{!o&&a.return&&a.return()}finally{if(n)throw r}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),T=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),M=function(t,e,i){for(var o=!0;o;){var n=t,r=e,s=i;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,r);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(s)}var h=Object.getPrototypeOf(n);if(null===h)return;t=h,e=r,i=s,o=!0,a=h=void 0}};if(void 0===C)throw new Error("You must include the utils.js file before tether.js");var H=C.Utils,r=H.getScrollParents,a=H.getBounds,l=H.getOffsetParent,f=H.extend,d=H.addClass,c=H.removeClass,m=H.updateClasses,k=H.defer,W=H.flush,h=H.getScrollBarSize,s=H.removeUtilElements,R=function(){if("undefined"==typeof document)return"";for(var t=document.createElement("div"),e=["transform","WebkitTransform","OTransform","MozTransform","msTransform"],i=0;i<e.length;++i){var o=e[i];if(void 0!==t.style[o])return o}}(),P=[],B=function(){P.forEach(function(t){t.position(!1)}),W()};!function(){var t=null,e=null,i=null,o=function o(){if(void 0!==e&&e>16)return e=Math.min(e-16,250),void(i=setTimeout(o,250));void 0!==t&&y()-t<10||(null!=i&&(clearTimeout(i),i=null),t=y(),B(),e=y()-t)};"undefined"!=typeof window&&void 0!==window.addEventListener&&["resize","scroll","touchmove"].forEach(function(t){window.addEventListener(t,o)})}();var L={center:"center",left:"right",right:"left"},F={middle:"middle",top:"bottom",bottom:"top"},j={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},Y=function(t,e){var i=t.left,o=t.top;return"auto"===i&&(i=L[e.left]),"auto"===o&&(o=F[e.top]),{left:i,top:o}},z=function(t){var e=t.left,i=t.top;return void 0!==j[t.left]&&(e=j[t.left]),void 0!==j[t.top]&&(i=j[t.top]),{left:e,top:i}},K=function(t){var e=t.split(" "),i=x(e,2);return{top:i[0],left:i[1]}},V=K,X=function(t){function e(t){var i=this;o(this,e),M(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.position=this.position.bind(this),P.push(this),this.history=[],this.setOptions(t,!1),C.modules.forEach(function(t){void 0!==t.initialize&&t.initialize.call(i)}),this.position()}return v(e,t),T(e,[{key:"getClass",value:function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],e=this.options.classes;return void 0!==e&&e[t]?this.options.classes[t]:this.options.classPrefix?this.options.classPrefix+"-"+t:t}},{key:"setOptions",value:function(t){var e=this,i=arguments.length<=1||void 0===arguments[1]||arguments[1],o={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"};this.options=f(o,t);var n=this.options,s=n.element,a=n.target,l=n.targetModifier;if(this.element=s,this.target=a,this.targetModifier=l,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(t){if(void 0===e[t])throw new Error("Tether Error: Both element and target must be defined");void 0!==e[t].jquery?e[t]=e[t][0]:"string"==typeof e[t]&&(e[t]=document.querySelector(e[t]))}),d(this.element,this.getClass("element")),!1!==this.options.addTargetClasses&&d(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=V(this.options.targetAttachment),this.attachment=V(this.options.attachment),this.offset=K(this.options.offset),this.targetOffset=K(this.options.targetOffset),void 0!==this.scrollParents&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParents=[this.target]:this.scrollParents=r(this.target),!1!==this.options.enabled&&this.enable(i)}},{key:"getTargetBounds",value:function(){if(void 0===this.targetModifier)return a(this.target);if("visible"===this.targetModifier){if(this.target===document.body)return{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth};var t=a(this.target),e={height:t.height,width:t.width,top:t.top,left:t.left};return e.height=Math.min(e.height,t.height-(pageYOffset-t.top)),e.height=Math.min(e.height,t.height-(t.top+t.height-(pageYOffset+innerHeight))),e.height=Math.min(innerHeight,e.height),e.height-=2,e.width=Math.min(e.width,t.width-(pageXOffset-t.left)),e.width=Math.min(e.width,t.width-(t.left+t.width-(pageXOffset+innerWidth))),e.width=Math.min(innerWidth,e.width),e.width-=2,e.top<pageYOffset&&(e.top=pageYOffset),e.left<pageXOffset&&(e.left=pageXOffset),e}if("scroll-handle"===this.targetModifier){var t=void 0,i=this.target;i===document.body?(i=document.documentElement,t={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):t=a(i);var o=getComputedStyle(i),n=i.scrollWidth>i.clientWidth||[o.overflow,o.overflowX].indexOf("scroll")>=0||this.target!==document.body,r=0;n&&(r=15);var s=t.height-parseFloat(o.borderTopWidth)-parseFloat(o.borderBottomWidth)-r,e={width:15,height:.975*s*(s/i.scrollHeight),left:t.left+t.width-parseFloat(o.borderLeftWidth)-15},l=0;s<408&&this.target===document.body&&(l=-11e-5*Math.pow(s,2)-.00727*s+22.58),this.target!==document.body&&(e.height=Math.max(e.height,24));var h=this.target.scrollTop/(i.scrollHeight-s);return e.top=h*(s-e.height-l)+t.top+parseFloat(o.borderTopWidth),this.target===document.body&&(e.height=Math.max(e.height,24)),e}}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(t,e){return void 0===this._cache&&(this._cache={}),void 0===this._cache[t]&&(this._cache[t]=e.call(this)),this._cache[t]}},{key:"enable",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]||arguments[0];!1!==this.options.addTargetClasses&&d(this.target,this.getClass("enabled")),d(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParents.forEach(function(e){e!==t.target.ownerDocument&&e.addEventListener("scroll",t.position)}),e&&this.position()}},{key:"disable",value:function(){var t=this;c(this.target,this.getClass("enabled")),c(this.element,this.getClass("enabled")),this.enabled=!1,void 0!==this.scrollParents&&this.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.position)})}},{key:"destroy",value:function(){var t=this;this.disable(),P.forEach(function(e,i){e===t&&P.splice(i,1)}),0===P.length&&s()}},{key:"updateAttachClasses",value:function(t,e){var i=this;t=t||this.attachment,e=e||this.targetAttachment;var o=["left","top","bottom","right","middle","center"];void 0!==this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),void 0===this._addAttachClasses&&(this._addAttachClasses=[]);var n=this._addAttachClasses;t.top&&n.push(this.getClass("element-attached")+"-"+t.top),t.left&&n.push(this.getClass("element-attached")+"-"+t.left),e.top&&n.push(this.getClass("target-attached")+"-"+e.top),e.left&&n.push(this.getClass("target-attached")+"-"+e.left);var r=[];o.forEach(function(t){r.push(i.getClass("element-attached")+"-"+t),r.push(i.getClass("target-attached")+"-"+t)}),k(function(){void 0!==i._addAttachClasses&&(m(i.element,i._addAttachClasses,r),!1!==i.options.addTargetClasses&&m(i.target,i._addAttachClasses,r),delete i._addAttachClasses)})}},{key:"position",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]||arguments[0];if(this.enabled){this.clearCache();var i=Y(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,i);var o=this.cache("element-bounds",function(){return a(t.element)}),n=o.width,r=o.height;if(0===n&&0===r&&void 0!==this.lastSize){var s=this.lastSize;n=s.width,r=s.height}else this.lastSize={width:n,height:r};var f=this.cache("target-bounds",function(){return t.getTargetBounds()}),c=f,d=E(z(this.attachment),{width:n,height:r}),u=E(z(i),c),p=E(this.offset,{width:n,height:r}),g=E(this.targetOffset,c);d=_(d,p),u=_(u,g);for(var m=f.left+u.left-d.left,v=f.top+u.top-d.top,b=0;b<C.modules.length;++b){var y=C.modules[b],w=y.position.call(this,{left:m,top:v,targetAttachment:i,targetPos:f,elementPos:o,offset:d,targetOffset:u,manualOffset:p,manualTargetOffset:g,scrollbarSize:A,attachment:this.attachment});if(!1===w)return!1;void 0!==w&&"object"==typeof w&&(v=w.top,m=w.left)}var T={page:{top:v,left:m},viewport:{top:v-pageYOffset,bottom:pageYOffset-v-r+innerHeight,left:m-pageXOffset,right:pageXOffset-m-n+innerWidth}},O=this.target.ownerDocument,S=O.defaultView,A=void 0;return S.innerHeight>O.documentElement.clientHeight&&(A=this.cache("scrollbar-size",h),T.viewport.bottom-=A.height),S.innerWidth>O.documentElement.clientWidth&&(A=this.cache("scrollbar-size",h),T.viewport.right-=A.width),-1!==["","static"].indexOf(O.body.style.position)&&-1!==["","static"].indexOf(O.body.parentElement.style.position)||(T.page.bottom=O.body.scrollHeight-v-r,T.page.right=O.body.scrollWidth-m-n),void 0!==this.options.optimizations&&!1!==this.options.optimizations.moveElement&&void 0===this.targetModifier&&function(){var e=t.cache("target-offsetparent",function(){return l(t.target)}),i=t.cache("target-offsetparent-bounds",function(){return a(e)}),o=getComputedStyle(e),n=i,r={};if(["Top","Left","Bottom","Right"].forEach(function(t){r[t.toLowerCase()]=parseFloat(o["border"+t+"Width"])}),i.right=O.body.scrollWidth-i.left-n.width+r.right,i.bottom=O.body.scrollHeight-i.top-n.height+r.bottom,T.page.top>=i.top+r.top&&T.page.bottom>=i.bottom&&T.page.left>=i.left+r.left&&T.page.right>=i.right){var s=e.scrollTop,h=e.scrollLeft;T.offset={top:T.page.top-i.top+s-r.top,left:T.page.left-i.left+h-r.left}}}(),this.move(T),this.history.unshift(T),this.history.length>3&&this.history.pop(),e&&W(),!0}}},{key:"move",value:function(t){var e=this;if(void 0!==this.element.parentNode){var i={};for(var o in t){i[o]={};for(var n in t[o]){for(var r=!1,s=0;s<this.history.length;++s){var a=this.history[s];if(void 0!==a[o]&&!b(a[o][n],t[o][n])){r=!0;break}}r||(i[o][n]=!0)}}var h={top:"",left:"",right:"",bottom:""},c=function(t,i){if(!1!==(void 0!==e.options.optimizations?e.options.optimizations.gpu:null)){var o=void 0,n=void 0;t.top?(h.top=0,o=i.top):(h.bottom=0,o=-i.bottom),t.left?(h.left=0,n=i.left):(h.right=0,n=-i.right),window.matchMedia&&(window.matchMedia("only screen and (min-resolution: 1.3dppx)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3)").matches||(n=Math.round(n),o=Math.round(o))),h[R]="translateX("+n+"px) translateY("+o+"px)","msTransform"!==R&&(h[R]+=" translateZ(0)")}else t.top?h.top=i.top+"px":h.bottom=i.bottom+"px",t.left?h.left=i.left+"px":h.right=i.right+"px"},d=!1;if((i.page.top||i.page.bottom)&&(i.page.left||i.page.right)?(h.position="absolute",c(i.page,t.page)):(i.viewport.top||i.viewport.bottom)&&(i.viewport.left||i.viewport.right)?(h.position="fixed",c(i.viewport,t.viewport)):void 0!==i.offset&&i.offset.top&&i.offset.left?function(){h.position="absolute";var o=e.cache("target-offsetparent",function(){return l(e.target)});l(e.element)!==o&&k(function(){e.element.parentNode.removeChild(e.element),o.appendChild(e.element)}),c(i.offset,t.offset),d=!0}():(h.position="absolute",c({top:!0,left:!0},t.page)),!d)if(this.options.bodyElement)this.options.bodyElement.appendChild(this.element);else{for(var u=!0,p=this.element.parentNode;p&&1===p.nodeType&&"BODY"!==p.tagName;){if("static"!==getComputedStyle(p).position){u=!1;break}p=p.parentNode}u||(this.element.parentNode.removeChild(this.element),this.element.ownerDocument.body.appendChild(this.element))}var g={},m=!1;for(var n in h){var v=h[n];this.element.style[n]!==v&&(m=!0,g[n]=v)}m&&k(function(){f(e.element.style,g),e.trigger("repositioned")})}}}]),e}(U);X.modules=[],C.position=B;var Q=f(X,C),x=function(){function t(t,e){var i=[],o=!0,n=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(o=(s=a.next()).done)&&(i.push(s.value),!e||i.length!==e);o=!0);}catch(t){n=!0,r=t}finally{try{!o&&a.return&&a.return()}finally{if(n)throw r}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),H=C.Utils,a=H.getBounds,f=H.extend,m=H.updateClasses,k=H.defer,G=["left","top","right","bottom"];C.modules.push({position:function(t){var e=this,i=t.top,o=t.left,n=t.targetAttachment;if(!this.options.constraints)return!0;var r=this.cache("element-bounds",function(){return a(e.element)}),s=r.height,l=r.width;if(0===l&&0===s&&void 0!==this.lastSize){var h=this.lastSize;l=h.width,s=h.height}var c=this.cache("target-bounds",function(){return e.getTargetBounds()}),d=c.height,u=c.width,p=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach(function(t){var e=t.outOfBoundsClass,i=t.pinnedClass;e&&p.push(e),i&&p.push(i)}),p.forEach(function(t){["left","top","right","bottom"].forEach(function(e){p.push(t+"-"+e)})});var g=[],v=f({},n),b=f({},this.attachment);return this.options.constraints.forEach(function(t){var r=t.to,a=t.attachment,h=t.pin;void 0===a&&(a="");var f=void 0,c=void 0;if(a.indexOf(" ")>=0){var p=a.split(" "),m=x(p,2);c=m[0],f=m[1]}else f=c=a;var y=w(e,r);"target"!==c&&"both"!==c||(i<y[1]&&"top"===v.top&&(i+=d,v.top="bottom"),i+s>y[3]&&"bottom"===v.top&&(i-=d,v.top="top")),"together"===c&&("top"===v.top&&("bottom"===b.top&&i<y[1]?(i+=d,v.top="bottom",i+=s,b.top="top"):"top"===b.top&&i+s>y[3]&&i-(s-d)>=y[1]&&(i-=s-d,v.top="bottom",b.top="bottom")),"bottom"===v.top&&("top"===b.top&&i+s>y[3]?(i-=d,v.top="top",i-=s,b.top="bottom"):"bottom"===b.top&&i<y[1]&&i+(2*s-d)<=y[3]&&(i+=s-d,v.top="top",b.top="top")),"middle"===v.top&&(i+s>y[3]&&"top"===b.top?(i-=s,b.top="bottom"):i<y[1]&&"bottom"===b.top&&(i+=s,b.top="top"))),"target"!==f&&"both"!==f||(o<y[0]&&"left"===v.left&&(o+=u,v.left="right"),o+l>y[2]&&"right"===v.left&&(o-=u,v.left="left")),"together"===f&&(o<y[0]&&"left"===v.left?"right"===b.left?(o+=u,v.left="right",o+=l,b.left="left"):"left"===b.left&&(o+=u,v.left="right",o-=l,b.left="right"):o+l>y[2]&&"right"===v.left?"left"===b.left?(o-=u,v.left="left",o-=l,b.left="right"):"right"===b.left&&(o-=u,v.left="left",o+=l,b.left="left"):"center"===v.left&&(o+l>y[2]&&"left"===b.left?(o-=l,b.left="right"):o<y[0]&&"right"===b.left&&(o+=l,b.left="left"))),"element"!==c&&"both"!==c||(i<y[1]&&"bottom"===b.top&&(i+=s,b.top="top"),i+s>y[3]&&"top"===b.top&&(i-=s,b.top="bottom")),"element"!==f&&"both"!==f||(o<y[0]&&("right"===b.left?(o+=l,b.left="left"):"center"===b.left&&(o+=l/2,b.left="left")),o+l>y[2]&&("left"===b.left?(o-=l,b.left="right"):"center"===b.left&&(o-=l/2,b.left="right"))),"string"==typeof h?h=h.split(",").map(function(t){return t.trim()}):!0===h&&(h=["top","left","right","bottom"]),h=h||[];var _=[],E=[];i<y[1]&&(h.indexOf("top")>=0?(i=y[1],_.push("top")):E.push("top")),i+s>y[3]&&(h.indexOf("bottom")>=0?(i=y[3]-s,_.push("bottom")):E.push("bottom")),o<y[0]&&(h.indexOf("left")>=0?(o=y[0],_.push("left")):E.push("left")),o+l>y[2]&&(h.indexOf("right")>=0?(o=y[2]-l,_.push("right")):E.push("right")),_.length&&function(){var t=void 0;t=void 0!==e.options.pinnedClass?e.options.pinnedClass:e.getClass("pinned"),g.push(t),_.forEach(function(e){g.push(t+"-"+e)})}(),E.length&&function(){var t=void 0;t=void 0!==e.options.outOfBoundsClass?e.options.outOfBoundsClass:e.getClass("out-of-bounds"),g.push(t),E.forEach(function(e){g.push(t+"-"+e)})}(),(_.indexOf("left")>=0||_.indexOf("right")>=0)&&(b.left=v.left=!1),(_.indexOf("top")>=0||_.indexOf("bottom")>=0)&&(b.top=v.top=!1),v.top===n.top&&v.left===n.left&&b.top===e.attachment.top&&b.left===e.attachment.left||(e.updateAttachClasses(b,v),e.trigger("update",{attachment:b,targetAttachment:v}))}),k(function(){!1!==e.options.addTargetClasses&&m(e.target,g,p),m(e.element,g,p)}),{top:i,left:o}}});var H=C.Utils,a=H.getBounds,m=H.updateClasses,k=H.defer;C.modules.push({position:function(t){var e=this,i=t.top,o=t.left,n=this.cache("element-bounds",function(){return a(e.element)}),r=n.height,s=n.width,l=this.getTargetBounds(),h=i+r,f=o+s,c=[];i<=l.bottom&&h>=l.top&&["left","right"].forEach(function(t){var e=l[t];e!==o&&e!==f||c.push(t)}),o<=l.right&&f>=l.left&&["top","bottom"].forEach(function(t){var e=l[t];e!==i&&e!==h||c.push(t)});var d=[],u=[],p=["left","top","right","bottom"];return d.push(this.getClass("abutted")),p.forEach(function(t){d.push(e.getClass("abutted")+"-"+t)}),c.length&&u.push(this.getClass("abutted")),c.forEach(function(t){u.push(e.getClass("abutted")+"-"+t)}),k(function(){!1!==e.options.addTargetClasses&&m(e.target,u,d),m(e.element,u,d)}),!0}});var x=function(){function t(t,e){var i=[],o=!0,n=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(o=(s=a.next()).done)&&(i.push(s.value),!e||i.length!==e);o=!0);}catch(t){n=!0,r=t}finally{try{!o&&a.return&&a.return()}finally{if(n)throw r}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();return C.modules.push({position:function(t){var e=t.top,i=t.left;if(this.options.shift){var o=this.options.shift;"function"==typeof this.options.shift&&(o=this.options.shift.call(this,{top:e,left:i}));var n=void 0,r=void 0;if("string"==typeof o){o=o.split(" "),o[1]=o[1]||o[0];var s=o,a=x(s,2);n=a[0],r=a[1],n=parseFloat(n,10),r=parseFloat(r,10)}else n=o.top,r=o.left;return e+=n,i+=r,{top:e,left:i}}}}),Q});var Util=function(t){function e(t){return{}.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function i(t){return(t[0]||t).nodeType}function o(){return{bindType:s.end,delegateType:s.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}}}function n(){if(window.QUnit)return!1;var t=document.createElement("bootstrap");for(var e in a)if(void 0!==t.style[e])return{end:a[e]};return!1}function r(e){var i=this,o=!1;return t(this).one(l.TRANSITION_END,function(){o=!0}),setTimeout(function(){o||l.triggerTransitionEnd(i)},e),this}var s=!1,a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},l={TRANSITION_END:"bsTransitionEnd",getUID:function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");return e||(e=t.getAttribute("href")||"",e=/^#[a-z]/i.test(e)?e:null),e},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(e){t(e).trigger(s.end)},supportsTransitionEnd:function(){return Boolean(s)},typeCheckConfig:function(t,o,n){for(var r in n)if(n.hasOwnProperty(r)){var s=n[r],a=o[r],l=a&&i(a)?"element":e(a);if(!new RegExp(s).test(l))throw new Error(t.toUpperCase()+': Option "'+r+'" provided type "'+l+'" but expected type "'+s+'".')}}};return function(){s=n(),t.fn.emulateTransitionEnd=r,l.supportsTransitionEnd()&&(t.event.special[l.TRANSITION_END]=o())}(),l}(jQuery),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),Modal=function(t){var e="modal",i=".bs.modal",o=t.fn[e],n={backdrop:!0,keyboard:!0,focus:!0,show:!0},r={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},s={HIDE:"hide.bs.modal",HIDDEN:"hidden.bs.modal",SHOW:"show.bs.modal",SHOWN:"shown.bs.modal",FOCUSIN:"focusin.bs.modal",RESIZE:"resize.bs.modal",CLICK_DISMISS:"click.dismiss.bs.modal",KEYDOWN_DISMISS:"keydown.dismiss.bs.modal",MOUSEUP_DISMISS:"mouseup.dismiss.bs.modal",MOUSEDOWN_DISMISS:"mousedown.dismiss.bs.modal",CLICK_DATA_API:"click.bs.modal.data-api"},a={SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",SHOW:"show"},l={DIALOG:".modal-dialog",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top"},h=function(){function o(e,i){_classCallCheck(this,o),this._config=this._getConfig(i),this._element=e,this._dialog=t(e).find(l.DIALOG)[0],this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._originalBodyPadding=0,this._scrollbarWidth=0}return o.prototype.toggle=function(t){return this._isShown?this.hide():this.show(t)},o.prototype.show=function(e){var i=this;if(this._isTransitioning)throw new Error("Modal is transitioning");Util.supportsTransitionEnd()&&t(this._element).hasClass(a.FADE)&&(this._isTransitioning=!0);var o=t.Event(s.SHOW,{relatedTarget:e});t(this._element).trigger(o),this._isShown||o.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),t(document.body).addClass(a.OPEN),this._setEscapeEvent(),this._setResizeEvent(),t(this._element).on(s.CLICK_DISMISS,l.DATA_DISMISS,function(t){return i.hide(t)}),t(this._dialog).on(s.MOUSEDOWN_DISMISS,function(){t(i._element).one(s.MOUSEUP_DISMISS,function(e){t(e.target).is(i._element)&&(i._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return i._showElement(e)}))},o.prototype.hide=function(e){var i=this;if(e&&e.preventDefault(),this._isTransitioning)throw new Error("Modal is transitioning");var o=Util.supportsTransitionEnd()&&t(this._element).hasClass(a.FADE);o&&(this._isTransitioning=!0);var n=t.Event(s.HIDE);t(this._element).trigger(n),this._isShown&&!n.isDefaultPrevented()&&(this._isShown=!1,this._setEscapeEvent(),this._setResizeEvent(),t(document).off(s.FOCUSIN),t(this._element).removeClass(a.SHOW),t(this._element).off(s.CLICK_DISMISS),t(this._dialog).off(s.MOUSEDOWN_DISMISS),o?t(this._element).one(Util.TRANSITION_END,function(t){return i._hideModal(t)}).emulateTransitionEnd(300):this._hideModal())},o.prototype.dispose=function(){t.removeData(this._element,"bs.modal"),t(window,document,this._element,this._backdrop).off(i),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._originalBodyPadding=null,this._scrollbarWidth=null},o.prototype._getConfig=function(i){return i=t.extend({},n,i),Util.typeCheckConfig(e,i,r),i},o.prototype._showElement=function(e){var i=this,o=Util.supportsTransitionEnd()&&t(this._element).hasClass(a.FADE);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.scrollTop=0,o&&Util.reflow(this._element),t(this._element).addClass(a.SHOW),this._config.focus&&this._enforceFocus();var n=t.Event(s.SHOWN,{relatedTarget:e}),r=function(){i._config.focus&&i._element.focus(),i._isTransitioning=!1,t(i._element).trigger(n)};o?t(this._dialog).one(Util.TRANSITION_END,r).emulateTransitionEnd(300):r()},o.prototype._enforceFocus=function(){var e=this;t(document).off(s.FOCUSIN).on(s.FOCUSIN,function(i){document===i.target||e._element===i.target||t(e._element).has(i.target).length||e._element.focus()})},o.prototype._setEscapeEvent=function(){var e=this;this._isShown&&this._config.keyboard?t(this._element).on(s.KEYDOWN_DISMISS,function(t){27===t.which&&e.hide()}):this._isShown||t(this._element).off(s.KEYDOWN_DISMISS)},o.prototype._setResizeEvent=function(){var e=this;this._isShown?t(window).on(s.RESIZE,function(t){return e._handleUpdate(t)}):t(window).off(s.RESIZE)},o.prototype._hideModal=function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden","true"),this._isTransitioning=!1,this._showBackdrop(function(){t(document.body).removeClass(a.OPEN),e._resetAdjustments(),e._resetScrollbar(),t(e._element).trigger(s.HIDDEN)})},o.prototype._removeBackdrop=function(){this._backdrop&&(t(this._backdrop).remove(),this._backdrop=null)},o.prototype._showBackdrop=function(e){var i=this,o=t(this._element).hasClass(a.FADE)?a.FADE:"";if(this._isShown&&this._config.backdrop){var n=Util.supportsTransitionEnd()&&o;if(this._backdrop=document.createElement("div"),this._backdrop.className=a.BACKDROP,o&&t(this._backdrop).addClass(o),t(this._backdrop).appendTo(document.body),t(this._element).on(s.CLICK_DISMISS,function(t){if(i._ignoreBackdropClick)return void(i._ignoreBackdropClick=!1);t.target===t.currentTarget&&("static"===i._config.backdrop?i._element.focus():i.hide())}),n&&Util.reflow(this._backdrop),t(this._backdrop).addClass(a.SHOW),!e)return;if(!n)return void e()
;t(this._backdrop).one(Util.TRANSITION_END,e).emulateTransitionEnd(150)}else if(!this._isShown&&this._backdrop){t(this._backdrop).removeClass(a.SHOW);var r=function(){i._removeBackdrop(),e&&e()};Util.supportsTransitionEnd()&&t(this._element).hasClass(a.FADE)?t(this._backdrop).one(Util.TRANSITION_END,r).emulateTransitionEnd(150):r()}else e&&e()},o.prototype._handleUpdate=function(){this._adjustDialog()},o.prototype._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},o.prototype._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},o.prototype._checkScrollbar=function(){this._isBodyOverflowing=document.body.clientWidth<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},o.prototype._setScrollbar=function(){var e=parseInt(t(l.FIXED_CONTENT).css("padding-right")||0,10);this._originalBodyPadding=document.body.style.paddingRight||"",this._isBodyOverflowing&&(document.body.style.paddingRight=e+this._scrollbarWidth+"px")},o.prototype._resetScrollbar=function(){document.body.style.paddingRight=this._originalBodyPadding},o.prototype._getScrollbarWidth=function(){var t=document.createElement("div");t.className=a.SCROLLBAR_MEASURER,document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e},o._jQueryInterface=function(e,i){return this.each(function(){var n=t(this).data("bs.modal"),r=t.extend({},o.Default,t(this).data(),"object"===(void 0===e?"undefined":_typeof(e))&&e);if(n||(n=new o(this,r),t(this).data("bs.modal",n)),"string"==typeof e){if(void 0===n[e])throw new Error('No method named "'+e+'"');n[e](i)}else r.show&&n.show(i)})},_createClass(o,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.6"}},{key:"Default",get:function(){return n}}]),o}();return t(document).on(s.CLICK_DATA_API,l.DATA_TOGGLE,function(e){var i=this,o=void 0,n=Util.getSelectorFromElement(this);n&&(o=t(n)[0]);var r=t(o).data("bs.modal")?"toggle":t.extend({},t(o).data(),t(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||e.preventDefault();var a=t(o).one(s.SHOW,function(e){e.isDefaultPrevented()||a.one(s.HIDDEN,function(){t(i).is(":visible")&&i.focus()})});h._jQueryInterface.call(t(o),r,this)}),t.fn[e]=h._jQueryInterface,t.fn[e].Constructor=h,t.fn[e].noConflict=function(){return t.fn[e]=o,h._jQueryInterface},h}(jQuery),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),Tooltip=function(t){if("undefined"==typeof Tether)throw new Error("Bootstrap tooltips require Tether (http://tether.io/)");var e="tooltip",i=".bs.tooltip",o=t.fn[e],n={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:"0 0",constraints:[],container:!1},r={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"string",constraints:"array",container:"(string|element|boolean)"},s={TOP:"bottom center",RIGHT:"middle left",BOTTOM:"top center",LEFT:"middle right"},a={SHOW:"show",OUT:"out"},l={HIDE:"hide"+i,HIDDEN:"hidden"+i,SHOW:"show"+i,SHOWN:"shown"+i,INSERTED:"inserted"+i,CLICK:"click"+i,FOCUSIN:"focusin"+i,FOCUSOUT:"focusout"+i,MOUSEENTER:"mouseenter"+i,MOUSELEAVE:"mouseleave"+i},h={FADE:"fade",SHOW:"show"},f={TOOLTIP:".tooltip",TOOLTIP_INNER:".tooltip-inner"},c={element:!1,enabled:!1},d={HOVER:"hover",FOCUS:"focus",CLICK:"click",MANUAL:"manual"},u=function(){function o(t,e){_classCallCheck(this,o),this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._isTransitioning=!1,this._tether=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}return o.prototype.enable=function(){this._isEnabled=!0},o.prototype.disable=function(){this._isEnabled=!1},o.prototype.toggleEnabled=function(){this._isEnabled=!this._isEnabled},o.prototype.toggle=function(e){if(e){var i=this.constructor.DATA_KEY,o=t(e.currentTarget).data(i);o||(o=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(i,o)),o._activeTrigger.click=!o._activeTrigger.click,o._isWithActiveTrigger()?o._enter(null,o):o._leave(null,o)}else{if(t(this.getTipElement()).hasClass(h.SHOW))return void this._leave(null,this);this._enter(null,this)}},o.prototype.dispose=function(){clearTimeout(this._timeout),this.cleanupTether(),t.removeData(this.element,this.constructor.DATA_KEY),t(this.element).off(this.constructor.EVENT_KEY),t(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&t(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._tether=null,this.element=null,this.config=null,this.tip=null},o.prototype.show=function(){var e=this;if("none"===t(this.element).css("display"))throw new Error("Please use show on visible elements");var i=t.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){if(this._isTransitioning)throw new Error("Tooltip is transitioning");t(this.element).trigger(i);var n=t.contains(this.element.ownerDocument.documentElement,this.element);if(i.isDefaultPrevented()||!n)return;var r=this.getTipElement(),s=Util.getUID(this.constructor.NAME);r.setAttribute("id",s),this.element.setAttribute("aria-describedby",s),this.setContent(),this.config.animation&&t(r).addClass(h.FADE);var l="function"==typeof this.config.placement?this.config.placement.call(this,r,this.element):this.config.placement,f=this._getAttachment(l),d=!1===this.config.container?document.body:t(this.config.container);t(r).data(this.constructor.DATA_KEY,this).appendTo(d),t(this.element).trigger(this.constructor.Event.INSERTED),this._tether=new Tether({attachment:f,element:r,target:this.element,classes:c,classPrefix:"bs-tether",offset:this.config.offset,constraints:this.config.constraints,addTargetClasses:!1}),Util.reflow(r),this._tether.position(),t(r).addClass(h.SHOW);var u=function(){var i=e._hoverState;e._hoverState=null,e._isTransitioning=!1,t(e.element).trigger(e.constructor.Event.SHOWN),i===a.OUT&&e._leave(null,e)};if(Util.supportsTransitionEnd()&&t(this.tip).hasClass(h.FADE))return this._isTransitioning=!0,void t(this.tip).one(Util.TRANSITION_END,u).emulateTransitionEnd(o._TRANSITION_DURATION);u()}},o.prototype.hide=function(e){var i=this,o=this.getTipElement(),n=t.Event(this.constructor.Event.HIDE);if(this._isTransitioning)throw new Error("Tooltip is transitioning");var r=function(){i._hoverState!==a.SHOW&&o.parentNode&&o.parentNode.removeChild(o),i.element.removeAttribute("aria-describedby"),t(i.element).trigger(i.constructor.Event.HIDDEN),i._isTransitioning=!1,i.cleanupTether(),e&&e()};t(this.element).trigger(n),n.isDefaultPrevented()||(t(o).removeClass(h.SHOW),this._activeTrigger[d.CLICK]=!1,this._activeTrigger[d.FOCUS]=!1,this._activeTrigger[d.HOVER]=!1,Util.supportsTransitionEnd()&&t(this.tip).hasClass(h.FADE)?(this._isTransitioning=!0,t(o).one(Util.TRANSITION_END,r).emulateTransitionEnd(150)):r(),this._hoverState="")},o.prototype.isWithContent=function(){return Boolean(this.getTitle())},o.prototype.getTipElement=function(){return this.tip=this.tip||t(this.config.template)[0]},o.prototype.setContent=function(){var e=t(this.getTipElement());this.setElementContent(e.find(f.TOOLTIP_INNER),this.getTitle()),e.removeClass(h.FADE+" "+h.SHOW),this.cleanupTether()},o.prototype.setElementContent=function(e,i){var o=this.config.html;"object"===(void 0===i?"undefined":_typeof(i))&&(i.nodeType||i.jquery)?o?t(i).parent().is(e)||e.empty().append(i):e.text(t(i).text()):e[o?"html":"text"](i)},o.prototype.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},o.prototype.cleanupTether=function(){this._tether&&this._tether.destroy()},o.prototype._getAttachment=function(t){return s[t.toUpperCase()]},o.prototype._setListeners=function(){var e=this;this.config.trigger.split(" ").forEach(function(i){if("click"===i)t(e.element).on(e.constructor.Event.CLICK,e.config.selector,function(t){return e.toggle(t)});else if(i!==d.MANUAL){var o=i===d.HOVER?e.constructor.Event.MOUSEENTER:e.constructor.Event.FOCUSIN,n=i===d.HOVER?e.constructor.Event.MOUSELEAVE:e.constructor.Event.FOCUSOUT;t(e.element).on(o,e.config.selector,function(t){return e._enter(t)}).on(n,e.config.selector,function(t){return e._leave(t)})}t(e.element).closest(".modal").on("hide.bs.modal",function(){return e.hide()})}),this.config.selector?this.config=t.extend({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},o.prototype._fixTitle=function(){var t=_typeof(this.element.getAttribute("data-original-title"));(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},o.prototype._enter=function(e,i){var o=this.constructor.DATA_KEY;return i=i||t(e.currentTarget).data(o),i||(i=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(o,i)),e&&(i._activeTrigger["focusin"===e.type?d.FOCUS:d.HOVER]=!0),t(i.getTipElement()).hasClass(h.SHOW)||i._hoverState===a.SHOW?void(i._hoverState=a.SHOW):(clearTimeout(i._timeout),i._hoverState=a.SHOW,i.config.delay&&i.config.delay.show?void(i._timeout=setTimeout(function(){i._hoverState===a.SHOW&&i.show()},i.config.delay.show)):void i.show())},o.prototype._leave=function(e,i){var o=this.constructor.DATA_KEY;if(i=i||t(e.currentTarget).data(o),i||(i=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(o,i)),e&&(i._activeTrigger["focusout"===e.type?d.FOCUS:d.HOVER]=!1),!i._isWithActiveTrigger()){if(clearTimeout(i._timeout),i._hoverState=a.OUT,!i.config.delay||!i.config.delay.hide)return void i.hide();i._timeout=setTimeout(function(){i._hoverState===a.OUT&&i.hide()},i.config.delay.hide)}},o.prototype._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},o.prototype._getConfig=function(i){return i=t.extend({},this.constructor.Default,t(this.element).data(),i),i.delay&&"number"==typeof i.delay&&(i.delay={show:i.delay,hide:i.delay}),Util.typeCheckConfig(e,i,this.constructor.DefaultType),i},o.prototype._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},o._jQueryInterface=function(e){return this.each(function(){var i=t(this).data("bs.tooltip"),n="object"===(void 0===e?"undefined":_typeof(e))&&e;if((i||!/dispose|hide/.test(e))&&(i||(i=new o(this,n),t(this).data("bs.tooltip",i)),"string"==typeof e)){if(void 0===i[e])throw new Error('No method named "'+e+'"');i[e]()}})},_createClass(o,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.6"}},{key:"Default",get:function(){return n}},{key:"NAME",get:function(){return e}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},{key:"Event",get:function(){return l}},{key:"EVENT_KEY",get:function(){return i}},{key:"DefaultType",get:function(){return r}}]),o}();return t.fn[e]=u._jQueryInterface,t.fn[e].Constructor=u,t.fn[e].noConflict=function(){return t.fn[e]=o,u._jQueryInterface},u}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZGFsLmpzIiwidG9vbHRpcC5qcyIsInRldGhlci5qcyIsInV0aWwuanMiXSwibmFtZXMiOlsiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsInJvb3QiLCJmYWN0b3J5IiwiZGVmaW5lIiwiYW1kIiwiZXhwb3J0cyIsIm1vZHVsZSIsInJlcXVpcmUiLCJUZXRoZXIiLCJ0aGlzIiwiZ2V0QWN0dWFsQm91bmRpbmdDbGllbnRSZWN0Iiwibm9kZSIsImJvdW5kaW5nUmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInJlY3QiLCJrIiwib3duZXJEb2N1bWVudCIsImRvY3VtZW50IiwiX2ZyYW1lRWxlbWVudCIsImRlZmF1bHRWaWV3IiwiZnJhbWVFbGVtZW50IiwiZnJhbWVSZWN0IiwidG9wIiwiYm90dG9tIiwibGVmdCIsInJpZ2h0IiwiZ2V0U2Nyb2xsUGFyZW50cyIsImVsIiwiY29tcHV0ZWRTdHlsZSIsImdldENvbXB1dGVkU3R5bGUiLCJwb3NpdGlvbiIsInBhcmVudHMiLCJwYXJlbnQiLCJwYXJlbnROb2RlIiwibm9kZVR5cGUiLCJzdHlsZSIsInVuZGVmaW5lZCIsImVyciIsInB1c2giLCJfc3R5bGUiLCJvdmVyZmxvdyIsIm92ZXJmbG93WCIsInRlc3QiLCJvdmVyZmxvd1kiLCJpbmRleE9mIiwiYm9keSIsInJlbW92ZVV0aWxFbGVtZW50cyIsInplcm9FbGVtZW50IiwicmVtb3ZlQ2hpbGQiLCJnZXRCb3VuZHMiLCJkb2MiLCJkb2N1bWVudEVsZW1lbnQiLCJkb2NFbCIsImJveCIsIm9yaWdpbiIsImdldE9yaWdpbiIsIndpZHRoIiwic2Nyb2xsV2lkdGgiLCJoZWlnaHQiLCJzY3JvbGxIZWlnaHQiLCJjbGllbnRUb3AiLCJjbGllbnRMZWZ0IiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJnZXRPZmZzZXRQYXJlbnQiLCJvZmZzZXRQYXJlbnQiLCJnZXRTY3JvbGxCYXJTaXplIiwiX3Njcm9sbEJhclNpemUiLCJpbm5lciIsImNyZWF0ZUVsZW1lbnQiLCJvdXRlciIsImV4dGVuZCIsInBvaW50ZXJFdmVudHMiLCJ2aXNpYmlsaXR5IiwiYXBwZW5kQ2hpbGQiLCJ3aWR0aENvbnRhaW5lZCIsIm9mZnNldFdpZHRoIiwid2lkdGhTY3JvbGwiLCJvdXQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJhcmdzIiwiQXJyYXkiLCJwcm90b3R5cGUiLCJhcHBseSIsInNsaWNlIiwiZm9yRWFjaCIsIm9iaiIsImtleSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsInJlbW92ZUNsYXNzIiwibmFtZSIsImNsYXNzTGlzdCIsInNwbGl0IiwiY2xzIiwidHJpbSIsInJlbW92ZSIsInJlZ2V4IiwiUmVnRXhwIiwiam9pbiIsImNsYXNzTmFtZSIsImdldENsYXNzTmFtZSIsInJlcGxhY2UiLCJzZXRDbGFzc05hbWUiLCJhZGRDbGFzcyIsImFkZCIsImhhc0NsYXNzIiwiY29udGFpbnMiLCJTVkdBbmltYXRlZFN0cmluZyIsImJhc2VWYWwiLCJzZXRBdHRyaWJ1dGUiLCJ1cGRhdGVDbGFzc2VzIiwiYWxsIiwiX2luaGVyaXRzIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwiT2JqZWN0IiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJ2YWx1ZSIsImVudW1lcmFibGUiLCJ3cml0YWJsZSIsImNvbmZpZ3VyYWJsZSIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwid2l0aGluIiwiYSIsImIiLCJkaWZmIiwibm93IiwicGVyZm9ybWFuY2UiLCJEYXRlIiwiYWRkT2Zmc2V0IiwiX2xlbiIsIm9mZnNldHMiLCJfa2V5IiwiX3JlZiIsInBhcnNlRmxvYXQiLCJvZmZzZXRUb1B4Iiwib2Zmc2V0Iiwic2l6ZSIsImdldEJvdW5kaW5nUmVjdCIsInRldGhlciIsInRvIiwic2Nyb2xsUGFyZW50cyIsInBhZ2VYT2Zmc2V0IiwicGFnZVlPZmZzZXQiLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJwb3MiLCJ3aW4iLCJCT1VORFNfRk9STUFUIiwic2lkZSIsImkiLCJ0b1VwcGVyQ2FzZSIsInN1YnN0ciIsIl9jcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImRlc2NyaXB0b3IiLCJkZWZpbmVQcm9wZXJ0eSIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIlRldGhlckJhc2UiLCJtb2R1bGVzIiwidW5pcXVlSWQiLCJpZCIsInplcm9Qb3NDYWNoZSIsImdldEF0dHJpYnV0ZSIsImRlZmVyIiwiZGVmZXJyZWQiLCJmbiIsImZsdXNoIiwicG9wIiwiRXZlbnRlZCIsImV2ZW50IiwiaGFuZGxlciIsImN0eCIsIm9uY2UiLCJiaW5kaW5ncyIsIm9uIiwic3BsaWNlIiwiX2JpbmRpbmdzJGV2ZW50JGkiLCJjb250ZXh0IiwiVXRpbHMiLCJfc2xpY2VkVG9BcnJheSIsInNsaWNlSXRlcmF0b3IiLCJhcnIiLCJfYXJyIiwiX24iLCJfZCIsIl9lIiwiX3MiLCJfaSIsIlN5bWJvbCIsIml0ZXJhdG9yIiwibmV4dCIsImRvbmUiLCJpc0FycmF5IiwiX2dldCIsIl94NiIsIl94NyIsIl94OCIsIl9hZ2FpbiIsIm9iamVjdCIsInByb3BlcnR5IiwicmVjZWl2ZXIiLCJGdW5jdGlvbiIsImRlc2MiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJnZXR0ZXIiLCJnZXQiLCJnZXRQcm90b3R5cGVPZiIsIkVycm9yIiwiX1RldGhlckJhc2UkVXRpbHMiLCJ0cmFuc2Zvcm1LZXkiLCJ0cmFuc2Zvcm1zIiwidGV0aGVycyIsImxhc3RDYWxsIiwibGFzdER1cmF0aW9uIiwicGVuZGluZ1RpbWVvdXQiLCJ0aWNrIiwiTWF0aCIsIm1pbiIsInNldFRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiTUlSUk9SX0xSIiwiY2VudGVyIiwiTUlSUk9SX1RCIiwibWlkZGxlIiwiT0ZGU0VUX01BUCIsImF1dG9Ub0ZpeGVkQXR0YWNobWVudCIsImF0dGFjaG1lbnQiLCJyZWxhdGl2ZVRvQXR0YWNobWVudCIsImF0dGFjaG1lbnRUb09mZnNldCIsInBhcnNlT2Zmc2V0IiwiX3ZhbHVlJHNwbGl0IiwiX3ZhbHVlJHNwbGl0MiIsInBhcnNlQXR0YWNobWVudCIsIlRldGhlckNsYXNzIiwiX0V2ZW50ZWQiLCJvcHRpb25zIiwiX3RoaXMiLCJiaW5kIiwiaGlzdG9yeSIsInNldE9wdGlvbnMiLCJpbml0aWFsaXplIiwiY2xhc3NlcyIsImNsYXNzUHJlZml4IiwiX3RoaXMyIiwiZGVmYXVsdHMiLCJ0YXJnZXRPZmZzZXQiLCJ0YXJnZXRBdHRhY2htZW50IiwiX29wdGlvbnMiLCJlbGVtZW50IiwidGFyZ2V0TW9kaWZpZXIiLCJqcXVlcnkiLCJxdWVyeVNlbGVjdG9yIiwiZ2V0Q2xhc3MiLCJhZGRUYXJnZXRDbGFzc2VzIiwiZGlzYWJsZSIsImVuYWJsZWQiLCJlbmFibGUiLCJib3VuZHMiLCJoYXNCb3R0b21TY3JvbGwiLCJzY3JvbGxCb3R0b20iLCJib3JkZXJUb3BXaWR0aCIsImJvcmRlckJvdHRvbVdpZHRoIiwiYm9yZGVyTGVmdFdpZHRoIiwiZml0QWRqIiwicG93IiwibWF4Iiwic2Nyb2xsUGVyY2VudGFnZSIsInNjcm9sbFRvcCIsIl9jYWNoZSIsIl90aGlzMyIsIl90aGlzNCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfdGhpczUiLCJlbGVtZW50QXR0YWNoIiwidGFyZ2V0QXR0YWNoIiwiX3RoaXM2Iiwic2lkZXMiLCJfYWRkQXR0YWNoQ2xhc3NlcyIsIl90aGlzNyIsImZsdXNoQ2hhbmdlcyIsImNsZWFyQ2FjaGUiLCJ1cGRhdGVBdHRhY2hDbGFzc2VzIiwiZWxlbWVudFBvcyIsImNhY2hlIiwibGFzdFNpemUiLCJfbGFzdFNpemUiLCJ0YXJnZXRQb3MiLCJnZXRUYXJnZXRCb3VuZHMiLCJ0YXJnZXRTaXplIiwibWFudWFsT2Zmc2V0IiwibWFudWFsVGFyZ2V0T2Zmc2V0IiwiX21vZHVsZTIiLCJyZXQiLCJzY3JvbGxiYXJTaXplIiwicGFnZSIsInZpZXdwb3J0IiwicGFyZW50RWxlbWVudCIsIm9wdGltaXphdGlvbnMiLCJtb3ZlRWxlbWVudCIsIm9mZnNldFBvc2l0aW9uIiwib2Zmc2V0UGFyZW50U3R5bGUiLCJvZmZzZXRQYXJlbnRTaXplIiwib2Zmc2V0Qm9yZGVyIiwidG9Mb3dlckNhc2UiLCJzY3JvbGxMZWZ0IiwibW92ZSIsInVuc2hpZnQiLCJfdGhpczgiLCJzYW1lIiwidHlwZSIsImZvdW5kIiwicG9pbnQiLCJjc3MiLCJ0cmFuc2NyaWJlIiwiX3NhbWUiLCJfcG9zIiwiZ3B1IiwieVBvcyIsInhQb3MiLCJtYXRjaE1lZGlhIiwibWF0Y2hlcyIsInJvdW5kIiwibW92ZWQiLCJib2R5RWxlbWVudCIsIm9mZnNldFBhcmVudElzQm9keSIsImN1cnJlbnROb2RlIiwidGFnTmFtZSIsIndyaXRlQ1NTIiwid3JpdGUiLCJ2YWwiLCJ0cmlnZ2VyIiwiY29uc3RyYWludHMiLCJ0YXJnZXRIZWlnaHQiLCJ0YXJnZXRXaWR0aCIsImFsbENsYXNzZXMiLCJjb25zdHJhaW50Iiwib3V0T2ZCb3VuZHNDbGFzcyIsInBpbm5lZENsYXNzIiwiYWRkQ2xhc3NlcyIsInRBdHRhY2htZW50IiwiZUF0dGFjaG1lbnQiLCJwaW4iLCJjaGFuZ2VBdHRhY2hYIiwiY2hhbmdlQXR0YWNoWSIsIl9hdHRhY2htZW50JHNwbGl0IiwiX2F0dGFjaG1lbnQkc3BsaXQyIiwibWFwIiwicCIsInBpbm5lZCIsIm9vYiIsIm9vYkNsYXNzIiwiYWJ1dHRlZCIsInRhcmdldFBvc1NpZGUiLCJzaGlmdCIsInNoaWZ0VG9wIiwic2hpZnRMZWZ0IiwiX3NoaWZ0IiwiX3NoaWZ0MiIsIlV0aWwiLCIkIiwidG9UeXBlIiwidG9TdHJpbmciLCJtYXRjaCIsImlzRWxlbWVudCIsImdldFNwZWNpYWxUcmFuc2l0aW9uRW5kRXZlbnQiLCJiaW5kVHlwZSIsInRyYW5zaXRpb24iLCJlbmQiLCJkZWxlZ2F0ZVR5cGUiLCJoYW5kbGUiLCJpcyIsImhhbmRsZU9iaiIsInRyYW5zaXRpb25FbmRUZXN0IiwiUVVuaXQiLCJUcmFuc2l0aW9uRW5kRXZlbnQiLCJ0cmFuc2l0aW9uRW5kRW11bGF0b3IiLCJkdXJhdGlvbiIsImNhbGxlZCIsIm9uZSIsIlRSQU5TSVRJT05fRU5EIiwidHJpZ2dlclRyYW5zaXRpb25FbmQiLCJXZWJraXRUcmFuc2l0aW9uIiwiTW96VHJhbnNpdGlvbiIsIk9UcmFuc2l0aW9uIiwiZ2V0VUlEIiwicHJlZml4IiwicmFuZG9tIiwiZ2V0RWxlbWVudEJ5SWQiLCJnZXRTZWxlY3RvckZyb21FbGVtZW50Iiwic2VsZWN0b3IiLCJyZWZsb3ciLCJvZmZzZXRIZWlnaHQiLCJzdXBwb3J0c1RyYW5zaXRpb25FbmQiLCJCb29sZWFuIiwidHlwZUNoZWNrQ29uZmlnIiwiY29tcG9uZW50TmFtZSIsImNvbmZpZyIsImNvbmZpZ1R5cGVzIiwiZXhwZWN0ZWRUeXBlcyIsInZhbHVlVHlwZSIsImVtdWxhdGVUcmFuc2l0aW9uRW5kIiwic3BlY2lhbCIsImpRdWVyeSIsIl90eXBlb2YiLCJNb2RhbCIsIk5BTUUiLCJFVkVOVF9LRVkiLCJKUVVFUllfTk9fQ09ORkxJQ1QiLCJEZWZhdWx0IiwiYmFja2Ryb3AiLCJrZXlib2FyZCIsImZvY3VzIiwic2hvdyIsIkRlZmF1bHRUeXBlIiwiRXZlbnQiLCJISURFIiwiSElEREVOIiwiU0hPVyIsIlNIT1dOIiwiRk9DVVNJTiIsIlJFU0laRSIsIkNMSUNLX0RJU01JU1MiLCJLRVlET1dOX0RJU01JU1MiLCJNT1VTRVVQX0RJU01JU1MiLCJNT1VTRURPV05fRElTTUlTUyIsIkNMSUNLX0RBVEFfQVBJIiwiQ2xhc3NOYW1lIiwiU0NST0xMQkFSX01FQVNVUkVSIiwiQkFDS0RST1AiLCJPUEVOIiwiRkFERSIsIlNlbGVjdG9yIiwiRElBTE9HIiwiREFUQV9UT0dHTEUiLCJEQVRBX0RJU01JU1MiLCJGSVhFRF9DT05URU5UIiwiX2NvbmZpZyIsIl9nZXRDb25maWciLCJfZWxlbWVudCIsIl9kaWFsb2ciLCJmaW5kIiwiX2JhY2tkcm9wIiwiX2lzU2hvd24iLCJfaXNCb2R5T3ZlcmZsb3dpbmciLCJfaWdub3JlQmFja2Ryb3BDbGljayIsIl9pc1RyYW5zaXRpb25pbmciLCJfb3JpZ2luYWxCb2R5UGFkZGluZyIsIl9zY3JvbGxiYXJXaWR0aCIsInRvZ2dsZSIsInJlbGF0ZWRUYXJnZXQiLCJoaWRlIiwic2hvd0V2ZW50IiwiaXNEZWZhdWx0UHJldmVudGVkIiwiX2NoZWNrU2Nyb2xsYmFyIiwiX3NldFNjcm9sbGJhciIsIl9zZXRFc2NhcGVFdmVudCIsIl9zZXRSZXNpemVFdmVudCIsIl9zaG93QmFja2Ryb3AiLCJfc2hvd0VsZW1lbnQiLCJwcmV2ZW50RGVmYXVsdCIsImhpZGVFdmVudCIsIm9mZiIsIl9oaWRlTW9kYWwiLCJkaXNwb3NlIiwicmVtb3ZlRGF0YSIsIk5vZGUiLCJFTEVNRU5UX05PREUiLCJkaXNwbGF5IiwicmVtb3ZlQXR0cmlidXRlIiwiX2VuZm9yY2VGb2N1cyIsInNob3duRXZlbnQiLCJ0cmFuc2l0aW9uQ29tcGxldGUiLCJoYXMiLCJ3aGljaCIsIl9oYW5kbGVVcGRhdGUiLCJfcmVzZXRBZGp1c3RtZW50cyIsIl9yZXNldFNjcm9sbGJhciIsIl9yZW1vdmVCYWNrZHJvcCIsImNhbGxiYWNrIiwiYW5pbWF0ZSIsImRvQW5pbWF0ZSIsImFwcGVuZFRvIiwiY3VycmVudFRhcmdldCIsImNhbGxiYWNrUmVtb3ZlIiwiX2FkanVzdERpYWxvZyIsImlzTW9kYWxPdmVyZmxvd2luZyIsInBhZGRpbmdMZWZ0IiwicGFkZGluZ1JpZ2h0IiwiX2dldFNjcm9sbGJhcldpZHRoIiwiYm9keVBhZGRpbmciLCJwYXJzZUludCIsInNjcm9sbERpdiIsInNjcm9sbGJhcldpZHRoIiwiX2pRdWVyeUludGVyZmFjZSIsImVhY2giLCJkYXRhIiwiX3RoaXM5IiwiJHRhcmdldCIsIm5vQ29uZmxpY3QiLCJUb29sdGlwIiwiYW5pbWF0aW9uIiwidGVtcGxhdGUiLCJ0aXRsZSIsImRlbGF5IiwiaHRtbCIsInBsYWNlbWVudCIsImNvbnRhaW5lciIsIkF0dGFjaG1lbnRNYXAiLCJUT1AiLCJSSUdIVCIsIkJPVFRPTSIsIkxFRlQiLCJIb3ZlclN0YXRlIiwiT1VUIiwiSU5TRVJURUQiLCJDTElDSyIsIkZPQ1VTT1VUIiwiTU9VU0VFTlRFUiIsIk1PVVNFTEVBVkUiLCJUT09MVElQIiwiVE9PTFRJUF9JTk5FUiIsIlRyaWdnZXIiLCJIT1ZFUiIsIkZPQ1VTIiwiTUFOVUFMIiwiX2lzRW5hYmxlZCIsIl90aW1lb3V0IiwiX2hvdmVyU3RhdGUiLCJfYWN0aXZlVHJpZ2dlciIsIl90ZXRoZXIiLCJ0aXAiLCJfc2V0TGlzdGVuZXJzIiwidG9nZ2xlRW5hYmxlZCIsImRhdGFLZXkiLCJEQVRBX0tFWSIsIl9nZXREZWxlZ2F0ZUNvbmZpZyIsImNsaWNrIiwiX2lzV2l0aEFjdGl2ZVRyaWdnZXIiLCJfZW50ZXIiLCJfbGVhdmUiLCJnZXRUaXBFbGVtZW50IiwiY2xlYW51cFRldGhlciIsImNsb3Nlc3QiLCJpc1dpdGhDb250ZW50IiwiaXNJblRoZURvbSIsInRpcElkIiwic2V0Q29udGVudCIsIl9nZXRBdHRhY2htZW50IiwiY29tcGxldGUiLCJwcmV2SG92ZXJTdGF0ZSIsIl9UUkFOU0lUSU9OX0RVUkFUSU9OIiwiZ2V0VGl0bGUiLCIkdGlwIiwic2V0RWxlbWVudENvbnRlbnQiLCIkZWxlbWVudCIsImNvbnRlbnQiLCJlbXB0eSIsImFwcGVuZCIsInRleHQiLCJkZXN0cm95IiwiZXZlbnRJbiIsImV2ZW50T3V0IiwiX2ZpeFRpdGxlIiwidGl0bGVUeXBlIl0sIm1hcHBpbmdzIjoiQUFJQSxRQUFBQSxpQkFBQUMsRUFBQUMsR0FBQSxLQUFBRCxZQUFBQyxJQUFBLEtBQUEsSUFBQUMsV0FBQSxxQ0NBQSxRQUFBSCxpQkFBQUMsRUFBQUMsR0FBQSxLQUFBRCxZQUFBQyxJQUFBLEtBQUEsSUFBQUMsV0FBQSxzQ0NGQSxTQUFBQyxFQUFBQyxHQUNBLGtCQUFBQyxTQUFBQSxPQUFBQyxJQUNBRCxPQUFBRCxHQUNBLGdCQUFBRyxTQUNBQyxPQUFBRCxRQUFBSCxFQUFBSyxRQUFBRixRQUFBQyxRQUVBTCxFQUFBTyxPQUFBTixLQUVBTyxLQUFBLFNBQUFGLEVBQUFGLEVBQUFDLEdBRUEsWUFJQSxTQUFBVCxHQUFBQyxFQUFBQyxHQUFBLEtBQUFELFlBQUFDLElBQUEsS0FBQSxJQUFBQyxXQUFBLHFDQVdBLFFBQUFVLEdBQUFDLEdBQ0EsR0FBQUMsR0FBQUQsRUFBQUUsd0JBSUFDLElBQ0EsS0FBQSxHQUFBQyxLQUFBSCxHQUNBRSxFQUFBQyxHQUFBSCxFQUFBRyxFQUdBLElBQUFKLEVBQUFLLGdCQUFBQyxTQUFBLENBQ0EsR0FBQUMsR0FBQVAsRUFBQUssY0FBQUcsWUFBQUMsWUFDQSxJQUFBRixFQUFBLENBQ0EsR0FBQUcsR0FBQVgsRUFBQVEsRUFDQUosR0FBQVEsS0FBQUQsRUFBQUMsSUFDQVIsRUFBQVMsUUFBQUYsRUFBQUMsSUFDQVIsRUFBQVUsTUFBQUgsRUFBQUcsS0FDQVYsRUFBQVcsT0FBQUosRUFBQUcsTUFJQSxNQUFBVixHQUdBLFFBQUFZLEdBQUFDLEdBR0EsR0FBQUMsR0FBQUMsaUJBQUFGLE9BQ0FHLEVBQUFGLEVBQUFFLFNBQ0FDLElBRUEsSUFBQSxVQUFBRCxFQUNBLE9BQUFILEVBSUEsS0FEQSxHQUFBSyxHQUFBTCxHQUNBSyxFQUFBQSxFQUFBQyxhQUFBRCxHQUFBLElBQUFBLEVBQUFFLFVBQUEsQ0FDQSxHQUFBQyxPQUFBQyxFQUNBLEtBQ0FELEVBQUFOLGlCQUFBRyxHQUNBLE1BQUFLLElBRUEsT0FBQSxLQUFBRixHQUFBLE9BQUFBLEVBRUEsTUFEQUosR0FBQU8sS0FBQU4sR0FDQUQsQ0FHQSxJQUFBUSxHQUFBSixFQUNBSyxFQUFBRCxFQUFBQyxTQUNBQyxFQUFBRixFQUFBRSxTQUdBLGlCQUFBQyxLQUFBRixFQUZBRCxFQUFBSSxVQUVBRixLQUNBLGFBQUFYLElBQUEsV0FBQSxXQUFBLFNBQUFjLFFBQUFULEVBQUFMLFdBQUEsSUFDQUMsRUFBQU8sS0FBQU4sR0FZQSxNQVBBRCxHQUFBTyxLQUFBWCxFQUFBWCxjQUFBNkIsTUFHQWxCLEVBQUFYLGdCQUFBQyxVQUNBYyxFQUFBTyxLQUFBWCxFQUFBWCxjQUFBRyxhQUdBWSxFQTRDQSxRQUFBZSxLQUNBQyxHQUNBOUIsU0FBQTRCLEtBQUFHLFlBQUFELEdBRUFBLEVBQUEsS0FHQSxRQUFBRSxHQUFBdEIsR0FDQSxHQUFBdUIsT0FBQWQsRUFDQVQsS0FBQVYsVUFDQWlDLEVBQUFqQyxTQUNBVSxFQUFBVixTQUFBa0MsaUJBRUFELEVBQUF2QixFQUFBWCxhQUdBLElBQUFvQyxHQUFBRixFQUFBQyxnQkFFQUUsRUFBQTNDLEVBQUFpQixHQUVBMkIsRUFBQUMsR0FpQkEsT0FmQUYsR0FBQS9CLEtBQUFnQyxFQUFBaEMsSUFDQStCLEVBQUE3QixNQUFBOEIsRUFBQTlCLFNBRUEsS0FBQTZCLEVBQUFHLFFBQ0FILEVBQUFHLE1BQUF2QyxTQUFBNEIsS0FBQVksWUFBQUosRUFBQTdCLEtBQUE2QixFQUFBNUIsV0FFQSxLQUFBNEIsRUFBQUssU0FDQUwsRUFBQUssT0FBQXpDLFNBQUE0QixLQUFBYyxhQUFBTixFQUFBL0IsSUFBQStCLEVBQUE5QixRQUdBOEIsRUFBQS9CLElBQUErQixFQUFBL0IsSUFBQThCLEVBQUFRLFVBQ0FQLEVBQUE3QixLQUFBNkIsRUFBQTdCLEtBQUE0QixFQUFBUyxXQUNBUixFQUFBNUIsTUFBQXlCLEVBQUFMLEtBQUFpQixZQUFBVCxFQUFBRyxNQUFBSCxFQUFBN0IsS0FDQTZCLEVBQUE5QixPQUFBMkIsRUFBQUwsS0FBQWtCLGFBQUFWLEVBQUFLLE9BQUFMLEVBQUEvQixJQUVBK0IsRUFHQSxRQUFBVyxHQUFBckMsR0FDQSxNQUFBQSxHQUFBc0MsY0FBQWhELFNBQUFrQyxnQkFJQSxRQUFBZSxLQUNBLEdBQUFDLEVBQ0EsTUFBQUEsRUFFQSxJQUFBQyxHQUFBbkQsU0FBQW9ELGNBQUEsTUFDQUQsR0FBQWpDLE1BQUFxQixNQUFBLE9BQ0FZLEVBQUFqQyxNQUFBdUIsT0FBQSxPQUVBLElBQUFZLEdBQUFyRCxTQUFBb0QsY0FBQSxNQUNBRSxHQUFBRCxFQUFBbkMsT0FDQUwsU0FBQSxXQUNBUixJQUFBLEVBQ0FFLEtBQUEsRUFDQWdELGNBQUEsT0FDQUMsV0FBQSxTQUNBakIsTUFBQSxRQUNBRSxPQUFBLFFBQ0FsQixTQUFBLFdBR0E4QixFQUFBSSxZQUFBTixHQUVBbkQsU0FBQTRCLEtBQUE2QixZQUFBSixFQUVBLElBQUFLLEdBQUFQLEVBQUFRLFdBQ0FOLEdBQUFuQyxNQUFBSyxTQUFBLFFBQ0EsSUFBQXFDLEdBQUFULEVBQUFRLFdBRUFELEtBQUFFLElBQ0FBLEVBQUFQLEVBQUFSLGFBR0E3QyxTQUFBNEIsS0FBQUcsWUFBQXNCLEVBRUEsSUFBQWQsR0FBQW1CLEVBQUFFLENBR0EsT0FEQVYsSUFBQVgsTUFBQUEsRUFBQUUsT0FBQUYsR0FJQSxRQUFBZSxLQUNBLEdBQUFPLEdBQUFDLFVBQUFDLFFBQUEsT0FBQTVDLEtBQUEyQyxVQUFBLE1BQUFBLFVBQUEsR0FFQUUsSUFjQSxPQVpBQyxPQUFBQyxVQUFBN0MsS0FBQThDLE1BQUFILEVBQUFGLFdBRUFFLEVBQUFJLE1BQUEsR0FBQUMsUUFBQSxTQUFBQyxHQUNBLEdBQUFBLEVBQ0EsSUFBQSxHQUFBQyxLQUFBRCxRQUNBRSxlQUFBQyxLQUFBSCxFQUFBQyxLQUNBVixFQUFBVSxHQUFBRCxFQUFBQyxNQU1BVixFQUdBLFFBQUFhLEdBQUFoRSxFQUFBaUUsR0FDQSxPQUFBLEtBQUFqRSxFQUFBa0UsVUFDQUQsRUFBQUUsTUFBQSxLQUFBUixRQUFBLFNBQUFTLEdBQ0FBLEVBQUFDLFFBQ0FyRSxFQUFBa0UsVUFBQUksT0FBQUYsU0FHQSxDQUNBLEdBQUFHLEdBQUEsR0FBQUMsUUFBQSxRQUFBUCxFQUFBRSxNQUFBLEtBQUFNLEtBQUEsS0FBQSxRQUFBLE1BQ0FDLEVBQUFDLEVBQUEzRSxHQUFBNEUsUUFBQUwsRUFBQSxJQUNBTSxHQUFBN0UsRUFBQTBFLElBSUEsUUFBQUksR0FBQTlFLEVBQUFpRSxHQUNBLE9BQUEsS0FBQWpFLEVBQUFrRSxVQUNBRCxFQUFBRSxNQUFBLEtBQUFSLFFBQUEsU0FBQVMsR0FDQUEsRUFBQUMsUUFDQXJFLEVBQUFrRSxVQUFBYSxJQUFBWCxTQUdBLENBQ0FKLEVBQUFoRSxFQUFBaUUsRUFDQSxJQUFBRyxHQUFBTyxFQUFBM0UsR0FBQSxJQUFBaUUsQ0FDQVksR0FBQTdFLEVBQUFvRSxJQUlBLFFBQUFZLEdBQUFoRixFQUFBaUUsR0FDQSxPQUFBLEtBQUFqRSxFQUFBa0UsVUFDQSxNQUFBbEUsR0FBQWtFLFVBQUFlLFNBQUFoQixFQUVBLElBQUFTLEdBQUFDLEVBQUEzRSxFQUNBLE9BQUEsSUFBQXdFLFFBQUEsUUFBQVAsRUFBQSxRQUFBLE1BQUFsRCxLQUFBMkQsR0FHQSxRQUFBQyxHQUFBM0UsR0FHQSxNQUFBQSxHQUFBMEUsb0JBQUExRSxHQUFBWCxjQUFBRyxZQUFBMEYsa0JBQ0FsRixFQUFBMEUsVUFBQVMsUUFFQW5GLEVBQUEwRSxVQUdBLFFBQUFHLEdBQUE3RSxFQUFBMEUsR0FDQTFFLEVBQUFvRixhQUFBLFFBQUFWLEdBR0EsUUFBQVcsR0FBQXJGLEVBQUErRSxFQUFBTyxHQUdBQSxFQUFBM0IsUUFBQSxTQUFBUyxJQUNBLElBQUFXLEVBQUE5RCxRQUFBbUQsSUFBQVksRUFBQWhGLEVBQUFvRSxJQUNBSixFQUFBaEUsRUFBQW9FLEtBSUFXLEVBQUFwQixRQUFBLFNBQUFTLEdBQ0FZLEVBQUFoRixFQUFBb0UsSUFDQVUsRUFBQTlFLEVBQUFvRSxLQTRIQSxRQUFBbEcsR0FBQUMsRUFBQUMsR0FBQSxLQUFBRCxZQUFBQyxJQUFBLEtBQUEsSUFBQUMsV0FBQSxxQ0FFQSxRQUFBa0gsR0FBQUMsRUFBQUMsR0FBQSxHQUFBLGtCQUFBQSxJQUFBLE9BQUFBLEVBQUEsS0FBQSxJQUFBcEgsV0FBQSxpRUFBQW9ILEdBQUFELEdBQUFoQyxVQUFBa0MsT0FBQUMsT0FBQUYsR0FBQUEsRUFBQWpDLFdBQUFvQyxhQUFBQyxNQUFBTCxFQUFBTSxZQUFBLEVBQUFDLFVBQUEsRUFBQUMsY0FBQSxLQUFBUCxJQUFBQyxPQUFBTyxlQUFBUCxPQUFBTyxlQUFBVCxFQUFBQyxHQUFBRCxFQUFBVSxVQUFBVCxHQW1CQSxRQUFBVSxHQUFBQyxFQUFBQyxHQUNBLEdBQUFDLEdBQUFsRCxVQUFBQyxRQUFBLE9BQUE1QyxLQUFBMkMsVUFBQSxHQUFBLEVBQUFBLFVBQUEsRUFFQSxPQUFBZ0QsR0FBQUUsR0FBQUQsR0FBQUEsR0FBQUQsRUFBQUUsRUEyQkEsUUFBQUMsS0FDQSxNQUFBLG1CQUFBQyxrQkFBQSxLQUFBQSxZQUFBRCxJQUNBQyxZQUFBRCxPQUVBLEdBQUFFLE1BMkZBLFFBQUFDLEtBR0EsSUFBQSxHQUZBdkQsSUFBQXhELElBQUEsRUFBQUUsS0FBQSxHQUVBOEcsRUFBQXZELFVBQUFDLE9BQUF1RCxFQUFBckQsTUFBQW9ELEdBQUFFLEVBQUEsRUFBQUEsRUFBQUYsRUFBQUUsSUFDQUQsRUFBQUMsR0FBQXpELFVBQUF5RCxFQWtCQSxPQWZBRCxHQUFBakQsUUFBQSxTQUFBbUQsR0FDQSxHQUFBbkgsR0FBQW1ILEVBQUFuSCxJQUNBRSxFQUFBaUgsRUFBQWpILElBRUEsaUJBQUFGLEtBQ0FBLEVBQUFvSCxXQUFBcEgsRUFBQSxLQUVBLGdCQUFBRSxLQUNBQSxFQUFBa0gsV0FBQWxILEVBQUEsS0FHQXNELEVBQUF4RCxLQUFBQSxFQUNBd0QsRUFBQXRELE1BQUFBLElBR0FzRCxFQUdBLFFBQUE2RCxHQUFBQyxFQUFBQyxHQVFBLE1BUEEsZ0JBQUFELEdBQUFwSCxPQUFBLElBQUFvSCxFQUFBcEgsS0FBQW9CLFFBQUEsT0FDQWdHLEVBQUFwSCxLQUFBa0gsV0FBQUUsRUFBQXBILEtBQUEsSUFBQSxJQUFBcUgsRUFBQXJGLE9BRUEsZ0JBQUFvRixHQUFBdEgsTUFBQSxJQUFBc0gsRUFBQXRILElBQUFzQixRQUFBLE9BQ0FnRyxFQUFBdEgsSUFBQW9ILFdBQUFFLEVBQUF0SCxJQUFBLElBQUEsSUFBQXVILEVBQUFuRixRQUdBa0YsRUFxc0JBLFFBQUFFLEdBQUFDLEVBQUFDLEdBd0NBLE1BdkNBLGlCQUFBQSxFQUNBQSxFQUFBRCxFQUFBRSxjQUFBLEdBQ0EsV0FBQUQsSUFDQUEsR0FBQUUsWUFBQUMsWUFBQUMsV0FBQUYsWUFBQUcsWUFBQUYsY0FHQUgsSUFBQS9ILFdBQ0ErSCxFQUFBQSxFQUFBN0YscUJBR0EsS0FBQTZGLEVBQUE5RyxVQUNBLFdBQ0EsR0FBQXZCLEdBQUFxSSxFQUNBSCxFQUFBNUYsRUFBQStGLEdBQ0FNLEVBQUFULEVBQ0ExRyxFQUFBTixpQkFBQW1ILEVBS0EsSUFIQUEsR0FBQU0sRUFBQTlILEtBQUE4SCxFQUFBaEksSUFBQXVILEVBQUFyRixNQUFBOEYsRUFBQTlILEtBQUFxSCxFQUFBbkYsT0FBQTRGLEVBQUFoSSxLQUdBWCxFQUFBSyxnQkFBQUMsU0FBQSxDQUNBLEdBQUFzSSxHQUFBNUksRUFBQUssY0FBQUcsV0FDQTZILEdBQUEsSUFBQU8sRUFBQUwsWUFDQUYsRUFBQSxJQUFBTyxFQUFBSixZQUNBSCxFQUFBLElBQUFPLEVBQUFMLFlBQ0FGLEVBQUEsSUFBQU8sRUFBQUosWUFHQUssRUFBQWxFLFFBQUEsU0FBQW1FLEVBQUFDLEdBQ0FELEVBQUFBLEVBQUEsR0FBQUUsY0FBQUYsRUFBQUcsT0FBQSxHQUNBLFFBQUFILEdBQUEsU0FBQUEsRUFDQVQsRUFBQVUsSUFBQWhCLFdBQUF2RyxFQUFBLFNBQUFzSCxFQUFBLFVBRUFULEVBQUFVLElBQUFoQixXQUFBdkcsRUFBQSxTQUFBc0gsRUFBQSxlQU1BVCxFQTV6Q0EsR0FBQWEsR0FBQSxXQUFBLFFBQUFDLEdBQUFDLEVBQUFDLEdBQUEsSUFBQSxHQUFBTixHQUFBLEVBQUFBLEVBQUFNLEVBQUFoRixPQUFBMEUsSUFBQSxDQUFBLEdBQUFPLEdBQUFELEVBQUFOLEVBQUFPLEdBQUF4QyxXQUFBd0MsRUFBQXhDLGFBQUEsRUFBQXdDLEVBQUF0QyxjQUFBLEVBQUEsU0FBQXNDLEtBQUFBLEVBQUF2QyxVQUFBLEdBQUFMLE9BQUE2QyxlQUFBSCxFQUFBRSxFQUFBekUsSUFBQXlFLElBQUEsTUFBQSxVQUFBbEssRUFBQW9LLEVBQUFDLEdBQUEsTUFBQUQsSUFBQUwsRUFBQS9KLEVBQUFvRixVQUFBZ0YsR0FBQUMsR0FBQU4sRUFBQS9KLEVBQUFxSyxHQUFBckssTUFJQXNLLE1BQUFqSSxPQUNBLEtBQUFpSSxJQUNBQSxHQUFBQyxZQUdBLElBQUF2SCxHQUFBLEtBeUVBd0gsRUFBQSxXQUNBLEdBQUFDLEdBQUEsQ0FDQSxPQUFBLFlBQ0EsUUFBQUEsTUFJQUMsS0FDQWxILEVBQUEsV0FLQSxHQUFBNUMsR0FBQW9DLENBQ0FwQyxJQUFBTSxTQUFBNEIsS0FBQStELFNBQUFqRyxLQUNBQSxFQUFBTSxTQUFBb0QsY0FBQSxPQUNBMUQsRUFBQW9HLGFBQUEsaUJBQUF3RCxLQUNBaEcsRUFBQTVELEVBQUF3QixPQUNBYixJQUFBLEVBQ0FFLEtBQUEsRUFDQU0sU0FBQSxhQUdBYixTQUFBNEIsS0FBQTZCLFlBQUEvRCxHQUVBb0MsRUFBQXBDLEVBR0EsSUFBQTZKLEdBQUE3SixFQUFBK0osYUFBQSxpQkFVQSxZQVRBLEtBQUFELEVBQUFELEtBQ0FDLEVBQUFELEdBQUE5SixFQUFBQyxHQUdBZ0ssRUFBQSxpQkFDQUYsR0FBQUQsTUFJQUMsRUFBQUQsSUErQ0FyRyxFQUFBLEtBOEhBeUcsS0FFQUQsRUFBQSxTQUFBRSxHQUNBRCxFQUFBdEksS0FBQXVJLElBR0FDLEVBQUEsV0FFQSxJQURBLEdBQUFELE9BQUF6SSxHQUNBeUksRUFBQUQsRUFBQUcsT0FDQUYsS0FJQUcsRUFBQSxXQUNBLFFBQUFBLEtBQ0FuTCxFQUFBWSxLQUFBdUssR0EwRUEsTUF2RUFuQixHQUFBbUIsSUFDQXhGLElBQUEsS0FDQWdDLE1BQUEsU0FBQXlELEVBQUFDLEVBQUFDLEdBQ0EsR0FBQUMsS0FBQXJHLFVBQUFDLFFBQUEsT0FBQTVDLEtBQUEyQyxVQUFBLEtBQUFBLFVBQUEsT0FFQSxLQUFBdEUsS0FBQTRLLFdBQ0E1SyxLQUFBNEssaUJBRUEsS0FBQTVLLEtBQUE0SyxTQUFBSixLQUNBeEssS0FBQTRLLFNBQUFKLE9BRUF4SyxLQUFBNEssU0FBQUosR0FBQTNJLE1BQUE0SSxRQUFBQSxFQUFBQyxJQUFBQSxFQUFBQyxLQUFBQSxPQUdBNUYsSUFBQSxPQUNBZ0MsTUFBQSxTQUFBeUQsRUFBQUMsRUFBQUMsR0FDQTFLLEtBQUE2SyxHQUFBTCxFQUFBQyxFQUFBQyxHQUFBLE1BR0EzRixJQUFBLE1BQ0FnQyxNQUFBLFNBQUF5RCxFQUFBQyxHQUNBLE9BQUEsS0FBQXpLLEtBQUE0SyxjQUFBLEtBQUE1SyxLQUFBNEssU0FBQUosR0FJQSxPQUFBLEtBQUFDLFFBQ0F6SyxNQUFBNEssU0FBQUosT0FHQSxLQURBLEdBQUF2QixHQUFBLEVBQ0FBLEVBQUFqSixLQUFBNEssU0FBQUosR0FBQWpHLFFBQ0F2RSxLQUFBNEssU0FBQUosR0FBQXZCLEdBQUF3QixVQUFBQSxFQUNBekssS0FBQTRLLFNBQUFKLEdBQUFNLE9BQUE3QixFQUFBLEtBRUFBLEtBTUFsRSxJQUFBLFVBQ0FnQyxNQUFBLFNBQUF5RCxHQUNBLE9BQUEsS0FBQXhLLEtBQUE0SyxVQUFBNUssS0FBQTRLLFNBQUFKLEdBQUEsQ0FHQSxJQUFBLEdBRkF2QixHQUFBLEVBRUFwQixFQUFBdkQsVUFBQUMsT0FBQUMsRUFBQUMsTUFBQW9ELEVBQUEsRUFBQUEsRUFBQSxFQUFBLEdBQUFFLEVBQUEsRUFBQUEsRUFBQUYsRUFBQUUsSUFDQXZELEVBQUF1RCxFQUFBLEdBQUF6RCxVQUFBeUQsRUFHQSxNQUFBa0IsRUFBQWpKLEtBQUE0SyxTQUFBSixHQUFBakcsUUFBQSxDQUNBLEdBQUF3RyxHQUFBL0ssS0FBQTRLLFNBQUFKLEdBQUF2QixHQUNBd0IsRUFBQU0sRUFBQU4sUUFDQUMsRUFBQUssRUFBQUwsSUFDQUMsRUFBQUksRUFBQUosS0FFQUssRUFBQU4sTUFDQSxLQUFBTSxJQUNBQSxFQUFBaEwsTUFHQXlLLEVBQUE5RixNQUFBcUcsRUFBQXhHLEdBRUFtRyxFQUNBM0ssS0FBQTRLLFNBQUFKLEdBQUFNLE9BQUE3QixFQUFBLEtBRUFBLFFBT0FzQixJQUdBWCxHQUFBcUIsT0FDQWhMLDRCQUFBQSxFQUNBZ0IsaUJBQUFBLEVBQ0F1QixVQUFBQSxFQUNBZSxnQkFBQUEsRUFDQU8sT0FBQUEsRUFDQWtDLFNBQUFBLEVBQ0FkLFlBQUFBLEVBQ0FnQixTQUFBQSxFQUNBSyxjQUFBQSxFQUNBMkQsTUFBQUEsRUFDQUcsTUFBQUEsRUFDQVAsU0FBQUEsRUFDQVMsUUFBQUEsRUFDQTlHLGlCQUFBQSxFQUNBcEIsbUJBQUFBLEVBTUEsSUFBQTZJLEdBQUEsV0FBQSxRQUFBQyxHQUFBQyxFQUFBbkMsR0FBQSxHQUFBb0MsTUFBQUMsR0FBQSxFQUFBQyxHQUFBLEVBQUFDLE1BQUE3SixFQUFBLEtBQUEsSUFBQSxHQUFBOEosR0FBQUMsRUFBQU4sRUFBQU8sT0FBQUMsY0FBQU4sR0FBQUcsRUFBQUMsRUFBQUcsUUFBQUMsUUFBQVQsRUFBQXhKLEtBQUE0SixFQUFBMUUsUUFBQWtDLEdBQUFvQyxFQUFBOUcsU0FBQTBFLEdBQUFxQyxHQUFBLElBQUEsTUFBQTFKLEdBQUEySixHQUFBLEVBQUFDLEVBQUE1SixFQUFBLFFBQUEsS0FBQTBKLEdBQUFJLEVBQUEsUUFBQUEsRUFBQSxTQUFBLFFBQUEsR0FBQUgsRUFBQSxLQUFBQyxJQUFBLE1BQUFILEdBQUEsTUFBQSxVQUFBRCxFQUFBbkMsR0FBQSxHQUFBeEUsTUFBQXNILFFBQUFYLEdBQUEsTUFBQUEsRUFBQSxJQUFBTyxPQUFBQyxXQUFBaEYsUUFBQXdFLEdBQUEsTUFBQUQsR0FBQUMsRUFBQW5DLEVBQUEsTUFBQSxJQUFBMUosV0FBQSw0REFFQTZKLEVBQUEsV0FBQSxRQUFBQyxHQUFBQyxFQUFBQyxHQUFBLElBQUEsR0FBQU4sR0FBQSxFQUFBQSxFQUFBTSxFQUFBaEYsT0FBQTBFLElBQUEsQ0FBQSxHQUFBTyxHQUFBRCxFQUFBTixFQUFBTyxHQUFBeEMsV0FBQXdDLEVBQUF4QyxhQUFBLEVBQUF3QyxFQUFBdEMsY0FBQSxFQUFBLFNBQUFzQyxLQUFBQSxFQUFBdkMsVUFBQSxHQUFBTCxPQUFBNkMsZUFBQUgsRUFBQUUsRUFBQXpFLElBQUF5RSxJQUFBLE1BQUEsVUFBQWxLLEVBQUFvSyxFQUFBQyxHQUFBLE1BQUFELElBQUFMLEVBQUEvSixFQUFBb0YsVUFBQWdGLEdBQUFDLEdBQUFOLEVBQUEvSixFQUFBcUssR0FBQXJLLE1BRUEwTSxFQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEdBQUEsSUFBQSxHQUFBQyxJQUFBLEVBQUFBLEdBQUEsQ0FBQSxHQUFBQyxHQUFBSixFQUFBSyxFQUFBSixFQUFBSyxFQUFBSixDQUFBQyxJQUFBLEVBQUEsT0FBQUMsSUFBQUEsRUFBQUcsU0FBQTlILFVBQUEsSUFBQStILEdBQUE3RixPQUFBOEYseUJBQUFMLEVBQUFDLEVBQUEsUUFBQTNLLEtBQUE4SyxFQUFBLENBQUEsR0FBQSxTQUFBQSxHQUFBLE1BQUFBLEdBQUExRixLQUFBLElBQUE0RixHQUFBRixFQUFBRyxHQUFBLFFBQUFqTCxLQUFBZ0wsRUFBQSxNQUFBLE9BQUFBLEdBQUExSCxLQUFBc0gsR0FBQSxHQUFBaEwsR0FBQXFGLE9BQUFpRyxlQUFBUixFQUFBLElBQUEsT0FBQTlLLEVBQUEsTUFBQTBLLEdBQUExSyxFQUFBMkssRUFBQUksRUFBQUgsRUFBQUksRUFBQUgsR0FBQSxFQUFBSyxFQUFBbEwsTUFBQUksSUFNQSxRQUFBLEtBQUFpSSxFQUNBLEtBQUEsSUFBQWtELE9BQUEsc0RBR0EsSUFBQUMsR0FBQW5ELEVBQUFxQixNQUNBaEssRUFBQThMLEVBQUE5TCxpQkFDQXVCLEVBQUF1SyxFQUFBdkssVUFDQWUsRUFBQXdKLEVBQUF4SixnQkFDQU8sRUFBQWlKLEVBQUFqSixPQUNBa0MsRUFBQStHLEVBQUEvRyxTQUNBZCxFQUFBNkgsRUFBQTdILFlBQ0FxQixFQUFBd0csRUFBQXhHLGNBQ0EyRCxFQUFBNkMsRUFBQTdDLE1BQ0FHLEVBQUEwQyxFQUFBMUMsTUFDQTVHLEVBQUFzSixFQUFBdEosaUJBQ0FwQixFQUFBMEssRUFBQTFLLG1CQVFBMkssRUFBQSxXQUNBLEdBQUEsbUJBQUF4TSxVQUNBLE1BQUEsRUFLQSxLQUFBLEdBSEFVLEdBQUFWLFNBQUFvRCxjQUFBLE9BRUFxSixHQUFBLFlBQUEsa0JBQUEsYUFBQSxlQUFBLGVBQ0FoRSxFQUFBLEVBQUFBLEVBQUFnRSxFQUFBMUksU0FBQTBFLEVBQUEsQ0FDQSxHQUFBbEUsR0FBQWtJLEVBQUFoRSxFQUNBLFFBQUF0SCxLQUFBVCxFQUFBUSxNQUFBcUQsR0FDQSxNQUFBQSxPQUtBbUksS0FFQTdMLEVBQUEsV0FDQTZMLEVBQUFySSxRQUFBLFNBQUF5RCxHQUNBQSxFQUFBakgsVUFBQSxLQUVBZ0osTUFVQSxXQUNBLEdBQUE4QyxHQUFBLEtBQ0FDLEVBQUEsS0FDQUMsRUFBQSxLQUVBQyxFQUFBLFFBQUFBLEtBQ0EsT0FBQSxLQUFBRixHQUFBQSxFQUFBLEdBTUEsTUFKQUEsR0FBQUcsS0FBQUMsSUFBQUosRUFBQSxHQUFBLFVBR0FDLEVBQUFJLFdBQUFILEVBQUEsVUFJQSxLQUFBSCxHQUFBMUYsSUFBQTBGLEVBQUEsS0FLQSxNQUFBRSxJQUNBSyxhQUFBTCxHQUNBQSxFQUFBLE1BR0FGLEVBQUExRixJQUNBcEcsSUFDQStMLEVBQUEzRixJQUFBMEYsR0FHQSxvQkFBQVEsYUFBQSxLQUFBQSxPQUFBQyxtQkFDQSxTQUFBLFNBQUEsYUFBQS9JLFFBQUEsU0FBQTJGLEdBQ0FtRCxPQUFBQyxpQkFBQXBELEVBQUE4QyxPQUtBLElBQUFPLElBQ0FDLE9BQUEsU0FDQS9NLEtBQUEsUUFDQUMsTUFBQSxRQUdBK00sR0FDQUMsT0FBQSxTQUNBbk4sSUFBQSxTQUNBQyxPQUFBLE9BR0FtTixHQUNBcE4sSUFBQSxFQUNBRSxLQUFBLEVBQ0FpTixPQUFBLE1BQ0FGLE9BQUEsTUFDQWhOLE9BQUEsT0FDQUUsTUFBQSxRQUdBa04sRUFBQSxTQUFBQyxFQUFBQyxHQUNBLEdBQUFyTixHQUFBb04sRUFBQXBOLEtBQ0FGLEVBQUFzTixFQUFBdE4sR0FVQSxPQVJBLFNBQUFFLElBQ0FBLEVBQUE4TSxFQUFBTyxFQUFBck4sT0FHQSxTQUFBRixJQUNBQSxFQUFBa04sRUFBQUssRUFBQXZOLE9BR0FFLEtBQUFBLEVBQUFGLElBQUFBLElBR0F3TixFQUFBLFNBQUFGLEdBQ0EsR0FBQXBOLEdBQUFvTixFQUFBcE4sS0FDQUYsRUFBQXNOLEVBQUF0TixHQVVBLFlBUkEsS0FBQW9OLEVBQUFFLEVBQUFwTixRQUNBQSxFQUFBa04sRUFBQUUsRUFBQXBOLFdBR0EsS0FBQWtOLEVBQUFFLEVBQUF0TixPQUNBQSxFQUFBb04sRUFBQUUsRUFBQXROLE9BR0FFLEtBQUFBLEVBQUFGLElBQUFBLElBdUNBeU4sRUFBQSxTQUFBdkgsR0FDQSxHQUFBd0gsR0FBQXhILEVBQUExQixNQUFBLEtBRUFtSixFQUFBdEQsRUFBQXFELEVBQUEsRUFLQSxRQUFBMU4sSUFIQTJOLEVBQUEsR0FHQXpOLEtBRkF5TixFQUFBLEtBSUFDLEVBQUFILEVBRUFJLEVBQUEsU0FBQUMsR0FHQSxRQUFBRCxHQUFBRSxHQUNBLEdBQUFDLEdBQUE3TyxJQUVBWixHQUFBWSxLQUFBME8sR0FFQTFDLEVBQUFwRixPQUFBaUcsZUFBQTZCLEVBQUFoSyxXQUFBLGNBQUExRSxNQUFBaUYsS0FBQWpGLE1BQ0FBLEtBQUFxQixTQUFBckIsS0FBQXFCLFNBQUF5TixLQUFBOU8sTUFFQWtOLEVBQUFyTCxLQUFBN0IsTUFFQUEsS0FBQStPLFdBRUEvTyxLQUFBZ1AsV0FBQUosR0FBQSxHQUVBaEYsRUFBQUMsUUFBQWhGLFFBQUEsU0FBQWhGLE9BQ0EsS0FBQUEsRUFBQW9QLFlBQ0FwUCxFQUFBb1AsV0FBQWhLLEtBQUE0SixLQUlBN08sS0FBQXFCLFdBeW9CQSxNQS9wQkFvRixHQUFBaUksRUFBQUMsR0F5QkF2RixFQUFBc0YsSUFDQTNKLElBQUEsV0FDQWdDLE1BQUEsV0FDQSxHQUFBaEMsR0FBQVQsVUFBQUMsUUFBQSxPQUFBNUMsS0FBQTJDLFVBQUEsR0FBQSxHQUFBQSxVQUFBLEdBQ0E0SyxFQUFBbFAsS0FBQTRPLFFBQUFNLE9BRUEsWUFBQSxLQUFBQSxHQUFBQSxFQUFBbkssR0FDQS9FLEtBQUE0TyxRQUFBTSxRQUFBbkssR0FDQS9FLEtBQUE0TyxRQUFBTyxZQUNBblAsS0FBQTRPLFFBQUFPLFlBQUEsSUFBQXBLLEVBRUFBLEtBSUFBLElBQUEsYUFDQWdDLE1BQUEsU0FBQTZILEdBQ0EsR0FBQVEsR0FBQXBQLEtBRUE2SSxFQUFBdkUsVUFBQUMsUUFBQSxPQUFBNUMsS0FBQTJDLFVBQUEsSUFBQUEsVUFBQSxHQUVBK0ssR0FDQWxILE9BQUEsTUFDQW1ILGFBQUEsTUFDQUMsaUJBQUEsWUFDQUosWUFBQSxTQUdBblAsTUFBQTRPLFFBQUE5SyxFQUFBdUwsRUFBQVQsRUFFQSxJQUFBWSxHQUFBeFAsS0FBQTRPLFFBQ0FhLEVBQUFELEVBQUFDLFFBQ0FuRyxFQUFBa0csRUFBQWxHLE9BQ0FvRyxFQUFBRixFQUFBRSxjQStCQSxJQTdCQTFQLEtBQUF5UCxRQUFBQSxFQUNBelAsS0FBQXNKLE9BQUFBLEVBQ0F0SixLQUFBMFAsZUFBQUEsRUFFQSxhQUFBMVAsS0FBQXNKLFFBQ0F0SixLQUFBc0osT0FBQTlJLFNBQUE0QixLQUNBcEMsS0FBQTBQLGVBQUEsV0FDQSxrQkFBQTFQLEtBQUFzSixTQUNBdEosS0FBQXNKLE9BQUE5SSxTQUFBNEIsS0FDQXBDLEtBQUEwUCxlQUFBLGtCQUdBLFVBQUEsVUFBQTdLLFFBQUEsU0FBQUUsR0FDQSxPQUFBLEtBQUFxSyxFQUFBckssR0FDQSxLQUFBLElBQUErSCxPQUFBLDZEQUdBLEtBQUFzQyxFQUFBckssR0FBQTRLLE9BQ0FQLEVBQUFySyxHQUFBcUssRUFBQXJLLEdBQUEsR0FDQSxnQkFBQXFLLEdBQUFySyxLQUNBcUssRUFBQXJLLEdBQUF2RSxTQUFBb1AsY0FBQVIsRUFBQXJLLE9BSUFpQixFQUFBaEcsS0FBQXlQLFFBQUF6UCxLQUFBNlAsU0FBQSxhQUNBLElBQUE3UCxLQUFBNE8sUUFBQWtCLGtCQUNBOUosRUFBQWhHLEtBQUFzSixPQUFBdEosS0FBQTZQLFNBQUEsWUFHQTdQLEtBQUE0TyxRQUFBVCxXQUNBLEtBQUEsSUFBQXJCLE9BQUEsK0NBR0E5TSxNQUFBdVAsaUJBQUFkLEVBQUF6TyxLQUFBNE8sUUFBQVcsa0JBQ0F2UCxLQUFBbU8sV0FBQU0sRUFBQXpPLEtBQUE0TyxRQUFBVCxZQUNBbk8sS0FBQW1JLE9BQUFtRyxFQUFBdE8sS0FBQTRPLFFBQUF6RyxRQUNBbkksS0FBQXNQLGFBQUFoQixFQUFBdE8sS0FBQTRPLFFBQUFVLGtCQUVBLEtBQUF0UCxLQUFBd0ksZUFDQXhJLEtBQUErUCxVQUdBLGtCQUFBL1AsS0FBQTBQLGVBQ0ExUCxLQUFBd0ksZUFBQXhJLEtBQUFzSixRQUVBdEosS0FBQXdJLGNBQUF2SCxFQUFBakIsS0FBQXNKLFNBR0EsSUFBQXRKLEtBQUE0TyxRQUFBb0IsU0FDQWhRLEtBQUFpUSxPQUFBcEgsTUFJQTlELElBQUEsa0JBQ0FnQyxNQUFBLFdBQ0EsT0FBQSxLQUFBL0csS0FBQTBQLGVBcUZBLE1BQUFsTixHQUFBeEMsS0FBQXNKLE9BcEZBLElBQUEsWUFBQXRKLEtBQUEwUCxlQUFBLENBQ0EsR0FBQTFQLEtBQUFzSixTQUFBOUksU0FBQTRCLEtBQ0EsT0FBQXZCLElBQUE2SCxZQUFBM0gsS0FBQTBILFlBQUF4RixPQUFBMkYsWUFBQTdGLE1BQUE0RixXQUVBLElBQUF1SCxHQUFBMU4sRUFBQXhDLEtBQUFzSixRQUVBakYsR0FDQXBCLE9BQUFpTixFQUFBak4sT0FDQUYsTUFBQW1OLEVBQUFuTixNQUNBbEMsSUFBQXFQLEVBQUFyUCxJQUNBRSxLQUFBbVAsRUFBQW5QLEtBb0JBLE9BakJBc0QsR0FBQXBCLE9BQUFzSyxLQUFBQyxJQUFBbkosRUFBQXBCLE9BQUFpTixFQUFBak4sUUFBQXlGLFlBQUF3SCxFQUFBclAsTUFDQXdELEVBQUFwQixPQUFBc0ssS0FBQUMsSUFBQW5KLEVBQUFwQixPQUFBaU4sRUFBQWpOLFFBQUFpTixFQUFBclAsSUFBQXFQLEVBQUFqTixRQUFBeUYsWUFBQUUsZUFDQXZFLEVBQUFwQixPQUFBc0ssS0FBQUMsSUFBQTVFLFlBQUF2RSxFQUFBcEIsUUFDQW9CLEVBQUFwQixRQUFBLEVBRUFvQixFQUFBdEIsTUFBQXdLLEtBQUFDLElBQUFuSixFQUFBdEIsTUFBQW1OLEVBQUFuTixPQUFBMEYsWUFBQXlILEVBQUFuUCxPQUNBc0QsRUFBQXRCLE1BQUF3SyxLQUFBQyxJQUFBbkosRUFBQXRCLE1BQUFtTixFQUFBbk4sT0FBQW1OLEVBQUFuUCxLQUFBbVAsRUFBQW5OLE9BQUEwRixZQUFBRSxjQUNBdEUsRUFBQXRCLE1BQUF3SyxLQUFBQyxJQUFBN0UsV0FBQXRFLEVBQUF0QixPQUNBc0IsRUFBQXRCLE9BQUEsRUFFQXNCLEVBQUF4RCxJQUFBNkgsY0FDQXJFLEVBQUF4RCxJQUFBNkgsYUFFQXJFLEVBQUF0RCxLQUFBMEgsY0FDQXBFLEVBQUF0RCxLQUFBMEgsYUFHQXBFLEVBRUEsR0FBQSxrQkFBQXJFLEtBQUEwUCxlQUFBLENBQ0EsR0FBQVEsT0FBQXZPLEdBQ0EySCxFQUFBdEosS0FBQXNKLE1BQ0FBLEtBQUE5SSxTQUFBNEIsTUFDQWtILEVBQUE5SSxTQUFBa0MsZ0JBRUF3TixHQUNBblAsS0FBQTBILFlBQ0E1SCxJQUFBNkgsWUFDQXpGLE9BQUEyRixZQUNBN0YsTUFBQTRGLGFBR0F1SCxFQUFBMU4sRUFBQThHLEVBR0EsSUFBQTVILEdBQUFOLGlCQUFBa0ksR0FFQTZHLEVBQUE3RyxFQUFBdEcsWUFBQXNHLEVBQUFqRyxjQUFBM0IsRUFBQUssU0FBQUwsRUFBQU0sV0FBQUcsUUFBQSxXQUFBLEdBQUFuQyxLQUFBc0osU0FBQTlJLFNBQUE0QixLQUVBZ08sRUFBQSxDQUNBRCxLQUNBQyxFQUFBLEdBR0EsSUFBQW5OLEdBQUFpTixFQUFBak4sT0FBQWdGLFdBQUF2RyxFQUFBMk8sZ0JBQUFwSSxXQUFBdkcsRUFBQTRPLG1CQUFBRixFQUVBL0wsR0FDQXRCLE1BQUEsR0FDQUUsT0FBQSxLQUFBQSxHQUFBQSxFQUFBcUcsRUFBQXBHLGNBQ0FuQyxLQUFBbVAsRUFBQW5QLEtBQUFtUCxFQUFBbk4sTUFBQWtGLFdBQUF2RyxFQUFBNk8saUJBQUEsSUFHQUMsRUFBQSxDQUNBdk4sR0FBQSxLQUFBakQsS0FBQXNKLFNBQUE5SSxTQUFBNEIsT0FDQW9PLEdBQUEsTUFBQWpELEtBQUFrRCxJQUFBeE4sRUFBQSxHQUFBLE9BQUFBLEVBQUEsT0FHQWpELEtBQUFzSixTQUFBOUksU0FBQTRCLE9BQ0FpQyxFQUFBcEIsT0FBQXNLLEtBQUFtRCxJQUFBck0sRUFBQXBCLE9BQUEsSUFHQSxJQUFBME4sR0FBQTNRLEtBQUFzSixPQUFBc0gsV0FBQXRILEVBQUFwRyxhQUFBRCxFQU9BLE9BTkFvQixHQUFBeEQsSUFBQThQLEdBQUExTixFQUFBb0IsRUFBQXBCLE9BQUF1TixHQUFBTixFQUFBclAsSUFBQW9ILFdBQUF2RyxFQUFBMk8sZ0JBRUFyUSxLQUFBc0osU0FBQTlJLFNBQUE0QixPQUNBaUMsRUFBQXBCLE9BQUFzSyxLQUFBbUQsSUFBQXJNLEVBQUFwQixPQUFBLEtBR0FvQixNQU9BVSxJQUFBLGFBQ0FnQyxNQUFBLFdBQ0EvRyxLQUFBNlEsYUFHQTlMLElBQUEsUUFDQWdDLE1BQUEsU0FBQXpHLEVBQUFxTSxHQVdBLFdBUkEsS0FBQTNNLEtBQUE2USxTQUNBN1EsS0FBQTZRLGVBR0EsS0FBQTdRLEtBQUE2USxPQUFBdlEsS0FDQU4sS0FBQTZRLE9BQUF2USxHQUFBcU0sRUFBQTFILEtBQUFqRixPQUdBQSxLQUFBNlEsT0FBQXZRLE1BR0F5RSxJQUFBLFNBQ0FnQyxNQUFBLFdBQ0EsR0FBQStKLEdBQUE5USxLQUVBNkksRUFBQXZFLFVBQUFDLFFBQUEsT0FBQTVDLEtBQUEyQyxVQUFBLElBQUFBLFVBQUEsSUFFQSxJQUFBdEUsS0FBQTRPLFFBQUFrQixrQkFDQTlKLEVBQUFoRyxLQUFBc0osT0FBQXRKLEtBQUE2UCxTQUFBLFlBRUE3SixFQUFBaEcsS0FBQXlQLFFBQUF6UCxLQUFBNlAsU0FBQSxZQUNBN1AsS0FBQWdRLFNBQUEsRUFFQWhRLEtBQUF3SSxjQUFBM0QsUUFBQSxTQUFBdEQsR0FDQUEsSUFBQXVQLEVBQUF4SCxPQUFBL0ksZUFDQWdCLEVBQUFxTSxpQkFBQSxTQUFBa0QsRUFBQXpQLFlBSUF3SCxHQUNBN0ksS0FBQXFCLGNBSUEwRCxJQUFBLFVBQ0FnQyxNQUFBLFdBQ0EsR0FBQWdLLEdBQUEvUSxJQUVBa0YsR0FBQWxGLEtBQUFzSixPQUFBdEosS0FBQTZQLFNBQUEsWUFDQTNLLEVBQUFsRixLQUFBeVAsUUFBQXpQLEtBQUE2UCxTQUFBLFlBQ0E3UCxLQUFBZ1EsU0FBQSxNQUVBLEtBQUFoUSxLQUFBd0ksZUFDQXhJLEtBQUF3SSxjQUFBM0QsUUFBQSxTQUFBdEQsR0FDQUEsRUFBQXlQLG9CQUFBLFNBQUFELEVBQUExUCxlQUtBMEQsSUFBQSxVQUNBZ0MsTUFBQSxXQUNBLEdBQUFrSyxHQUFBalIsSUFFQUEsTUFBQStQLFVBRUE3QyxFQUFBckksUUFBQSxTQUFBeUQsRUFBQVcsR0FDQVgsSUFBQTJJLEdBQ0EvRCxFQUFBcEMsT0FBQTdCLEVBQUEsS0FLQSxJQUFBaUUsRUFBQTNJLFFBQ0FsQyxPQUlBMEMsSUFBQSxzQkFDQWdDLE1BQUEsU0FBQW1LLEVBQUFDLEdBQ0EsR0FBQUMsR0FBQXBSLElBRUFrUixHQUFBQSxHQUFBbFIsS0FBQW1PLFdBQ0FnRCxFQUFBQSxHQUFBblIsS0FBQXVQLGdCQUNBLElBQUE4QixJQUFBLE9BQUEsTUFBQSxTQUFBLFFBQUEsU0FBQSxjQUVBLEtBQUFyUixLQUFBc1IsbUJBQUF0UixLQUFBc1Isa0JBQUEvTSxRQUlBdkUsS0FBQXNSLGtCQUFBeEcsT0FBQSxFQUFBOUssS0FBQXNSLGtCQUFBL00sWUFHQSxLQUFBdkUsS0FBQXNSLG9CQUNBdFIsS0FBQXNSLHFCQUVBLElBQUFyTCxHQUFBakcsS0FBQXNSLGlCQUVBSixHQUFBclEsS0FDQW9GLEVBQUFwRSxLQUFBN0IsS0FBQTZQLFNBQUEsb0JBQUEsSUFBQXFCLEVBQUFyUSxLQUVBcVEsRUFBQW5RLE1BQ0FrRixFQUFBcEUsS0FBQTdCLEtBQUE2UCxTQUFBLG9CQUFBLElBQUFxQixFQUFBblEsTUFFQW9RLEVBQUF0USxLQUNBb0YsRUFBQXBFLEtBQUE3QixLQUFBNlAsU0FBQSxtQkFBQSxJQUFBc0IsRUFBQXRRLEtBRUFzUSxFQUFBcFEsTUFDQWtGLEVBQUFwRSxLQUFBN0IsS0FBQTZQLFNBQUEsbUJBQUEsSUFBQXNCLEVBQUFwUSxLQUdBLElBQUF5RixLQUNBNkssR0FBQXhNLFFBQUEsU0FBQW1FLEdBQ0F4QyxFQUFBM0UsS0FBQXVQLEVBQUF2QixTQUFBLG9CQUFBLElBQUE3RyxHQUNBeEMsRUFBQTNFLEtBQUF1UCxFQUFBdkIsU0FBQSxtQkFBQSxJQUFBN0csS0FHQWtCLEVBQUEsZUFDQSxLQUFBa0gsRUFBQUUsb0JBSUEvSyxFQUFBNkssRUFBQTNCLFFBQUEyQixFQUFBRSxrQkFBQTlLLElBQ0EsSUFBQTRLLEVBQUF4QyxRQUFBa0Isa0JBQ0F2SixFQUFBNkssRUFBQTlILE9BQUE4SCxFQUFBRSxrQkFBQTlLLFNBR0E0SyxHQUFBRSx3QkFJQXZNLElBQUEsV0FDQWdDLE1BQUEsV0FDQSxHQUFBd0ssR0FBQXZSLEtBRUF3UixFQUFBbE4sVUFBQUMsUUFBQSxPQUFBNUMsS0FBQTJDLFVBQUEsSUFBQUEsVUFBQSxFQUtBLElBQUF0RSxLQUFBZ1EsUUFBQSxDQUlBaFEsS0FBQXlSLFlBR0EsSUFBQWxDLEdBQUFyQixFQUFBbE8sS0FBQXVQLGlCQUFBdlAsS0FBQW1PLFdBRUFuTyxNQUFBMFIsb0JBQUExUixLQUFBbU8sV0FBQW9CLEVBRUEsSUFBQW9DLEdBQUEzUixLQUFBNFIsTUFBQSxpQkFBQSxXQUNBLE1BQUFwUCxHQUFBK08sRUFBQTlCLFdBR0ExTSxFQUFBNE8sRUFBQTVPLE1BQ0FFLEVBQUEwTyxFQUFBMU8sTUFFQSxJQUFBLElBQUFGLEdBQUEsSUFBQUUsT0FBQSxLQUFBakQsS0FBQTZSLFNBQUEsQ0FDQSxHQUFBQyxHQUFBOVIsS0FBQTZSLFFBSUE5TyxHQUFBK08sRUFBQS9PLE1BQ0FFLEVBQUE2TyxFQUFBN08sV0FFQWpELE1BQUE2UixVQUFBOU8sTUFBQUEsRUFBQUUsT0FBQUEsRUFHQSxJQUFBOE8sR0FBQS9SLEtBQUE0UixNQUFBLGdCQUFBLFdBQ0EsTUFBQUwsR0FBQVMsb0JBRUFDLEVBQUFGLEVBR0E1SixFQUFBRCxFQUFBbUcsRUFBQXJPLEtBQUFtTyxhQUFBcEwsTUFBQUEsRUFBQUUsT0FBQUEsSUFDQXFNLEVBQUFwSCxFQUFBbUcsRUFBQWtCLEdBQUEwQyxHQUVBQyxFQUFBaEssRUFBQWxJLEtBQUFtSSxRQUFBcEYsTUFBQUEsRUFBQUUsT0FBQUEsSUFDQWtQLEVBQUFqSyxFQUFBbEksS0FBQXNQLGFBQUEyQyxFQUdBOUosR0FBQVAsRUFBQU8sRUFBQStKLEdBQ0E1QyxFQUFBMUgsRUFBQTBILEVBQUE2QyxFQU1BLEtBQUEsR0FIQXBSLEdBQUFnUixFQUFBaFIsS0FBQXVPLEVBQUF2TyxLQUFBb0gsRUFBQXBILEtBQ0FGLEVBQUFrUixFQUFBbFIsSUFBQXlPLEVBQUF6TyxJQUFBc0gsRUFBQXRILElBRUFvSSxFQUFBLEVBQUFBLEVBQUFXLEVBQUFDLFFBQUF0RixTQUFBMEUsRUFBQSxDQUNBLEdBQUFtSixHQUFBeEksRUFBQUMsUUFBQVosR0FDQW9KLEVBQUFELEVBQUEvUSxTQUFBNEQsS0FBQWpGLE1BQ0FlLEtBQUFBLEVBQ0FGLElBQUFBLEVBQ0EwTyxpQkFBQUEsRUFDQXdDLFVBQUFBLEVBQ0FKLFdBQUFBLEVBQ0F4SixPQUFBQSxFQUNBbUgsYUFBQUEsRUFDQTRDLGFBQUFBLEVBQ0FDLG1CQUFBQSxFQUNBRyxjQUFBQSxFQUNBbkUsV0FBQW5PLEtBQUFtTyxZQUdBLEtBQUEsSUFBQWtFLEVBQ0EsT0FBQSxNQUNBLEtBQUFBLEdBQUEsZ0JBQUFBLEtBR0F4UixFQUFBd1IsRUFBQXhSLElBQ0FFLEVBQUFzUixFQUFBdFIsTUFPQSxHQUFBOEssSUFHQTBHLE1BQ0ExUixJQUFBQSxFQUNBRSxLQUFBQSxHQUlBeVIsVUFDQTNSLElBQUFBLEVBQUE2SCxZQUNBNUgsT0FBQTRILFlBQUE3SCxFQUFBb0MsRUFBQTJGLFlBQ0E3SCxLQUFBQSxFQUFBMEgsWUFDQXpILE1BQUF5SCxZQUFBMUgsRUFBQWdDLEVBQUE0RixhQUlBbEcsRUFBQXpDLEtBQUFzSixPQUFBL0ksY0FDQXVJLEVBQUFyRyxFQUFBL0IsWUFFQTRSLE1BQUEzUSxFQW9FQSxPQW5FQW1ILEdBQUFGLFlBQUFuRyxFQUFBQyxnQkFBQVksZUFDQWdQLEVBQUF0UyxLQUFBNFIsTUFBQSxpQkFBQW5PLEdBQ0FvSSxFQUFBMkcsU0FBQTFSLFFBQUF3UixFQUFBclAsUUFHQTZGLEVBQUFILFdBQUFsRyxFQUFBQyxnQkFBQVcsY0FDQWlQLEVBQUF0UyxLQUFBNFIsTUFBQSxpQkFBQW5PLEdBQ0FvSSxFQUFBMkcsU0FBQXhSLE9BQUFzUixFQUFBdlAsUUFHQSxLQUFBLEdBQUEsVUFBQVosUUFBQU0sRUFBQUwsS0FBQVYsTUFBQUwsWUFBQSxLQUFBLEdBQUEsVUFBQWMsUUFBQU0sRUFBQUwsS0FBQXFRLGNBQUEvUSxNQUFBTCxZQUVBd0ssRUFBQTBHLEtBQUF6UixPQUFBMkIsRUFBQUwsS0FBQWMsYUFBQXJDLEVBQUFvQyxFQUNBNEksRUFBQTBHLEtBQUF2UixNQUFBeUIsRUFBQUwsS0FBQVksWUFBQWpDLEVBQUFnQyxPQUdBLEtBQUEvQyxLQUFBNE8sUUFBQThELGdCQUFBLElBQUExUyxLQUFBNE8sUUFBQThELGNBQUFDLGlCQUFBLEtBQUEzUyxLQUFBMFAsZ0JBQ0EsV0FDQSxHQUFBbE0sR0FBQStOLEVBQUFLLE1BQUEsc0JBQUEsV0FDQSxNQUFBck8sR0FBQWdPLEVBQUFqSSxVQUVBc0osRUFBQXJCLEVBQUFLLE1BQUEsNkJBQUEsV0FDQSxNQUFBcFAsR0FBQWdCLEtBRUFxUCxFQUFBelIsaUJBQUFvQyxHQUNBc1AsRUFBQUYsRUFFQUcsSUFRQSxLQVBBLE1BQUEsT0FBQSxTQUFBLFNBQUFsTyxRQUFBLFNBQUFtRSxHQUNBK0osRUFBQS9KLEVBQUFnSyxlQUFBL0ssV0FBQTRLLEVBQUEsU0FBQTdKLEVBQUEsWUFHQTRKLEVBQUE1UixNQUFBeUIsRUFBQUwsS0FBQVksWUFBQTRQLEVBQUE3UixLQUFBK1IsRUFBQS9QLE1BQUFnUSxFQUFBL1IsTUFDQTRSLEVBQUE5UixPQUFBMkIsRUFBQUwsS0FBQWMsYUFBQTBQLEVBQUEvUixJQUFBaVMsRUFBQTdQLE9BQUE4UCxFQUFBalMsT0FFQStLLEVBQUEwRyxLQUFBMVIsS0FBQStSLEVBQUEvUixJQUFBa1MsRUFBQWxTLEtBQUFnTCxFQUFBMEcsS0FBQXpSLFFBQUE4UixFQUFBOVIsUUFDQStLLEVBQUEwRyxLQUFBeFIsTUFBQTZSLEVBQUE3UixLQUFBZ1MsRUFBQWhTLE1BQUE4SyxFQUFBMEcsS0FBQXZSLE9BQUE0UixFQUFBNVIsTUFBQSxDQUVBLEdBQUE0UCxHQUFBcE4sRUFBQW9OLFVBQ0FxQyxFQUFBelAsRUFBQXlQLFVBSUFwSCxHQUFBMUQsUUFDQXRILElBQUFnTCxFQUFBMEcsS0FBQTFSLElBQUErUixFQUFBL1IsSUFBQStQLEVBQUFtQyxFQUFBbFMsSUFDQUUsS0FBQThLLEVBQUEwRyxLQUFBeFIsS0FBQTZSLEVBQUE3UixLQUFBa1MsRUFBQUYsRUFBQWhTLFVBVUFmLEtBQUFrVCxLQUFBckgsR0FFQTdMLEtBQUErTyxRQUFBb0UsUUFBQXRILEdBRUE3TCxLQUFBK08sUUFBQXhLLE9BQUEsR0FDQXZFLEtBQUErTyxRQUFBekUsTUFHQWtILEdBQ0FuSCxLQUdBLE1BS0F0RixJQUFBLE9BQ0FnQyxNQUFBLFNBQUE4QixHQUNBLEdBQUF1SyxHQUFBcFQsSUFFQSxRQUFBLEtBQUFBLEtBQUF5UCxRQUFBak8sV0FBQSxDQUlBLEdBQUE2UixLQUVBLEtBQUEsR0FBQUMsS0FBQXpLLEdBQUEsQ0FDQXdLLEVBQUFDLEtBRUEsS0FBQSxHQUFBdk8sS0FBQThELEdBQUF5SyxHQUFBLENBR0EsSUFBQSxHQUZBQyxJQUFBLEVBRUF0SyxFQUFBLEVBQUFBLEVBQUFqSixLQUFBK08sUUFBQXhLLFNBQUEwRSxFQUFBLENBQ0EsR0FBQXVLLEdBQUF4VCxLQUFBK08sUUFBQTlGLEVBQ0EsUUFBQSxLQUFBdUssRUFBQUYsS0FBQWpNLEVBQUFtTSxFQUFBRixHQUFBdk8sR0FBQThELEVBQUF5SyxHQUFBdk8sSUFBQSxDQUNBd08sR0FBQSxDQUNBLFFBSUFBLElBQ0FGLEVBQUFDLEdBQUF2TyxJQUFBLElBS0EsR0FBQTBPLElBQUE1UyxJQUFBLEdBQUFFLEtBQUEsR0FBQUMsTUFBQSxHQUFBRixPQUFBLElBRUE0UyxFQUFBLFNBQUFDLEVBQUFDLEdBR0EsSUFBQSxTQUZBLEtBQUFSLEVBQUF4RSxRQUFBOEQsY0FDQVUsRUFBQXhFLFFBQUE4RCxjQUFBbUIsSUFBQSxNQUNBLENBQ0EsR0FBQUMsT0FBQW5TLEdBQ0FvUyxNQUFBcFMsRUFDQWdTLEdBQUE5UyxLQUNBNFMsRUFBQTVTLElBQUEsRUFDQWlULEVBQUFGLEVBQUEvUyxNQUVBNFMsRUFBQTNTLE9BQUEsRUFDQWdULEdBQUFGLEVBQUE5UyxRQUdBNlMsRUFBQTVTLE1BQ0EwUyxFQUFBMVMsS0FBQSxFQUNBZ1QsRUFBQUgsRUFBQTdTLE9BRUEwUyxFQUFBelMsTUFBQSxFQUNBK1MsR0FBQUgsRUFBQTVTLE9BR0EyTSxPQUFBcUcsYUFFQXJHLE9BQUFxRyxXQUFBLDZDQUFBQyxTQUFBdEcsT0FBQXFHLFdBQUEseURBQUFDLFVBRUFGLEVBQUF4RyxLQUFBMkcsTUFBQUgsR0FDQUQsRUFBQXZHLEtBQUEyRyxNQUFBSixLQUlBTCxFQUFBekcsR0FBQSxjQUFBK0csRUFBQSxrQkFBQUQsRUFBQSxNQUVBLGdCQUFBOUcsSUFHQXlHLEVBQUF6RyxJQUFBLHNCQUdBMkcsR0FBQTlTLElBQ0E0UyxFQUFBNVMsSUFBQStTLEVBQUEvUyxJQUFBLEtBRUE0UyxFQUFBM1MsT0FBQThTLEVBQUE5UyxPQUFBLEtBR0E2UyxFQUFBNVMsS0FDQTBTLEVBQUExUyxLQUFBNlMsRUFBQTdTLEtBQUEsS0FFQTBTLEVBQUF6UyxNQUFBNFMsRUFBQTVTLE1BQUEsTUFLQW1ULEdBQUEsQ0E2QkEsS0E1QkFkLEVBQUFkLEtBQUExUixLQUFBd1MsRUFBQWQsS0FBQXpSLFVBQUF1UyxFQUFBZCxLQUFBeFIsTUFBQXNTLEVBQUFkLEtBQUF2UixRQUNBeVMsRUFBQXBTLFNBQUEsV0FDQXFTLEVBQUFMLEVBQUFkLEtBQUExSixFQUFBMEosUUFDQWMsRUFBQWIsU0FBQTNSLEtBQUF3UyxFQUFBYixTQUFBMVIsVUFBQXVTLEVBQUFiLFNBQUF6UixNQUFBc1MsRUFBQWIsU0FBQXhSLFFBQ0F5UyxFQUFBcFMsU0FBQSxRQUNBcVMsRUFBQUwsRUFBQWIsU0FBQTNKLEVBQUEySixlQUNBLEtBQUFhLEVBQUFsTCxRQUFBa0wsRUFBQWxMLE9BQUF0SCxLQUFBd1MsRUFBQWxMLE9BQUFwSCxLQUNBLFdBQ0EwUyxFQUFBcFMsU0FBQSxVQUNBLElBQUFtQyxHQUFBNFAsRUFBQXhCLE1BQUEsc0JBQUEsV0FDQSxNQUFBck8sR0FBQTZQLEVBQUE5SixTQUdBL0YsR0FBQTZQLEVBQUEzRCxXQUFBak0sR0FDQTBHLEVBQUEsV0FDQWtKLEVBQUEzRCxRQUFBak8sV0FBQWUsWUFBQTZRLEVBQUEzRCxTQUNBak0sRUFBQVMsWUFBQW1QLEVBQUEzRCxXQUlBaUUsRUFBQUwsRUFBQWxMLE9BQUFVLEVBQUFWLFFBQ0FnTSxHQUFBLE1BR0FWLEVBQUFwUyxTQUFBLFdBQ0FxUyxHQUFBN1MsS0FBQSxFQUFBRSxNQUFBLEdBQUE4SCxFQUFBMEosUUFHQTRCLEVBQ0EsR0FBQW5VLEtBQUE0TyxRQUFBd0YsWUFDQXBVLEtBQUE0TyxRQUFBd0YsWUFBQW5RLFlBQUFqRSxLQUFBeVAsYUFDQSxDQUdBLElBRkEsR0FBQTRFLElBQUEsRUFDQUMsRUFBQXRVLEtBQUF5UCxRQUFBak8sV0FDQThTLEdBQUEsSUFBQUEsRUFBQTdTLFVBQUEsU0FBQTZTLEVBQUFDLFNBQUEsQ0FDQSxHQUFBLFdBQUFuVCxpQkFBQWtULEdBQUFqVCxTQUFBLENBQ0FnVCxHQUFBLENBQ0EsT0FHQUMsRUFBQUEsRUFBQTlTLFdBR0E2UyxJQUNBclUsS0FBQXlQLFFBQUFqTyxXQUFBZSxZQUFBdkMsS0FBQXlQLFNBQ0F6UCxLQUFBeVAsUUFBQWxQLGNBQUE2QixLQUFBNkIsWUFBQWpFLEtBQUF5UCxVQU1BLEdBQUErRSxNQUNBQyxHQUFBLENBQ0EsS0FBQSxHQUFBMVAsS0FBQTBPLEdBQUEsQ0FDQSxHQUFBaUIsR0FBQWpCLEVBQUExTyxFQUNBL0UsTUFBQXlQLFFBQUEvTixNQUFBcUQsS0FFQTJQLElBQ0FELEdBQUEsRUFDQUQsRUFBQXpQLEdBQUEyUCxHQUlBRCxHQUNBdkssRUFBQSxXQUNBcEcsRUFBQXNQLEVBQUEzRCxRQUFBL04sTUFBQThTLEdBQ0FwQixFQUFBdUIsUUFBQSx1QkFNQWpHLEdBQ0FuRSxFQUVBbUUsR0FBQTdFLFdBRUFELEVBQUF2SSxTQUFBQSxDQUVBLElBQUF0QixHQUFBK0QsRUFBQTRLLEVBQUE5RSxHQUtBc0IsRUFBQSxXQUFBLFFBQUFDLEdBQUFDLEVBQUFuQyxHQUFBLEdBQUFvQyxNQUFBQyxHQUFBLEVBQUFDLEdBQUEsRUFBQUMsTUFBQTdKLEVBQUEsS0FBQSxJQUFBLEdBQUE4SixHQUFBQyxFQUFBTixFQUFBTyxPQUFBQyxjQUFBTixHQUFBRyxFQUFBQyxFQUFBRyxRQUFBQyxRQUFBVCxFQUFBeEosS0FBQTRKLEVBQUExRSxRQUFBa0MsR0FBQW9DLEVBQUE5RyxTQUFBMEUsR0FBQXFDLEdBQUEsSUFBQSxNQUFBMUosR0FBQTJKLEdBQUEsRUFBQUMsRUFBQTVKLEVBQUEsUUFBQSxLQUFBMEosR0FBQUksRUFBQSxRQUFBQSxFQUFBLFNBQUEsUUFBQSxHQUFBSCxFQUFBLEtBQUFDLElBQUEsTUFBQUgsR0FBQSxNQUFBLFVBQUFELEVBQUFuQyxHQUFBLEdBQUF4RSxNQUFBc0gsUUFBQVgsR0FBQSxNQUFBQSxFQUFBLElBQUFPLE9BQUFDLFdBQUFoRixRQUFBd0UsR0FBQSxNQUFBRCxHQUFBQyxFQUFBbkMsRUFBQSxNQUFBLElBQUExSixXQUFBLDREQUVBd04sRUFBQW5ELEVBQUFxQixNQUNBekksRUFBQXVLLEVBQUF2SyxVQUNBc0IsRUFBQWlKLEVBQUFqSixPQUNBeUMsRUFBQXdHLEVBQUF4RyxjQUNBMkQsRUFBQTZDLEVBQUE3QyxNQUVBbkIsR0FBQSxPQUFBLE1BQUEsUUFBQSxTQTZDQWEsR0FBQUMsUUFBQWhJLE1BQ0FSLFNBQUEsU0FBQTJHLEdBQ0EsR0FBQTZHLEdBQUE3TyxLQUVBYSxFQUFBbUgsRUFBQW5ILElBQ0FFLEVBQUFpSCxFQUFBakgsS0FDQXdPLEVBQUF2SCxFQUFBdUgsZ0JBRUEsS0FBQXZQLEtBQUE0TyxRQUFBZ0csWUFDQSxPQUFBLENBR0EsSUFBQS9ELEdBQUE3USxLQUFBNFIsTUFBQSxpQkFBQSxXQUNBLE1BQUFwUCxHQUFBcU0sRUFBQVksV0FHQXhNLEVBQUE0TixFQUFBNU4sT0FDQUYsRUFBQThOLEVBQUE5TixLQUVBLElBQUEsSUFBQUEsR0FBQSxJQUFBRSxPQUFBLEtBQUFqRCxLQUFBNlIsU0FBQSxDQUNBLEdBQUFDLEdBQUE5UixLQUFBNlIsUUFJQTlPLEdBQUErTyxFQUFBL08sTUFDQUUsRUFBQTZPLEVBQUE3TyxPQUdBLEdBQUFnUCxHQUFBalMsS0FBQTRSLE1BQUEsZ0JBQUEsV0FDQSxNQUFBL0MsR0FBQW1ELG9CQUdBNkMsRUFBQTVDLEVBQUFoUCxPQUNBNlIsRUFBQTdDLEVBQUFsUCxNQUVBZ1MsR0FBQS9VLEtBQUE2UCxTQUFBLFVBQUE3UCxLQUFBNlAsU0FBQSxpQkFFQTdQLE1BQUE0TyxRQUFBZ0csWUFBQS9QLFFBQUEsU0FBQW1RLEdBQ0EsR0FBQUMsR0FBQUQsRUFBQUMsaUJBQ0FDLEVBQUFGLEVBQUFFLFdBRUFELElBQ0FGLEVBQUFsVCxLQUFBb1QsR0FFQUMsR0FDQUgsRUFBQWxULEtBQUFxVCxLQUlBSCxFQUFBbFEsUUFBQSxTQUFBUyxJQUNBLE9BQUEsTUFBQSxRQUFBLFVBQUFULFFBQUEsU0FBQW1FLEdBQ0ErTCxFQUFBbFQsS0FBQXlELEVBQUEsSUFBQTBELE1BSUEsSUFBQW1NLE1BRUFDLEVBQUF0UixLQUFBeUwsR0FDQThGLEVBQUF2UixLQUFBOUQsS0FBQW1PLFdBOFFBLE9BNVFBbk8sTUFBQTRPLFFBQUFnRyxZQUFBL1AsUUFBQSxTQUFBbVEsR0FDQSxHQUFBek0sR0FBQXlNLEVBQUF6TSxHQUNBNEYsRUFBQTZHLEVBQUE3RyxXQUNBbUgsRUFBQU4sRUFBQU0sUUFFQSxLQUFBbkgsSUFDQUEsRUFBQSxHQUdBLElBQUFvSCxPQUFBNVQsR0FDQTZULE1BQUE3VCxFQUNBLElBQUF3TSxFQUFBaE0sUUFBQSxNQUFBLEVBQUEsQ0FDQSxHQUFBc1QsR0FBQXRILEVBQUE5SSxNQUFBLEtBRUFxUSxFQUFBeEssRUFBQXVLLEVBQUEsRUFFQUQsR0FBQUUsRUFBQSxHQUNBSCxFQUFBRyxFQUFBLE9BRUFILEdBQUFDLEVBQUFySCxDQUdBLElBQUErQixHQUFBN0gsRUFBQXdHLEVBQUF0RyxFQUVBLFlBQUFpTixHQUFBLFNBQUFBLElBQ0EzVSxFQUFBcVAsRUFBQSxJQUFBLFFBQUFrRixFQUFBdlUsTUFDQUEsR0FBQWdVLEVBQ0FPLEVBQUF2VSxJQUFBLFVBR0FBLEVBQUFvQyxFQUFBaU4sRUFBQSxJQUFBLFdBQUFrRixFQUFBdlUsTUFDQUEsR0FBQWdVLEVBQ0FPLEVBQUF2VSxJQUFBLFFBSUEsYUFBQTJVLElBQ0EsUUFBQUosRUFBQXZVLE1BQ0EsV0FBQXdVLEVBQUF4VSxLQUFBQSxFQUFBcVAsRUFBQSxJQUNBclAsR0FBQWdVLEVBQ0FPLEVBQUF2VSxJQUFBLFNBRUFBLEdBQUFvQyxFQUNBb1MsRUFBQXhVLElBQUEsT0FDQSxRQUFBd1UsRUFBQXhVLEtBQUFBLEVBQUFvQyxFQUFBaU4sRUFBQSxJQUFBclAsR0FBQW9DLEVBQUE0UixJQUFBM0UsRUFBQSxLQUNBclAsR0FBQW9DLEVBQUE0UixFQUNBTyxFQUFBdlUsSUFBQSxTQUVBd1UsRUFBQXhVLElBQUEsV0FJQSxXQUFBdVUsRUFBQXZVLE1BQ0EsUUFBQXdVLEVBQUF4VSxLQUFBQSxFQUFBb0MsRUFBQWlOLEVBQUEsSUFDQXJQLEdBQUFnVSxFQUNBTyxFQUFBdlUsSUFBQSxNQUVBQSxHQUFBb0MsRUFDQW9TLEVBQUF4VSxJQUFBLFVBQ0EsV0FBQXdVLEVBQUF4VSxLQUFBQSxFQUFBcVAsRUFBQSxJQUFBclAsR0FBQSxFQUFBb0MsRUFBQTRSLElBQUEzRSxFQUFBLEtBQ0FyUCxHQUFBb0MsRUFBQTRSLEVBQ0FPLEVBQUF2VSxJQUFBLE1BRUF3VSxFQUFBeFUsSUFBQSxRQUlBLFdBQUF1VSxFQUFBdlUsTUFDQUEsRUFBQW9DLEVBQUFpTixFQUFBLElBQUEsUUFBQW1GLEVBQUF4VSxLQUNBQSxHQUFBb0MsRUFDQW9TLEVBQUF4VSxJQUFBLFVBQ0FBLEVBQUFxUCxFQUFBLElBQUEsV0FBQW1GLEVBQUF4VSxNQUNBQSxHQUFBb0MsRUFDQW9TLEVBQUF4VSxJQUFBLFNBS0EsV0FBQTBVLEdBQUEsU0FBQUEsSUFDQXhVLEVBQUFtUCxFQUFBLElBQUEsU0FBQWtGLEVBQUFyVSxPQUNBQSxHQUFBK1QsRUFDQU0sRUFBQXJVLEtBQUEsU0FHQUEsRUFBQWdDLEVBQUFtTixFQUFBLElBQUEsVUFBQWtGLEVBQUFyVSxPQUNBQSxHQUFBK1QsRUFDQU0sRUFBQXJVLEtBQUEsU0FJQSxhQUFBd1UsSUFDQXhVLEVBQUFtUCxFQUFBLElBQUEsU0FBQWtGLEVBQUFyVSxLQUNBLFVBQUFzVSxFQUFBdFUsTUFDQUEsR0FBQStULEVBQ0FNLEVBQUFyVSxLQUFBLFFBRUFBLEdBQUFnQyxFQUNBc1MsRUFBQXRVLEtBQUEsUUFDQSxTQUFBc1UsRUFBQXRVLE9BQ0FBLEdBQUErVCxFQUNBTSxFQUFBclUsS0FBQSxRQUVBQSxHQUFBZ0MsRUFDQXNTLEVBQUF0VSxLQUFBLFNBRUFBLEVBQUFnQyxFQUFBbU4sRUFBQSxJQUFBLFVBQUFrRixFQUFBclUsS0FDQSxTQUFBc1UsRUFBQXRVLE1BQ0FBLEdBQUErVCxFQUNBTSxFQUFBclUsS0FBQSxPQUVBQSxHQUFBZ0MsRUFDQXNTLEVBQUF0VSxLQUFBLFNBQ0EsVUFBQXNVLEVBQUF0VSxPQUNBQSxHQUFBK1QsRUFDQU0sRUFBQXJVLEtBQUEsT0FFQUEsR0FBQWdDLEVBQ0FzUyxFQUFBdFUsS0FBQSxRQUVBLFdBQUFxVSxFQUFBclUsT0FDQUEsRUFBQWdDLEVBQUFtTixFQUFBLElBQUEsU0FBQW1GLEVBQUF0VSxNQUNBQSxHQUFBZ0MsRUFDQXNTLEVBQUF0VSxLQUFBLFNBQ0FBLEVBQUFtUCxFQUFBLElBQUEsVUFBQW1GLEVBQUF0VSxPQUNBQSxHQUFBZ0MsRUFDQXNTLEVBQUF0VSxLQUFBLFVBS0EsWUFBQXlVLEdBQUEsU0FBQUEsSUFDQTNVLEVBQUFxUCxFQUFBLElBQUEsV0FBQW1GLEVBQUF4VSxNQUNBQSxHQUFBb0MsRUFDQW9TLEVBQUF4VSxJQUFBLE9BR0FBLEVBQUFvQyxFQUFBaU4sRUFBQSxJQUFBLFFBQUFtRixFQUFBeFUsTUFDQUEsR0FBQW9DLEVBQ0FvUyxFQUFBeFUsSUFBQSxXQUlBLFlBQUEwVSxHQUFBLFNBQUFBLElBQ0F4VSxFQUFBbVAsRUFBQSxLQUNBLFVBQUFtRixFQUFBdFUsTUFDQUEsR0FBQWdDLEVBQ0FzUyxFQUFBdFUsS0FBQSxRQUNBLFdBQUFzVSxFQUFBdFUsT0FDQUEsR0FBQWdDLEVBQUEsRUFDQXNTLEVBQUF0VSxLQUFBLFNBSUFBLEVBQUFnQyxFQUFBbU4sRUFBQSxLQUNBLFNBQUFtRixFQUFBdFUsTUFDQUEsR0FBQWdDLEVBQ0FzUyxFQUFBdFUsS0FBQSxTQUNBLFdBQUFzVSxFQUFBdFUsT0FDQUEsR0FBQWdDLEVBQUEsRUFDQXNTLEVBQUF0VSxLQUFBLFdBS0EsZ0JBQUF1VSxHQUNBQSxFQUFBQSxFQUFBalEsTUFBQSxLQUFBc1EsSUFBQSxTQUFBQyxHQUNBLE1BQUFBLEdBQUFyUSxVQUVBLElBQUErUCxJQUNBQSxHQUFBLE1BQUEsT0FBQSxRQUFBLFdBR0FBLEVBQUFBLEtBRUEsSUFBQU8sTUFDQUMsSUFFQWpWLEdBQUFxUCxFQUFBLEtBQ0FvRixFQUFBblQsUUFBQSxRQUFBLEdBQ0F0QixFQUFBcVAsRUFBQSxHQUNBMkYsRUFBQWhVLEtBQUEsUUFFQWlVLEVBQUFqVSxLQUFBLFFBSUFoQixFQUFBb0MsRUFBQWlOLEVBQUEsS0FDQW9GLEVBQUFuVCxRQUFBLFdBQUEsR0FDQXRCLEVBQUFxUCxFQUFBLEdBQUFqTixFQUNBNFMsRUFBQWhVLEtBQUEsV0FFQWlVLEVBQUFqVSxLQUFBLFdBSUFkLEVBQUFtUCxFQUFBLEtBQ0FvRixFQUFBblQsUUFBQSxTQUFBLEdBQ0FwQixFQUFBbVAsRUFBQSxHQUNBMkYsRUFBQWhVLEtBQUEsU0FFQWlVLEVBQUFqVSxLQUFBLFNBSUFkLEVBQUFnQyxFQUFBbU4sRUFBQSxLQUNBb0YsRUFBQW5ULFFBQUEsVUFBQSxHQUNBcEIsRUFBQW1QLEVBQUEsR0FBQW5OLEVBQ0E4UyxFQUFBaFUsS0FBQSxVQUVBaVUsRUFBQWpVLEtBQUEsVUFJQWdVLEVBQUF0UixRQUNBLFdBQ0EsR0FBQTJRLE9BQUF2VCxFQUVBdVQsT0FEQSxLQUFBckcsRUFBQUQsUUFBQXNHLFlBQ0FyRyxFQUFBRCxRQUFBc0csWUFFQXJHLEVBQUFnQixTQUFBLFVBR0FzRixFQUFBdFQsS0FBQXFULEdBQ0FXLEVBQUFoUixRQUFBLFNBQUFtRSxHQUNBbU0sRUFBQXRULEtBQUFxVCxFQUFBLElBQUFsTSxRQUtBOE0sRUFBQXZSLFFBQ0EsV0FDQSxHQUFBd1IsT0FBQXBVLEVBRUFvVSxPQURBLEtBQUFsSCxFQUFBRCxRQUFBcUcsaUJBQ0FwRyxFQUFBRCxRQUFBcUcsaUJBRUFwRyxFQUFBZ0IsU0FBQSxpQkFHQXNGLEVBQUF0VCxLQUFBa1UsR0FDQUQsRUFBQWpSLFFBQUEsU0FBQW1FLEdBQ0FtTSxFQUFBdFQsS0FBQWtVLEVBQUEsSUFBQS9NLFNBS0E2TSxFQUFBMVQsUUFBQSxTQUFBLEdBQUEwVCxFQUFBMVQsUUFBQSxVQUFBLEtBQ0FrVCxFQUFBdFUsS0FBQXFVLEVBQUFyVSxNQUFBLElBRUE4VSxFQUFBMVQsUUFBQSxRQUFBLEdBQUEwVCxFQUFBMVQsUUFBQSxXQUFBLEtBQ0FrVCxFQUFBeFUsSUFBQXVVLEVBQUF2VSxLQUFBLEdBR0F1VSxFQUFBdlUsTUFBQTBPLEVBQUExTyxLQUFBdVUsRUFBQXJVLE9BQUF3TyxFQUFBeE8sTUFBQXNVLEVBQUF4VSxNQUFBZ08sRUFBQVYsV0FBQXROLEtBQUF3VSxFQUFBdFUsT0FBQThOLEVBQUFWLFdBQUFwTixPQUNBOE4sRUFBQTZDLG9CQUFBMkQsRUFBQUQsR0FDQXZHLEVBQUE4RixRQUFBLFVBQ0F4RyxXQUFBa0gsRUFDQTlGLGlCQUFBNkYsT0FLQWxMLEVBQUEsWUFDQSxJQUFBMkUsRUFBQUQsUUFBQWtCLGtCQUNBdkosRUFBQXNJLEVBQUF2RixPQUFBNkwsRUFBQUosR0FFQXhPLEVBQUFzSSxFQUFBWSxRQUFBMEYsRUFBQUosTUFHQWxVLElBQUFBLEVBQUFFLEtBQUFBLEtBT0EsSUFBQWdNLEdBQUFuRCxFQUFBcUIsTUFDQXpJLEVBQUF1SyxFQUFBdkssVUFDQStELEVBQUF3RyxFQUFBeEcsY0FDQTJELEVBQUE2QyxFQUFBN0MsS0FFQU4sR0FBQUMsUUFBQWhJLE1BQ0FSLFNBQUEsU0FBQTJHLEdBQ0EsR0FBQTZHLEdBQUE3TyxLQUVBYSxFQUFBbUgsRUFBQW5ILElBQ0FFLEVBQUFpSCxFQUFBakgsS0FFQThQLEVBQUE3USxLQUFBNFIsTUFBQSxpQkFBQSxXQUNBLE1BQUFwUCxHQUFBcU0sRUFBQVksV0FHQXhNLEVBQUE0TixFQUFBNU4sT0FDQUYsRUFBQThOLEVBQUE5TixNQUVBZ1AsRUFBQS9SLEtBQUFnUyxrQkFFQWxSLEVBQUFELEVBQUFvQyxFQUNBakMsRUFBQUQsRUFBQWdDLEVBRUFpVCxJQUNBblYsSUFBQWtSLEVBQUFqUixRQUFBQSxHQUFBaVIsRUFBQWxSLE1BQ0EsT0FBQSxTQUFBZ0UsUUFBQSxTQUFBbUUsR0FDQSxHQUFBaU4sR0FBQWxFLEVBQUEvSSxFQUNBaU4sS0FBQWxWLEdBQUFrVixJQUFBalYsR0FDQWdWLEVBQUFuVSxLQUFBbUgsS0FLQWpJLEdBQUFnUixFQUFBL1EsT0FBQUEsR0FBQStRLEVBQUFoUixPQUNBLE1BQUEsVUFBQThELFFBQUEsU0FBQW1FLEdBQ0EsR0FBQWlOLEdBQUFsRSxFQUFBL0ksRUFDQWlOLEtBQUFwVixHQUFBb1YsSUFBQW5WLEdBQ0FrVixFQUFBblUsS0FBQW1ILElBS0EsSUFBQStMLE1BQ0FJLEtBRUE5RCxHQUFBLE9BQUEsTUFBQSxRQUFBLFNBcUJBLE9BcEJBMEQsR0FBQWxULEtBQUE3QixLQUFBNlAsU0FBQSxZQUNBd0IsRUFBQXhNLFFBQUEsU0FBQW1FLEdBQ0ErTCxFQUFBbFQsS0FBQWdOLEVBQUFnQixTQUFBLFdBQUEsSUFBQTdHLEtBR0FnTixFQUFBelIsUUFDQTRRLEVBQUF0VCxLQUFBN0IsS0FBQTZQLFNBQUEsWUFHQW1HLEVBQUFuUixRQUFBLFNBQUFtRSxHQUNBbU0sRUFBQXRULEtBQUFnTixFQUFBZ0IsU0FBQSxXQUFBLElBQUE3RyxLQUdBa0IsRUFBQSxZQUNBLElBQUEyRSxFQUFBRCxRQUFBa0Isa0JBQ0F2SixFQUFBc0ksRUFBQXZGLE9BQUE2TCxFQUFBSixHQUVBeE8sRUFBQXNJLEVBQUFZLFFBQUEwRixFQUFBSixNQUdBLElBT0EsSUFBQTdKLEdBQUEsV0FBQSxRQUFBQyxHQUFBQyxFQUFBbkMsR0FBQSxHQUFBb0MsTUFBQUMsR0FBQSxFQUFBQyxHQUFBLEVBQUFDLE1BQUE3SixFQUFBLEtBQUEsSUFBQSxHQUFBOEosR0FBQUMsRUFBQU4sRUFBQU8sT0FBQUMsY0FBQU4sR0FBQUcsRUFBQUMsRUFBQUcsUUFBQUMsUUFBQVQsRUFBQXhKLEtBQUE0SixFQUFBMUUsUUFBQWtDLEdBQUFvQyxFQUFBOUcsU0FBQTBFLEdBQUFxQyxHQUFBLElBQUEsTUFBQTFKLEdBQUEySixHQUFBLEVBQUFDLEVBQUE1SixFQUFBLFFBQUEsS0FBQTBKLEdBQUFJLEVBQUEsUUFBQUEsRUFBQSxTQUFBLFFBQUEsR0FBQUgsRUFBQSxLQUFBQyxJQUFBLE1BQUFILEdBQUEsTUFBQSxVQUFBRCxFQUFBbkMsR0FBQSxHQUFBeEUsTUFBQXNILFFBQUFYLEdBQUEsTUFBQUEsRUFBQSxJQUFBTyxPQUFBQyxXQUFBaEYsUUFBQXdFLEdBQUEsTUFBQUQsR0FBQUMsRUFBQW5DLEVBQUEsTUFBQSxJQUFBMUosV0FBQSwyREEwQ0EsT0F4Q0FxSyxHQUFBQyxRQUFBaEksTUFDQVIsU0FBQSxTQUFBMkcsR0FDQSxHQUFBbkgsR0FBQW1ILEVBQUFuSCxJQUNBRSxFQUFBaUgsRUFBQWpILElBRUEsSUFBQWYsS0FBQTRPLFFBQUFzSCxNQUFBLENBSUEsR0FBQUEsR0FBQWxXLEtBQUE0TyxRQUFBc0gsS0FDQSxtQkFBQWxXLE1BQUE0TyxRQUFBc0gsUUFDQUEsRUFBQWxXLEtBQUE0TyxRQUFBc0gsTUFBQWpSLEtBQUFqRixNQUFBYSxJQUFBQSxFQUFBRSxLQUFBQSxJQUdBLElBQUFvVixPQUFBeFUsR0FDQXlVLE1BQUF6VSxFQUNBLElBQUEsZ0JBQUF1VSxHQUFBLENBQ0FBLEVBQUFBLEVBQUE3USxNQUFBLEtBQ0E2USxFQUFBLEdBQUFBLEVBQUEsSUFBQUEsRUFBQSxFQUVBLElBQUFHLEdBQUFILEVBRUFJLEVBQUFwTCxFQUFBbUwsRUFBQSxFQUVBRixHQUFBRyxFQUFBLEdBQ0FGLEVBQUFFLEVBQUEsR0FFQUgsRUFBQWxPLFdBQUFrTyxFQUFBLElBQ0FDLEVBQUFuTyxXQUFBbU8sRUFBQSxRQUVBRCxHQUFBRCxFQUFBclYsSUFDQXVWLEVBQUFGLEVBQUFuVixJQU1BLE9BSEFGLElBQUFzVixFQUNBcFYsR0FBQXFWLEdBRUF2VixJQUFBQSxFQUFBRSxLQUFBQSxPQUdBaEIsR0N6d0RBLElBQUF3VyxNQUFBLFNBQUFDLEdBb0JBLFFBQUFDLEdBQUEzUixHQUNBLFNBQUE0UixTQUFBelIsS0FBQUgsR0FBQTZSLE1BQUEsaUJBQUEsR0FBQTNELGNBR0EsUUFBQTRELEdBQUE5UixHQUNBLE9BQUFBLEVBQUEsSUFBQUEsR0FBQXJELFNBR0EsUUFBQW9WLEtBQ0EsT0FDQUMsU0FBQUMsRUFBQUMsSUFDQUMsYUFBQUYsRUFBQUMsSUFDQUUsT0FBQSxTQUFBMU0sR0FDQSxHQUFBZ00sRUFBQWhNLEVBQUFsQixRQUFBNk4sR0FBQW5YLE1BQ0EsTUFBQXdLLEdBQUE0TSxVQUFBM00sUUFBQTlGLE1BQUEzRSxLQUFBc0UsYUFPQSxRQUFBK1MsS0FDQSxHQUFBMUosT0FBQTJKLE1BQ0EsT0FBQSxDQUdBLElBQUFwVyxHQUFBVixTQUFBb0QsY0FBQSxZQUVBLEtBQUEsR0FBQXVCLEtBQUFvUyxHQUNBLE9BQUE1VixLQUFBVCxFQUFBUSxNQUFBeUQsR0FDQSxPQUNBNlIsSUFBQU8sRUFBQXBTLEdBS0EsUUFBQSxFQUdBLFFBQUFxUyxHQUFBQyxHQUNBLEdBQUE1SSxHQUFBN08sS0FFQTBYLEdBQUEsQ0FZQSxPQVZBbEIsR0FBQXhXLE1BQUEyWCxJQUFBcEIsRUFBQXFCLGVBQUEsV0FDQUYsR0FBQSxJQUdBakssV0FBQSxXQUNBaUssR0FDQW5CLEVBQUFzQixxQkFBQWhKLElBRUE0SSxHQUVBelgsS0FsRUEsR0FBQStXLElBQUEsRUFJQVEsR0FDQU8saUJBQUEsc0JBQ0FDLGNBQUEsZ0JBQ0FDLFlBQUEsZ0NBQ0FqQixXQUFBLGlCQTZFQVIsR0FFQXFCLGVBQUEsa0JBRUFLLE9BQUEsU0FBQUMsR0FDQSxHQUVBQSxNQTFGQSxJQTBGQTNLLEtBQUE0SyxnQkFDQTNYLFNBQUE0WCxlQUFBRixHQUNBLE9BQUFBLElBRUFHLHVCQUFBLFNBQUE1SSxHQUNBLEdBQUE2SSxHQUFBN0ksRUFBQXhGLGFBQUEsY0FPQSxPQUxBcU8sS0FDQUEsRUFBQTdJLEVBQUF4RixhQUFBLFNBQUEsR0FDQXFPLEVBQUEsV0FBQXJXLEtBQUFxVyxHQUFBQSxFQUFBLE1BR0FBLEdBRUFDLE9BQUEsU0FBQTlJLEdBQ0EsTUFBQUEsR0FBQStJLGNBRUFYLHFCQUFBLFNBQUFwSSxHQUNBK0csRUFBQS9HLEdBQUFrRixRQUFBb0MsRUFBQUMsTUFFQXlCLHNCQUFBLFdBQ0EsTUFBQUMsU0FBQTNCLElBRUE0QixnQkFBQSxTQUFBQyxFQUFBQyxFQUFBQyxHQUNBLElBQUEsR0FBQXhNLEtBQUF3TSxHQUNBLEdBQUFBLEVBQUE5VCxlQUFBc0gsR0FBQSxDQUNBLEdBQUF5TSxHQUFBRCxFQUFBeE0sR0FDQXZGLEVBQUE4UixFQUFBdk0sR0FDQTBNLEVBQUFqUyxHQUFBNlAsRUFBQTdQLEdBQUEsVUFBQTBQLEVBQUExUCxFQUVBLEtBQUEsR0FBQXJCLFFBQUFxVCxHQUFBOVcsS0FBQStXLEdBQ0EsS0FBQSxJQUFBbE0sT0FBQThMLEVBQUExUCxjQUFBLGFBQUFvRCxFQUFBLG9CQUFBME0sRUFBQSx3QkFBQUQsRUFBQSxRQVNBLE9BL0RBLFlBQ0FoQyxFQUFBTSxJQUVBYixFQUFBcE0sR0FBQTZPLHFCQUFBekIsRUFFQWpCLEVBQUFrQywwQkFDQWpDLEVBQUFoTSxNQUFBME8sUUFBQTNDLEVBQUFxQixnQkFBQWYsUUF5REFOLEdBQ0E0QyxRSHBKQUMsUUFBQSxrQkFBQXpOLFNBQUEsZ0JBQUFBLFFBQUFDLFNBQUEsU0FBQTlHLEdBQUEsYUFBQUEsSUFBQSxTQUFBQSxHQUFBLE1BQUFBLElBQUEsa0JBQUE2RyxTQUFBN0csRUFBQWdDLGNBQUE2RSxRQUFBN0csSUFBQTZHLE9BQUFqSCxVQUFBLGVBQUFJLElBRUFzRSxhQUFBLFdBQUEsUUFBQUMsR0FBQUMsRUFBQUMsR0FBQSxJQUFBLEdBQUFOLEdBQUEsRUFBQUEsRUFBQU0sRUFBQWhGLE9BQUEwRSxJQUFBLENBQUEsR0FBQU8sR0FBQUQsRUFBQU4sRUFBQU8sR0FBQXhDLFdBQUF3QyxFQUFBeEMsYUFBQSxFQUFBd0MsRUFBQXRDLGNBQUEsRUFBQSxTQUFBc0MsS0FBQUEsRUFBQXZDLFVBQUEsR0FBQUwsT0FBQTZDLGVBQUFILEVBQUFFLEVBQUF6RSxJQUFBeUUsSUFBQSxNQUFBLFVBQUFsSyxFQUFBb0ssRUFBQUMsR0FBQSxNQUFBRCxJQUFBTCxFQUFBL0osRUFBQW9GLFVBQUFnRixHQUFBQyxHQUFBTixFQUFBL0osRUFBQXFLLEdBQUFySyxNQVdBK1osTUFBQSxTQUFBN0MsR0FRQSxHQUFBOEMsR0FBQSxRQUdBQyxFQUFBLFlBRUFDLEVBQUFoRCxFQUFBcE0sR0FBQWtQLEdBS0FHLEdBQ0FDLFVBQUEsRUFDQUMsVUFBQSxFQUNBQyxPQUFBLEVBQ0FDLE1BQUEsR0FHQUMsR0FDQUosU0FBQSxtQkFDQUMsU0FBQSxVQUNBQyxNQUFBLFVBQ0FDLEtBQUEsV0FHQUUsR0FDQUMsS0FBQSxnQkFDQUMsT0FBQSxrQkFDQUMsS0FBQSxnQkFDQUMsTUFBQSxpQkFDQUMsUUFBQSxtQkFDQUMsT0FBQSxrQkFDQUMsY0FBQSx5QkFDQUMsZ0JBQUEsMkJBQ0FDLGdCQUFBLDJCQUNBQyxrQkFBQSw2QkFDQUMsZUFBQSwyQkFHQUMsR0FDQUMsbUJBQUEsMEJBQ0FDLFNBQUEsaUJBQ0FDLEtBQUEsYUFDQUMsS0FBQSxPQUNBYixLQUFBLFFBR0FjLEdBQ0FDLE9BQUEsZ0JBQ0FDLFlBQUEsd0JBQ0FDLGFBQUEseUJBQ0FDLGNBQUEscURBU0EvQixFQUFBLFdBQ0EsUUFBQUEsR0FBQTVKLEVBQUFvSixHQUNBelosZ0JBQUFZLEtBQUFxWixHQUVBclosS0FBQXFiLFFBQUFyYixLQUFBc2IsV0FBQXpDLEdBQ0E3WSxLQUFBdWIsU0FBQTlMLEVBQ0F6UCxLQUFBd2IsUUFBQWhGLEVBQUEvRyxHQUFBZ00sS0FBQVQsRUFBQUMsUUFBQSxHQUNBamIsS0FBQTBiLFVBQUEsS0FDQTFiLEtBQUEyYixVQUFBLEVBQ0EzYixLQUFBNGIsb0JBQUEsRUFDQTViLEtBQUE2YixzQkFBQSxFQUNBN2IsS0FBQThiLGtCQUFBLEVBQ0E5YixLQUFBK2IscUJBQUEsRUFDQS9iLEtBQUFnYyxnQkFBQSxFQWlZQSxNQTFYQTNDLEdBQUEzVSxVQUFBdVgsT0FBQSxTQUFBQyxHQUNBLE1BQUFsYyxNQUFBMmIsU0FBQTNiLEtBQUFtYyxPQUFBbmMsS0FBQTZaLEtBQUFxQyxJQUdBN0MsRUFBQTNVLFVBQUFtVixLQUFBLFNBQUFxQyxHQUNBLEdBQUFyTixHQUFBN08sSUFFQSxJQUFBQSxLQUFBOGIsaUJBQ0EsS0FBQSxJQUFBaFAsT0FBQSx5QkFHQXlKLE1BQUFrQyx5QkFBQWpDLEVBQUF4VyxLQUFBdWIsVUFBQXJWLFNBQUF5VSxFQUFBSSxRQUNBL2EsS0FBQThiLGtCQUFBLEVBRUEsSUFBQU0sR0FBQTVGLEVBQUF1RCxNQUFBQSxFQUFBRyxNQUNBZ0MsY0FBQUEsR0FHQTFGLEdBQUF4VyxLQUFBdWIsVUFBQTVHLFFBQUF5SCxHQUVBcGMsS0FBQTJiLFVBQUFTLEVBQUFDLHVCQUlBcmMsS0FBQTJiLFVBQUEsRUFFQTNiLEtBQUFzYyxrQkFDQXRjLEtBQUF1YyxnQkFFQS9GLEVBQUFoVyxTQUFBNEIsTUFBQTRELFNBQUEyVSxFQUFBRyxNQUVBOWEsS0FBQXdjLGtCQUNBeGMsS0FBQXljLGtCQUVBakcsRUFBQXhXLEtBQUF1YixVQUFBMVEsR0FBQWtQLEVBQUFPLGNBQUFVLEVBQUFHLGFBQUEsU0FBQTNRLEdBQ0EsTUFBQXFFLEdBQUFzTixLQUFBM1IsS0FHQWdNLEVBQUF4VyxLQUFBd2IsU0FBQTNRLEdBQUFrUCxFQUFBVSxrQkFBQSxXQUNBakUsRUFBQTNILEVBQUEwTSxVQUFBNUQsSUFBQW9DLEVBQUFTLGdCQUFBLFNBQUFoUSxHQUNBZ00sRUFBQWhNLEVBQUFsQixRQUFBNk4sR0FBQXRJLEVBQUEwTSxZQUNBMU0sRUFBQWdOLHNCQUFBLE9BS0E3YixLQUFBMGMsY0FBQSxXQUNBLE1BQUE3TixHQUFBOE4sYUFBQVQsT0FJQTdDLEVBQUEzVSxVQUFBeVgsS0FBQSxTQUFBM1IsR0FDQSxHQUFBNEUsR0FBQXBQLElBTUEsSUFKQXdLLEdBQ0FBLEVBQUFvUyxpQkFHQTVjLEtBQUE4YixpQkFDQSxLQUFBLElBQUFoUCxPQUFBLHlCQUdBLElBQUFpSyxHQUFBUixLQUFBa0MseUJBQUFqQyxFQUFBeFcsS0FBQXViLFVBQUFyVixTQUFBeVUsRUFBQUksS0FDQWhFLEtBQ0EvVyxLQUFBOGIsa0JBQUEsRUFHQSxJQUFBZSxHQUFBckcsRUFBQXVELE1BQUFBLEVBQUFDLEtBQ0F4RCxHQUFBeFcsS0FBQXViLFVBQUE1RyxRQUFBa0ksR0FFQTdjLEtBQUEyYixXQUFBa0IsRUFBQVIsdUJBSUFyYyxLQUFBMmIsVUFBQSxFQUVBM2IsS0FBQXdjLGtCQUNBeGMsS0FBQXljLGtCQUVBakcsRUFBQWhXLFVBQUFzYyxJQUFBL0MsRUFBQUssU0FFQTVELEVBQUF4VyxLQUFBdWIsVUFBQXJXLFlBQUF5VixFQUFBVCxNQUVBMUQsRUFBQXhXLEtBQUF1YixVQUFBdUIsSUFBQS9DLEVBQUFPLGVBQ0E5RCxFQUFBeFcsS0FBQXdiLFNBQUFzQixJQUFBL0MsRUFBQVUsbUJBRUExRCxFQUNBUCxFQUFBeFcsS0FBQXViLFVBQUE1RCxJQUFBcEIsS0FBQXFCLGVBQUEsU0FBQXBOLEdBQ0EsTUFBQTRFLEdBQUEyTixXQUFBdlMsS0FDQXlPLHFCQWxLQSxLQW9LQWpaLEtBQUErYyxlQUlBMUQsRUFBQTNVLFVBQUFzWSxRQUFBLFdBQ0F4RyxFQUFBeUcsV0FBQWpkLEtBQUF1YixTQTdLQSxZQStLQS9FLEVBQUE3SSxPQUFBbk4sU0FBQVIsS0FBQXViLFNBQUF2YixLQUFBMGIsV0FBQW9CLElBQUF2RCxHQUVBdlosS0FBQXFiLFFBQUEsS0FDQXJiLEtBQUF1YixTQUFBLEtBQ0F2YixLQUFBd2IsUUFBQSxLQUNBeGIsS0FBQTBiLFVBQUEsS0FDQTFiLEtBQUEyYixTQUFBLEtBQ0EzYixLQUFBNGIsbUJBQUEsS0FDQTViLEtBQUE2YixxQkFBQSxLQUNBN2IsS0FBQStiLHFCQUFBLEtBQ0EvYixLQUFBZ2MsZ0JBQUEsTUFLQTNDLEVBQUEzVSxVQUFBNFcsV0FBQSxTQUFBekMsR0FHQSxNQUZBQSxHQUFBckMsRUFBQTFTLFVBQUEyVixFQUFBWixHQUNBdEMsS0FBQW9DLGdCQUFBVyxFQUFBVCxFQUFBaUIsR0FDQWpCLEdBR0FRLEVBQUEzVSxVQUFBaVksYUFBQSxTQUFBVCxHQUNBLEdBQUFwTCxHQUFBOVEsS0FFQStXLEVBQUFSLEtBQUFrQyx5QkFBQWpDLEVBQUF4VyxLQUFBdWIsVUFBQXJWLFNBQUF5VSxFQUFBSSxLQUVBL2EsTUFBQXViLFNBQUEvWixZQUFBeEIsS0FBQXViLFNBQUEvWixXQUFBQyxXQUFBeWIsS0FBQUMsY0FFQTNjLFNBQUE0QixLQUFBNkIsWUFBQWpFLEtBQUF1YixVQUdBdmIsS0FBQXViLFNBQUE3WixNQUFBMGIsUUFBQSxRQUNBcGQsS0FBQXViLFNBQUE4QixnQkFBQSxlQUNBcmQsS0FBQXViLFNBQUEzSyxVQUFBLEVBRUFtRyxHQUNBUixLQUFBZ0MsT0FBQXZZLEtBQUF1YixVQUdBL0UsRUFBQXhXLEtBQUF1YixVQUFBdlYsU0FBQTJVLEVBQUFULE1BRUFsYSxLQUFBcWIsUUFBQXpCLE9BQ0E1WixLQUFBc2QsZUFHQSxJQUFBQyxHQUFBL0csRUFBQXVELE1BQUFBLEVBQUFJLE9BQ0ErQixjQUFBQSxJQUdBc0IsRUFBQSxXQUNBMU0sRUFBQXVLLFFBQUF6QixPQUNBOUksRUFBQXlLLFNBQUEzQixRQUVBOUksRUFBQWdMLGtCQUFBLEVBQ0F0RixFQUFBMUYsRUFBQXlLLFVBQUE1RyxRQUFBNEksR0FHQXhHLEdBQ0FQLEVBQUF4VyxLQUFBd2IsU0FBQTdELElBQUFwQixLQUFBcUIsZUFBQTRGLEdBQUF2RSxxQkFyT0EsS0F1T0F1RSxLQUlBbkUsRUFBQTNVLFVBQUE0WSxjQUFBLFdBQ0EsR0FBQXZNLEdBQUEvUSxJQUVBd1csR0FBQWhXLFVBQUFzYyxJQUFBL0MsRUFBQUssU0FDQXZQLEdBQUFrUCxFQUFBSyxRQUFBLFNBQUE1UCxHQUNBaEssV0FBQWdLLEVBQUFsQixRQUFBeUgsRUFBQXdLLFdBQUEvUSxFQUFBbEIsUUFBQWtOLEVBQUF6RixFQUFBd0ssVUFBQWtDLElBQUFqVCxFQUFBbEIsUUFBQS9FLFFBQ0F3TSxFQUFBd0ssU0FBQTNCLFdBS0FQLEVBQUEzVSxVQUFBOFgsZ0JBQUEsV0FDQSxHQUFBdkwsR0FBQWpSLElBRUFBLE1BQUEyYixVQUFBM2IsS0FBQXFiLFFBQUExQixTQUNBbkQsRUFBQXhXLEtBQUF1YixVQUFBMVEsR0FBQWtQLEVBQUFRLGdCQUFBLFNBQUEvUCxHQXhQQSxLQXlQQUEsRUFBQWtULE9BQ0F6TSxFQUFBa0wsU0FHQW5jLEtBQUEyYixVQUNBbkYsRUFBQXhXLEtBQUF1YixVQUFBdUIsSUFBQS9DLEVBQUFRLGtCQUlBbEIsRUFBQTNVLFVBQUErWCxnQkFBQSxXQUNBLEdBQUFyTCxHQUFBcFIsSUFFQUEsTUFBQTJiLFNBQ0FuRixFQUFBN0ksUUFBQTlDLEdBQUFrUCxFQUFBTSxPQUFBLFNBQUE3UCxHQUNBLE1BQUE0RyxHQUFBdU0sY0FBQW5ULEtBR0FnTSxFQUFBN0ksUUFBQW1QLElBQUEvQyxFQUFBTSxTQUlBaEIsRUFBQTNVLFVBQUFxWSxXQUFBLFdBQ0EsR0FBQXhMLEdBQUF2UixJQUVBQSxNQUFBdWIsU0FBQTdaLE1BQUEwYixRQUFBLE9BQ0FwZCxLQUFBdWIsU0FBQWpWLGFBQUEsY0FBQSxRQUNBdEcsS0FBQThiLGtCQUFBLEVBQ0E5YixLQUFBMGMsY0FBQSxXQUNBbEcsRUFBQWhXLFNBQUE0QixNQUFBOEMsWUFBQXlWLEVBQUFHLE1BQ0F2SixFQUFBcU0sb0JBQ0FyTSxFQUFBc00sa0JBQ0FySCxFQUFBakYsRUFBQWdLLFVBQUE1RyxRQUFBb0YsRUFBQUUsV0FJQVosRUFBQTNVLFVBQUFvWixnQkFBQSxXQUNBOWQsS0FBQTBiLFlBQ0FsRixFQUFBeFcsS0FBQTBiLFdBQUFsVyxTQUNBeEYsS0FBQTBiLFVBQUEsT0FJQXJDLEVBQUEzVSxVQUFBZ1ksY0FBQSxTQUFBcUIsR0FDQSxHQUFBM0ssR0FBQXBULEtBRUFnZSxFQUFBeEgsRUFBQXhXLEtBQUF1YixVQUFBclYsU0FBQXlVLEVBQUFJLE1BQUFKLEVBQUFJLEtBQUEsRUFFQSxJQUFBL2EsS0FBQTJiLFVBQUEzYixLQUFBcWIsUUFBQTNCLFNBQUEsQ0FDQSxHQUFBdUUsR0FBQTFILEtBQUFrQyx5QkFBQXVGLENBZ0NBLElBOUJBaGUsS0FBQTBiLFVBQUFsYixTQUFBb0QsY0FBQSxPQUNBNUQsS0FBQTBiLFVBQUE5VixVQUFBK1UsRUFBQUUsU0FFQW1ELEdBQ0F4SCxFQUFBeFcsS0FBQTBiLFdBQUExVixTQUFBZ1ksR0FHQXhILEVBQUF4VyxLQUFBMGIsV0FBQXdDLFNBQUExZCxTQUFBNEIsTUFFQW9VLEVBQUF4VyxLQUFBdWIsVUFBQTFRLEdBQUFrUCxFQUFBTyxjQUFBLFNBQUE5UCxHQUNBLEdBQUE0SSxFQUFBeUkscUJBRUEsWUFEQXpJLEVBQUF5SSxzQkFBQSxFQUdBclIsR0FBQWxCLFNBQUFrQixFQUFBMlQsZ0JBR0EsV0FBQS9LLEVBQUFpSSxRQUFBM0IsU0FDQXRHLEVBQUFtSSxTQUFBM0IsUUFFQXhHLEVBQUErSSxVQUlBOEIsR0FDQTFILEtBQUFnQyxPQUFBdlksS0FBQTBiLFdBR0FsRixFQUFBeFcsS0FBQTBiLFdBQUExVixTQUFBMlUsRUFBQVQsT0FFQTZELEVBQ0EsTUFHQSxLQUFBRSxFQUVBLFdBREFGLElBSUF2SCxHQUFBeFcsS0FBQTBiLFdBQUEvRCxJQUFBcEIsS0FBQXFCLGVBQUFtRyxHQUFBOUUscUJBblZBOzRFQW9WQSxLQUFBalosS0FBQTJiLFVBQUEzYixLQUFBMGIsVUFBQSxDQUNBbEYsRUFBQXhXLEtBQUEwYixXQUFBeFcsWUFBQXlWLEVBQUFULEtBRUEsSUFBQWtFLEdBQUEsV0FDQWhMLEVBQUEwSyxrQkFDQUMsR0FDQUEsSUFJQXhILE1BQUFrQyx5QkFBQWpDLEVBQUF4VyxLQUFBdWIsVUFBQXJWLFNBQUF5VSxFQUFBSSxNQUNBdkUsRUFBQXhXLEtBQUEwYixXQUFBL0QsSUFBQXBCLEtBQUFxQixlQUFBd0csR0FBQW5GLHFCQS9WQSxLQWlXQW1GLFFBRUFMLElBQ0FBLEtBU0ExRSxFQUFBM1UsVUFBQWlaLGNBQUEsV0FDQTNkLEtBQUFxZSxpQkFHQWhGLEVBQUEzVSxVQUFBMlosY0FBQSxXQUNBLEdBQUFDLEdBQUF0ZSxLQUFBdWIsU0FBQXJZLGFBQUExQyxTQUFBa0MsZ0JBQUFZLGNBRUF0RCxLQUFBNGIsb0JBQUEwQyxJQUNBdGUsS0FBQXViLFNBQUE3WixNQUFBNmMsWUFBQXZlLEtBQUFnYyxnQkFBQSxNQUdBaGMsS0FBQTRiLHFCQUFBMEMsSUFDQXRlLEtBQUF1YixTQUFBN1osTUFBQThjLGFBQUF4ZSxLQUFBZ2MsZ0JBQUEsT0FJQTNDLEVBQUEzVSxVQUFBa1osa0JBQUEsV0FDQTVkLEtBQUF1YixTQUFBN1osTUFBQTZjLFlBQUEsR0FDQXZlLEtBQUF1YixTQUFBN1osTUFBQThjLGFBQUEsSUFHQW5GLEVBQUEzVSxVQUFBNFgsZ0JBQUEsV0FDQXRjLEtBQUE0YixtQkFBQXBiLFNBQUE0QixLQUFBaUIsWUFBQXNLLE9BQUFoRixXQUNBM0ksS0FBQWdjLGdCQUFBaGMsS0FBQXllLHNCQUdBcEYsRUFBQTNVLFVBQUE2WCxjQUFBLFdBQ0EsR0FBQW1DLEdBQUFDLFNBQUFuSSxFQUFBd0UsRUFBQUksZUFBQTNILElBQUEsa0JBQUEsRUFBQSxHQUVBelQsTUFBQStiLHFCQUFBdmIsU0FBQTRCLEtBQUFWLE1BQUE4YyxjQUFBLEdBRUF4ZSxLQUFBNGIscUJBQ0FwYixTQUFBNEIsS0FBQVYsTUFBQThjLGFBQUFFLEVBQUExZSxLQUFBZ2MsZ0JBQUEsT0FJQTNDLEVBQUEzVSxVQUFBbVosZ0JBQUEsV0FDQXJkLFNBQUE0QixLQUFBVixNQUFBOGMsYUFBQXhlLEtBQUErYixzQkFHQTFDLEVBQUEzVSxVQUFBK1osbUJBQUEsV0FFQSxHQUFBRyxHQUFBcGUsU0FBQW9ELGNBQUEsTUFDQWdiLEdBQUFoWixVQUFBK1UsRUFBQUMsbUJBQ0FwYSxTQUFBNEIsS0FBQTZCLFlBQUEyYSxFQUNBLElBQUFDLEdBQUFELEVBQUF6YSxZQUFBeWEsRUFBQXZiLFdBRUEsT0FEQTdDLFVBQUE0QixLQUFBRyxZQUFBcWMsR0FDQUMsR0FLQXhGLEVBQUF5RixpQkFBQSxTQUFBakcsRUFBQXFELEdBQ0EsTUFBQWxjLE1BQUErZSxLQUFBLFdBQ0EsR0FBQUMsR0FBQXhJLEVBQUF4VyxNQUFBZ2YsS0F4YUEsWUF5YUEzRCxFQUFBN0UsRUFBQTFTLFVBQUF1VixFQUFBSSxRQUFBakQsRUFBQXhXLE1BQUFnZixPQUFBLGdCQUFBLEtBQUFuRyxFQUFBLFlBQUFPLFFBQUFQLEtBQUFBLEVBT0EsSUFMQW1HLElBQ0FBLEVBQUEsR0FBQTNGLEdBQUFyWixLQUFBcWIsR0FDQTdFLEVBQUF4VyxNQUFBZ2YsS0E3YUEsV0E2YUFBLElBR0EsZ0JBQUFuRyxHQUFBLENBQ0EsT0FBQWxYLEtBQUFxZCxFQUFBbkcsR0FDQSxLQUFBLElBQUEvTCxPQUFBLG9CQUFBK0wsRUFBQSxJQUVBbUcsR0FBQW5HLEdBQUFxRCxPQUNBYixHQUFBeEIsTUFDQW1GLEVBQUFuRixLQUFBcUMsTUFLQTlTLGFBQUFpUSxFQUFBLE9BQ0F0VSxJQUFBLFVBQ0E2SCxJQUFBLFdBQ0EsTUEvYkEsbUJBa2NBN0gsSUFBQSxVQUNBNkgsSUFBQSxXQUNBLE1BQUE2TSxPQUlBSixJQXNEQSxPQTdDQTdDLEdBQUFoVyxVQUFBcUssR0FBQWtQLEVBQUFXLGVBQUFNLEVBQUFFLFlBQUEsU0FBQTFRLEdBQ0EsR0FBQXlVLEdBQUFqZixLQUVBc0osTUFBQSxHQUNBZ1AsRUFBQS9CLEtBQUE4Qix1QkFBQXJZLEtBRUFzWSxLQUNBaFAsRUFBQWtOLEVBQUE4QixHQUFBLEdBR0EsSUFBQU8sR0FBQXJDLEVBQUFsTixHQUFBMFYsS0ExZEEsWUEwZEEsU0FBQXhJLEVBQUExUyxVQUFBMFMsRUFBQWxOLEdBQUEwVixPQUFBeEksRUFBQXhXLE1BQUFnZixPQUVBLE9BQUFoZixLQUFBdVUsU0FBQSxTQUFBdlUsS0FBQXVVLFNBQ0EvSixFQUFBb1MsZ0JBR0EsSUFBQXNDLEdBQUExSSxFQUFBbE4sR0FBQXFPLElBQUFvQyxFQUFBRyxLQUFBLFNBQUFrQyxHQUNBQSxFQUFBQyxzQkFLQTZDLEVBQUF2SCxJQUFBb0MsRUFBQUUsT0FBQSxXQUNBekQsRUFBQXlJLEdBQUE5SCxHQUFBLGFBQ0E4SCxFQUFBckYsV0FLQVAsR0FBQXlGLGlCQUFBN1osS0FBQXVSLEVBQUFsTixHQUFBdVAsRUFBQTdZLFFBU0F3VyxFQUFBcE0sR0FBQWtQLEdBQUFELEVBQUF5RixpQkFDQXRJLEVBQUFwTSxHQUFBa1AsR0FBQWhhLFlBQUErWixFQUNBN0MsRUFBQXBNLEdBQUFrUCxHQUFBNkYsV0FBQSxXQUVBLE1BREEzSSxHQUFBcE0sR0FBQWtQLEdBQUFFLEVBQ0FILEVBQUF5RixrQkFHQXpGLEdBQ0FGLFFDcmhCQUMsUUFBQSxrQkFBQXpOLFNBQUEsZ0JBQUFBLFFBQUFDLFNBQUEsU0FBQTlHLEdBQUEsYUFBQUEsSUFBQSxTQUFBQSxHQUFBLE1BQUFBLElBQUEsa0JBQUE2RyxTQUFBN0csRUFBQWdDLGNBQUE2RSxRQUFBN0csSUFBQTZHLE9BQUFqSCxVQUFBLGVBQUFJLElBRUFzRSxhQUFBLFdBQUEsUUFBQUMsR0FBQUMsRUFBQUMsR0FBQSxJQUFBLEdBQUFOLEdBQUEsRUFBQUEsRUFBQU0sRUFBQWhGLE9BQUEwRSxJQUFBLENBQUEsR0FBQU8sR0FBQUQsRUFBQU4sRUFBQU8sR0FBQXhDLFdBQUF3QyxFQUFBeEMsYUFBQSxFQUFBd0MsRUFBQXRDLGNBQUEsRUFBQSxTQUFBc0MsS0FBQUEsRUFBQXZDLFVBQUEsR0FBQUwsT0FBQTZDLGVBQUFILEVBQUFFLEVBQUF6RSxJQUFBeUUsSUFBQSxNQUFBLFVBQUFsSyxFQUFBb0ssRUFBQUMsR0FBQSxNQUFBRCxJQUFBTCxFQUFBL0osRUFBQW9GLFVBQUFnRixHQUFBQyxHQUFBTixFQUFBL0osRUFBQXFLLEdBQUFySyxNQVdBOGYsUUFBQSxTQUFBNUksR0FNQSxHQUFBLG1CQUFBelcsUUFDQSxLQUFBLElBQUErTSxPQUFBLHdEQVNBLElBQUF3TSxHQUFBLFVBR0FDLEVBQUEsY0FDQUMsRUFBQWhELEVBQUFwTSxHQUFBa1AsR0FJQUcsR0FDQTRGLFdBQUEsRUFDQUMsU0FBQSw4RUFDQTNLLFFBQUEsY0FDQTRLLE1BQUEsR0FDQUMsTUFBQSxFQUNBQyxNQUFBLEVBQ0FuSCxVQUFBLEVBQ0FvSCxVQUFBLE1BQ0F2WCxPQUFBLE1BQ0F5TSxlQUNBK0ssV0FBQSxHQUdBN0YsR0FDQXVGLFVBQUEsVUFDQUMsU0FBQSxTQUNBQyxNQUFBLDRCQUNBNUssUUFBQSxTQUNBNkssTUFBQSxrQkFDQUMsS0FBQSxVQUNBbkgsU0FBQSxtQkFDQW9ILFVBQUEsb0JBQ0F2WCxPQUFBLFNBQ0F5TSxZQUFBLFFBQ0ErSyxVQUFBLDRCQUdBQyxHQUNBQyxJQUFBLGdCQUNBQyxNQUFBLGNBQ0FDLE9BQUEsYUFDQUMsS0FBQSxnQkFHQUMsR0FDQS9GLEtBQUEsT0FDQWdHLElBQUEsT0FHQW5HLEdBQ0FDLEtBQUEsT0FBQVQsRUFDQVUsT0FBQSxTQUFBVixFQUNBVyxLQUFBLE9BQUFYLEVBQ0FZLE1BQUEsUUFBQVosRUFDQTRHLFNBQUEsV0FBQTVHLEVBQ0E2RyxNQUFBLFFBQUE3RyxFQUNBYSxRQUFBLFVBQUFiLEVBQ0E4RyxTQUFBLFdBQUE5RyxFQUNBK0csV0FBQSxhQUFBL0csRUFDQWdILFdBQUEsYUFBQWhILEdBR0FvQixHQUNBSSxLQUFBLE9BQ0FiLEtBQUEsUUFHQWMsR0FDQXdGLFFBQUEsV0FDQUMsY0FBQSxrQkFHQS9SLEdBQ0FlLFNBQUEsRUFDQU8sU0FBQSxHQUdBMFEsR0FDQUMsTUFBQSxRQUNBQyxNQUFBLFFBQ0FSLE1BQUEsUUFDQVMsT0FBQSxVQVNBekIsRUFBQSxXQUNBLFFBQUFBLEdBQUEzUCxFQUFBb0osR0FDQXpaLGdCQUFBWSxLQUFBb2YsR0FHQXBmLEtBQUE4Z0IsWUFBQSxFQUNBOWdCLEtBQUErZ0IsU0FBQSxFQUNBL2dCLEtBQUFnaEIsWUFBQSxHQUNBaGhCLEtBQUFpaEIsa0JBQ0FqaEIsS0FBQThiLGtCQUFBLEVBQ0E5YixLQUFBa2hCLFFBQUEsS0FHQWxoQixLQUFBeVAsUUFBQUEsRUFDQXpQLEtBQUE2WSxPQUFBN1ksS0FBQXNiLFdBQUF6QyxHQUNBN1ksS0FBQW1oQixJQUFBLEtBRUFuaEIsS0FBQW9oQixnQkFxZEEsTUE5Y0FoQyxHQUFBMWEsVUFBQXVMLE9BQUEsV0FDQWpRLEtBQUE4Z0IsWUFBQSxHQUdBMUIsRUFBQTFhLFVBQUFxTCxRQUFBLFdBQ0EvUCxLQUFBOGdCLFlBQUEsR0FHQTFCLEVBQUExYSxVQUFBMmMsY0FBQSxXQUNBcmhCLEtBQUE4Z0IsWUFBQTlnQixLQUFBOGdCLFlBR0ExQixFQUFBMWEsVUFBQXVYLE9BQUEsU0FBQXpSLEdBQ0EsR0FBQUEsRUFBQSxDQUNBLEdBQUE4VyxHQUFBdGhCLEtBQUE4RyxZQUFBeWEsU0FDQXZXLEVBQUF3TCxFQUFBaE0sRUFBQTJULGVBQUFhLEtBQUFzQyxFQUVBdFcsS0FDQUEsRUFBQSxHQUFBaEwsTUFBQThHLFlBQUEwRCxFQUFBMlQsY0FBQW5lLEtBQUF3aEIsc0JBQ0FoTCxFQUFBaE0sRUFBQTJULGVBQUFhLEtBQUFzQyxFQUFBdFcsSUFHQUEsRUFBQWlXLGVBQUFRLE9BQUF6VyxFQUFBaVcsZUFBQVEsTUFFQXpXLEVBQUEwVyx1QkFDQTFXLEVBQUEyVyxPQUFBLEtBQUEzVyxHQUVBQSxFQUFBNFcsT0FBQSxLQUFBNVcsT0FFQSxDQUVBLEdBQUF3TCxFQUFBeFcsS0FBQTZoQixpQkFBQTNiLFNBQUF5VSxFQUFBVCxNQUVBLFdBREFsYSxNQUFBNGhCLE9BQUEsS0FBQTVoQixLQUlBQSxNQUFBMmhCLE9BQUEsS0FBQTNoQixRQUlBb2YsRUFBQTFhLFVBQUFzWSxRQUFBLFdBQ0F0UCxhQUFBMU4sS0FBQStnQixVQUVBL2dCLEtBQUE4aEIsZ0JBRUF0TCxFQUFBeUcsV0FBQWpkLEtBQUF5UCxRQUFBelAsS0FBQThHLFlBQUF5YSxVQUVBL0ssRUFBQXhXLEtBQUF5UCxTQUFBcU4sSUFBQTljLEtBQUE4RyxZQUFBeVMsV0FDQS9DLEVBQUF4VyxLQUFBeVAsU0FBQXNTLFFBQUEsVUFBQWpGLElBQUEsaUJBRUE5YyxLQUFBbWhCLEtBQ0EzSyxFQUFBeFcsS0FBQW1oQixLQUFBM2IsU0FHQXhGLEtBQUE4Z0IsV0FBQSxLQUNBOWdCLEtBQUErZ0IsU0FBQSxLQUNBL2dCLEtBQUFnaEIsWUFBQSxLQUNBaGhCLEtBQUFpaEIsZUFBQSxLQUNBamhCLEtBQUFraEIsUUFBQSxLQUVBbGhCLEtBQUF5UCxRQUFBLEtBQ0F6UCxLQUFBNlksT0FBQSxLQUNBN1ksS0FBQW1oQixJQUFBLE1BR0EvQixFQUFBMWEsVUFBQW1WLEtBQUEsV0FDQSxHQUFBaEwsR0FBQTdPLElBRUEsSUFBQSxTQUFBd1csRUFBQXhXLEtBQUF5UCxTQUFBZ0UsSUFBQSxXQUNBLEtBQUEsSUFBQTNHLE9BQUEsc0NBR0EsSUFBQXNQLEdBQUE1RixFQUFBdUQsTUFBQS9aLEtBQUE4RyxZQUFBaVQsTUFBQUcsS0FDQSxJQUFBbGEsS0FBQWdpQixpQkFBQWhpQixLQUFBOGdCLFdBQUEsQ0FDQSxHQUFBOWdCLEtBQUE4YixpQkFDQSxLQUFBLElBQUFoUCxPQUFBLDJCQUVBMEosR0FBQXhXLEtBQUF5UCxTQUFBa0YsUUFBQXlILEVBRUEsSUFBQTZGLEdBQUF6TCxFQUFBclEsU0FBQW5HLEtBQUF5UCxRQUFBbFAsY0FBQW1DLGdCQUFBMUMsS0FBQXlQLFFBRUEsSUFBQTJNLEVBQUFDLHVCQUFBNEYsRUFDQSxNQUdBLElBQUFkLEdBQUFuaEIsS0FBQTZoQixnQkFDQUssRUFBQTNMLEtBQUEwQixPQUFBalksS0FBQThHLFlBQUF3UyxLQUVBNkgsR0FBQTdhLGFBQUEsS0FBQTRiLEdBQ0FsaUIsS0FBQXlQLFFBQUFuSixhQUFBLG1CQUFBNGIsR0FFQWxpQixLQUFBbWlCLGFBRUFuaUIsS0FBQTZZLE9BQUF3RyxXQUNBN0ksRUFBQTJLLEdBQUFuYixTQUFBMlUsRUFBQUksS0FHQSxJQUFBMkUsR0FBQSxrQkFBQTFmLE1BQUE2WSxPQUFBNkcsVUFBQTFmLEtBQUE2WSxPQUFBNkcsVUFBQXphLEtBQUFqRixLQUFBbWhCLEVBQUFuaEIsS0FBQXlQLFNBQUF6UCxLQUFBNlksT0FBQTZHLFVBRUF2UixFQUFBbk8sS0FBQW9pQixlQUFBMUMsR0FFQUMsR0FBQSxJQUFBM2YsS0FBQTZZLE9BQUE4RyxVQUFBbmYsU0FBQTRCLEtBQUFvVSxFQUFBeFcsS0FBQTZZLE9BQUE4RyxVQUVBbkosR0FBQTJLLEdBQUFuQyxLQUFBaGYsS0FBQThHLFlBQUF5YSxTQUFBdmhCLE1BQUFrZSxTQUFBeUIsR0FFQW5KLEVBQUF4VyxLQUFBeVAsU0FBQWtGLFFBQUEzVSxLQUFBOEcsWUFBQWlULE1BQUFvRyxVQUVBbmdCLEtBQUFraEIsUUFBQSxHQUFBbmhCLFNBQ0FvTyxXQUFBQSxFQUNBc0IsUUFBQTBSLEVBQ0E3WCxPQUFBdEosS0FBQXlQLFFBQ0FQLFFBQUFSLEVBQ0FTLFlBM05BLFlBNE5BaEgsT0FBQW5JLEtBQUE2WSxPQUFBMVEsT0FDQXlNLFlBQUE1VSxLQUFBNlksT0FBQWpFLFlBQ0E5RSxrQkFBQSxJQUdBeUcsS0FBQWdDLE9BQUE0SSxHQUNBbmhCLEtBQUFraEIsUUFBQTdmLFdBRUFtVixFQUFBMkssR0FBQW5iLFNBQUEyVSxFQUFBVCxLQUVBLElBQUFtSSxHQUFBLFdBQ0EsR0FBQUMsR0FBQXpULEVBQUFtUyxXQUNBblMsR0FBQW1TLFlBQUEsS0FDQW5TLEVBQUFpTixrQkFBQSxFQUVBdEYsRUFBQTNILEVBQUFZLFNBQUFrRixRQUFBOUYsRUFBQS9ILFlBQUFpVCxNQUFBSSxPQUVBbUksSUFBQXJDLEVBQUFDLEtBQ0FyUixFQUFBK1MsT0FBQSxLQUFBL1MsR0FJQSxJQUFBMEgsS0FBQWtDLHlCQUFBakMsRUFBQXhXLEtBQUFtaEIsS0FBQWpiLFNBQUF5VSxFQUFBSSxNQUdBLE1BRkEvYSxNQUFBOGIsa0JBQUEsTUFDQXRGLEdBQUF4VyxLQUFBbWhCLEtBQUF4SixJQUFBcEIsS0FBQXFCLGVBQUF5SyxHQUFBcEoscUJBQUFtRyxFQUFBbUQscUJBSUFGLE9BSUFqRCxFQUFBMWEsVUFBQXlYLEtBQUEsU0FBQTRCLEdBQ0EsR0FBQTNPLEdBQUFwUCxLQUVBbWhCLEVBQUFuaEIsS0FBQTZoQixnQkFDQWhGLEVBQUFyRyxFQUFBdUQsTUFBQS9aLEtBQUE4RyxZQUFBaVQsTUFBQUMsS0FDQSxJQUFBaGEsS0FBQThiLGlCQUNBLEtBQUEsSUFBQWhQLE9BQUEsMkJBRUEsSUFBQXVWLEdBQUEsV0FDQWpULEVBQUE0UixjQUFBZixFQUFBL0YsTUFBQWlILEVBQUEzZixZQUNBMmYsRUFBQTNmLFdBQUFlLFlBQUE0ZSxHQUdBL1IsRUFBQUssUUFBQTROLGdCQUFBLG9CQUNBN0csRUFBQXBILEVBQUFLLFNBQUFrRixRQUFBdkYsRUFBQXRJLFlBQUFpVCxNQUFBRSxRQUNBN0ssRUFBQTBNLGtCQUFBLEVBQ0ExTSxFQUFBMFMsZ0JBRUEvRCxHQUNBQSxJQUlBdkgsR0FBQXhXLEtBQUF5UCxTQUFBa0YsUUFBQWtJLEdBRUFBLEVBQUFSLHVCQUlBN0YsRUFBQTJLLEdBQUFqYyxZQUFBeVYsRUFBQVQsTUFFQWxhLEtBQUFpaEIsZUFBQVAsRUFBQU4sUUFBQSxFQUNBcGdCLEtBQUFpaEIsZUFBQVAsRUFBQUUsUUFBQSxFQUNBNWdCLEtBQUFpaEIsZUFBQVAsRUFBQUMsUUFBQSxFQUVBcEssS0FBQWtDLHlCQUFBakMsRUFBQXhXLEtBQUFtaEIsS0FBQWpiLFNBQUF5VSxFQUFBSSxPQUNBL2EsS0FBQThiLGtCQUFBLEVBQ0F0RixFQUFBMkssR0FBQXhKLElBQUFwQixLQUFBcUIsZUFBQXlLLEdBQUFwSixxQkFsU0EsTUFvU0FvSixJQUdBcmlCLEtBQUFnaEIsWUFBQSxLQUtBNUIsRUFBQTFhLFVBQUFzZCxjQUFBLFdBQ0EsTUFBQXRKLFNBQUExWSxLQUFBd2lCLGFBR0FwRCxFQUFBMWEsVUFBQW1kLGNBQUEsV0FDQSxNQUFBN2hCLE1BQUFtaEIsSUFBQW5oQixLQUFBbWhCLEtBQUEzSyxFQUFBeFcsS0FBQTZZLE9BQUF5RyxVQUFBLElBR0FGLEVBQUExYSxVQUFBeWQsV0FBQSxXQUNBLEdBQUFNLEdBQUFqTSxFQUFBeFcsS0FBQTZoQixnQkFFQTdoQixNQUFBMGlCLGtCQUFBRCxFQUFBaEgsS0FBQVQsRUFBQXlGLGVBQUF6Z0IsS0FBQXdpQixZQUVBQyxFQUFBdmQsWUFBQXlWLEVBQUFJLEtBQUEsSUFBQUosRUFBQVQsTUFFQWxhLEtBQUE4aEIsaUJBR0ExQyxFQUFBMWEsVUFBQWdlLGtCQUFBLFNBQUFDLEVBQUFDLEdBQ0EsR0FBQW5ELEdBQUF6ZixLQUFBNlksT0FBQTRHLElBQ0EsaUJBQUEsS0FBQW1ELEVBQUEsWUFBQXhKLFFBQUF3SixNQUFBQSxFQUFBbmhCLFVBQUFtaEIsRUFBQWpULFFBRUE4UCxFQUNBakosRUFBQW9NLEdBQUFyaEIsU0FBQTRWLEdBQUF3TCxJQUNBQSxFQUFBRSxRQUFBQyxPQUFBRixHQUdBRCxFQUFBSSxLQUFBdk0sRUFBQW9NLEdBQUFHLFFBR0FKLEVBQUFsRCxFQUFBLE9BQUEsUUFBQW1ELElBSUF4RCxFQUFBMWEsVUFBQThkLFNBQUEsV0FDQSxHQUFBakQsR0FBQXZmLEtBQUF5UCxRQUFBeEYsYUFBQSxzQkFNQSxPQUpBc1YsS0FDQUEsRUFBQSxrQkFBQXZmLE1BQUE2WSxPQUFBMEcsTUFBQXZmLEtBQUE2WSxPQUFBMEcsTUFBQXRhLEtBQUFqRixLQUFBeVAsU0FBQXpQLEtBQUE2WSxPQUFBMEcsT0FHQUEsR0FHQUgsRUFBQTFhLFVBQUFvZCxjQUFBLFdBQ0E5aEIsS0FBQWtoQixTQUNBbGhCLEtBQUFraEIsUUFBQThCLFdBTUE1RCxFQUFBMWEsVUFBQTBkLGVBQUEsU0FBQTFDLEdBQ0EsTUFBQUUsR0FBQUYsRUFBQXhXLGdCQUdBa1csRUFBQTFhLFVBQUEwYyxjQUFBLFdBQ0EsR0FBQXRRLEdBQUE5USxJQUVBQSxNQUFBNlksT0FBQWxFLFFBQUF0UCxNQUFBLEtBRUFSLFFBQUEsU0FBQThQLEdBQ0EsR0FBQSxVQUFBQSxFQUNBNkIsRUFBQTFGLEVBQUFyQixTQUFBNUUsR0FBQWlHLEVBQUFoSyxZQUFBaVQsTUFBQXFHLE1BQUF0UCxFQUFBK0gsT0FBQVAsU0FBQSxTQUFBOU4sR0FDQSxNQUFBc0csR0FBQW1MLE9BQUF6UixTQUVBLElBQUFtSyxJQUFBK0wsRUFBQUcsT0FBQSxDQUNBLEdBQUFvQyxHQUFBdE8sSUFBQStMLEVBQUFDLE1BQUE3UCxFQUFBaEssWUFBQWlULE1BQUF1RyxXQUFBeFAsRUFBQWhLLFlBQUFpVCxNQUFBSyxRQUNBOEksRUFBQXZPLElBQUErTCxFQUFBQyxNQUFBN1AsRUFBQWhLLFlBQUFpVCxNQUFBd0csV0FBQXpQLEVBQUFoSyxZQUFBaVQsTUFBQXNHLFFBRUE3SixHQUFBMUYsRUFBQXJCLFNBQUE1RSxHQUFBb1ksRUFBQW5TLEVBQUErSCxPQUFBUCxTQUFBLFNBQUE5TixHQUNBLE1BQUFzRyxHQUFBNlEsT0FBQW5YLEtBQ0FLLEdBQUFxWSxFQUFBcFMsRUFBQStILE9BQUFQLFNBQUEsU0FBQTlOLEdBQ0EsTUFBQXNHLEdBQUE4USxPQUFBcFgsS0FJQWdNLEVBQUExRixFQUFBckIsU0FBQXNTLFFBQUEsVUFBQWxYLEdBQUEsZ0JBQUEsV0FDQSxNQUFBaUcsR0FBQXFMLFdBSUFuYyxLQUFBNlksT0FBQVAsU0FDQXRZLEtBQUE2WSxPQUFBckMsRUFBQTFTLFVBQUE5RCxLQUFBNlksUUFDQWxFLFFBQUEsU0FDQTJELFNBQUEsS0FHQXRZLEtBQUFtakIsYUFJQS9ELEVBQUExYSxVQUFBeWUsVUFBQSxXQUNBLEdBQUFDLEdBQUFoSyxRQUFBcFosS0FBQXlQLFFBQUF4RixhQUFBLHlCQUNBakssS0FBQXlQLFFBQUF4RixhQUFBLFVBQUEsV0FBQW1aLEtBQ0FwakIsS0FBQXlQLFFBQUFuSixhQUFBLHNCQUFBdEcsS0FBQXlQLFFBQUF4RixhQUFBLFVBQUEsSUFDQWpLLEtBQUF5UCxRQUFBbkosYUFBQSxRQUFBLE1BSUE4WSxFQUFBMWEsVUFBQWlkLE9BQUEsU0FBQW5YLEVBQUFRLEdBQ0EsR0FBQXNXLEdBQUF0aEIsS0FBQThHLFlBQUF5YSxRQWFBLE9BWEF2VyxHQUFBQSxHQUFBd0wsRUFBQWhNLEVBQUEyVCxlQUFBYSxLQUFBc0MsR0FFQXRXLElBQ0FBLEVBQUEsR0FBQWhMLE1BQUE4RyxZQUFBMEQsRUFBQTJULGNBQUFuZSxLQUFBd2hCLHNCQUNBaEwsRUFBQWhNLEVBQUEyVCxlQUFBYSxLQUFBc0MsRUFBQXRXLElBR0FSLElBQ0FRLEVBQUFpVyxlQUFBLFlBQUF6VyxFQUFBOEksS0FBQW9OLEVBQUFFLE1BQUFGLEVBQUFDLFFBQUEsR0FHQW5LLEVBQUF4TCxFQUFBNlcsaUJBQUEzYixTQUFBeVUsRUFBQVQsT0FBQWxQLEVBQUFnVyxjQUFBZixFQUFBL0YsVUFDQWxQLEVBQUFnVyxZQUFBZixFQUFBL0YsT0FJQXhNLGFBQUExQyxFQUFBK1YsVUFFQS9WLEVBQUFnVyxZQUFBZixFQUFBL0YsS0FFQWxQLEVBQUE2TixPQUFBMkcsT0FBQXhVLEVBQUE2TixPQUFBMkcsTUFBQTNGLFVBS0E3TyxFQUFBK1YsU0FBQXRULFdBQUEsV0FDQXpDLEVBQUFnVyxjQUFBZixFQUFBL0YsTUFDQWxQLEVBQUE2TyxRQUVBN08sRUFBQTZOLE9BQUEyRyxNQUFBM0YsV0FSQTdPLEdBQUE2TyxTQVdBdUYsRUFBQTFhLFVBQUFrZCxPQUFBLFNBQUFwWCxFQUFBUSxHQUNBLEdBQUFzVyxHQUFBdGhCLEtBQUE4RyxZQUFBeWEsUUFhQSxJQVhBdlcsRUFBQUEsR0FBQXdMLEVBQUFoTSxFQUFBMlQsZUFBQWEsS0FBQXNDLEdBRUF0VyxJQUNBQSxFQUFBLEdBQUFoTCxNQUFBOEcsWUFBQTBELEVBQUEyVCxjQUFBbmUsS0FBQXdoQixzQkFDQWhMLEVBQUFoTSxFQUFBMlQsZUFBQWEsS0FBQXNDLEVBQUF0VyxJQUdBUixJQUNBUSxFQUFBaVcsZUFBQSxhQUFBelcsRUFBQThJLEtBQUFvTixFQUFBRSxNQUFBRixFQUFBQyxRQUFBLElBR0EzVixFQUFBMFcsdUJBQUEsQ0FRQSxHQUpBaFUsYUFBQTFDLEVBQUErVixVQUVBL1YsRUFBQWdXLFlBQUFmLEVBQUFDLEtBRUFsVixFQUFBNk4sT0FBQTJHLFFBQUF4VSxFQUFBNk4sT0FBQTJHLE1BQUFyRCxLQUVBLFdBREFuUixHQUFBbVIsTUFJQW5SLEdBQUErVixTQUFBdFQsV0FBQSxXQUNBekMsRUFBQWdXLGNBQUFmLEVBQUFDLEtBQ0FsVixFQUFBbVIsUUFFQW5SLEVBQUE2TixPQUFBMkcsTUFBQXJELFFBR0FpRCxFQUFBMWEsVUFBQWdkLHFCQUFBLFdBQ0EsSUFBQSxHQUFBL00sS0FBQTNVLE1BQUFpaEIsZUFDQSxHQUFBamhCLEtBQUFpaEIsZUFBQXRNLEdBQ0EsT0FBQSxDQUlBLFFBQUEsR0FHQXlLLEVBQUExYSxVQUFBNFcsV0FBQSxTQUFBekMsR0FZQSxNQVhBQSxHQUFBckMsRUFBQTFTLFVBQUE5RCxLQUFBOEcsWUFBQTJTLFFBQUFqRCxFQUFBeFcsS0FBQXlQLFNBQUF1UCxPQUFBbkcsR0FFQUEsRUFBQTJHLE9BQUEsZ0JBQUEzRyxHQUFBMkcsUUFDQTNHLEVBQUEyRyxPQUNBM0YsS0FBQWhCLEVBQUEyRyxNQUNBckQsS0FBQXRELEVBQUEyRyxRQUlBakosS0FBQW9DLGdCQUFBVyxFQUFBVCxFQUFBN1ksS0FBQThHLFlBQUFnVCxhQUVBakIsR0FHQXVHLEVBQUExYSxVQUFBOGMsbUJBQUEsV0FDQSxHQUFBM0ksS0FFQSxJQUFBN1ksS0FBQTZZLE9BQ0EsSUFBQSxHQUFBOVQsS0FBQS9FLE1BQUE2WSxPQUNBN1ksS0FBQThHLFlBQUEyUyxRQUFBMVUsS0FBQS9FLEtBQUE2WSxPQUFBOVQsS0FDQThULEVBQUE5VCxHQUFBL0UsS0FBQTZZLE9BQUE5VCxHQUtBLE9BQUE4VCxJQUtBdUcsRUFBQU4saUJBQUEsU0FBQWpHLEdBQ0EsTUFBQTdZLE1BQUErZSxLQUFBLFdBQ0EsR0FBQUMsR0FBQXhJLEVBQUF4VyxNQUFBZ2YsS0FuZ0JBLGNBb2dCQTNELEVBQUEsZ0JBQUEsS0FBQXhDLEVBQUEsWUFBQU8sUUFBQVAsS0FBQUEsQ0FFQSxLQUFBbUcsSUFBQSxlQUFBL2MsS0FBQTRXLE1BSUFtRyxJQUNBQSxFQUFBLEdBQUFJLEdBQUFwZixLQUFBcWIsR0FDQTdFLEVBQUF4VyxNQUFBZ2YsS0E1Z0JBLGFBNGdCQUEsSUFHQSxnQkFBQW5HLElBQUEsQ0FDQSxPQUFBbFgsS0FBQXFkLEVBQUFuRyxHQUNBLEtBQUEsSUFBQS9MLE9BQUEsb0JBQUErTCxFQUFBLElBRUFtRyxHQUFBbkcsU0FLQXpQLGFBQUFnVyxFQUFBLE9BQ0FyYSxJQUFBLFVBQ0E2SCxJQUFBLFdBQ0EsTUE1aEJBLG1CQStoQkE3SCxJQUFBLFVBQ0E2SCxJQUFBLFdBQ0EsTUFBQTZNLE1BR0ExVSxJQUFBLE9BQ0E2SCxJQUFBLFdBQ0EsTUFBQTBNLE1BR0F2VSxJQUFBLFdBQ0E2SCxJQUFBLFdBQ0EsTUExaUJBLGdCQTZpQkE3SCxJQUFBLFFBQ0E2SCxJQUFBLFdBQ0EsTUFBQW1OLE1BR0FoVixJQUFBLFlBQ0E2SCxJQUFBLFdBQ0EsTUFBQTJNLE1BR0F4VSxJQUFBLGNBQ0E2SCxJQUFBLFdBQ0EsTUFBQWtOLE9BSUFzRixJQWdCQSxPQVBBNUksR0FBQXBNLEdBQUFrUCxHQUFBOEYsRUFBQU4saUJBQ0F0SSxFQUFBcE0sR0FBQWtQLEdBQUFoYSxZQUFBOGYsRUFDQTVJLEVBQUFwTSxHQUFBa1AsR0FBQTZGLFdBQUEsV0FFQSxNQURBM0ksR0FBQXBNLEdBQUFrUCxHQUFBRSxFQUNBNEYsRUFBQU4sa0JBR0FNLEdBQ0FqRyIsImZpbGUiOiJzdWl0Y2FzZS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEJvb3RzdHJhcCAodjQuMC4wLWFscGhhLjYpOiBtb2RhbC5qc1xuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cblxudmFyIE1vZGFsID0gZnVuY3Rpb24gKCQpIHtcblxuICAvKipcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqIENvbnN0YW50c1xuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cbiAgdmFyIE5BTUUgPSAnbW9kYWwnO1xuICB2YXIgVkVSU0lPTiA9ICc0LjAuMC1hbHBoYS42JztcbiAgdmFyIERBVEFfS0VZID0gJ2JzLm1vZGFsJztcbiAgdmFyIEVWRU5UX0tFWSA9ICcuJyArIERBVEFfS0VZO1xuICB2YXIgREFUQV9BUElfS0VZID0gJy5kYXRhLWFwaSc7XG4gIHZhciBKUVVFUllfTk9fQ09ORkxJQ1QgPSAkLmZuW05BTUVdO1xuICB2YXIgVFJBTlNJVElPTl9EVVJBVElPTiA9IDMwMDtcbiAgdmFyIEJBQ0tEUk9QX1RSQU5TSVRJT05fRFVSQVRJT04gPSAxNTA7XG4gIHZhciBFU0NBUEVfS0VZQ09ERSA9IDI3OyAvLyBLZXlib2FyZEV2ZW50LndoaWNoIHZhbHVlIGZvciBFc2NhcGUgKEVzYykga2V5XG5cbiAgdmFyIERlZmF1bHQgPSB7XG4gICAgYmFja2Ryb3A6IHRydWUsXG4gICAga2V5Ym9hcmQ6IHRydWUsXG4gICAgZm9jdXM6IHRydWUsXG4gICAgc2hvdzogdHJ1ZVxuICB9O1xuXG4gIHZhciBEZWZhdWx0VHlwZSA9IHtcbiAgICBiYWNrZHJvcDogJyhib29sZWFufHN0cmluZyknLFxuICAgIGtleWJvYXJkOiAnYm9vbGVhbicsXG4gICAgZm9jdXM6ICdib29sZWFuJyxcbiAgICBzaG93OiAnYm9vbGVhbidcbiAgfTtcblxuICB2YXIgRXZlbnQgPSB7XG4gICAgSElERTogJ2hpZGUnICsgRVZFTlRfS0VZLFxuICAgIEhJRERFTjogJ2hpZGRlbicgKyBFVkVOVF9LRVksXG4gICAgU0hPVzogJ3Nob3cnICsgRVZFTlRfS0VZLFxuICAgIFNIT1dOOiAnc2hvd24nICsgRVZFTlRfS0VZLFxuICAgIEZPQ1VTSU46ICdmb2N1c2luJyArIEVWRU5UX0tFWSxcbiAgICBSRVNJWkU6ICdyZXNpemUnICsgRVZFTlRfS0VZLFxuICAgIENMSUNLX0RJU01JU1M6ICdjbGljay5kaXNtaXNzJyArIEVWRU5UX0tFWSxcbiAgICBLRVlET1dOX0RJU01JU1M6ICdrZXlkb3duLmRpc21pc3MnICsgRVZFTlRfS0VZLFxuICAgIE1PVVNFVVBfRElTTUlTUzogJ21vdXNldXAuZGlzbWlzcycgKyBFVkVOVF9LRVksXG4gICAgTU9VU0VET1dOX0RJU01JU1M6ICdtb3VzZWRvd24uZGlzbWlzcycgKyBFVkVOVF9LRVksXG4gICAgQ0xJQ0tfREFUQV9BUEk6ICdjbGljaycgKyBFVkVOVF9LRVkgKyBEQVRBX0FQSV9LRVlcbiAgfTtcblxuICB2YXIgQ2xhc3NOYW1lID0ge1xuICAgIFNDUk9MTEJBUl9NRUFTVVJFUjogJ21vZGFsLXNjcm9sbGJhci1tZWFzdXJlJyxcbiAgICBCQUNLRFJPUDogJ21vZGFsLWJhY2tkcm9wJyxcbiAgICBPUEVOOiAnbW9kYWwtb3BlbicsXG4gICAgRkFERTogJ2ZhZGUnLFxuICAgIFNIT1c6ICdzaG93J1xuICB9O1xuXG4gIHZhciBTZWxlY3RvciA9IHtcbiAgICBESUFMT0c6ICcubW9kYWwtZGlhbG9nJyxcbiAgICBEQVRBX1RPR0dMRTogJ1tkYXRhLXRvZ2dsZT1cIm1vZGFsXCJdJyxcbiAgICBEQVRBX0RJU01JU1M6ICdbZGF0YS1kaXNtaXNzPVwibW9kYWxcIl0nLFxuICAgIEZJWEVEX0NPTlRFTlQ6ICcuZml4ZWQtdG9wLCAuZml4ZWQtYm90dG9tLCAuaXMtZml4ZWQsIC5zdGlja3ktdG9wJ1xuICB9O1xuXG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogQ2xhc3MgRGVmaW5pdGlvblxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cbiAgdmFyIE1vZGFsID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1vZGFsKGVsZW1lbnQsIGNvbmZpZykge1xuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1vZGFsKTtcblxuICAgICAgdGhpcy5fY29uZmlnID0gdGhpcy5fZ2V0Q29uZmlnKGNvbmZpZyk7XG4gICAgICB0aGlzLl9lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgIHRoaXMuX2RpYWxvZyA9ICQoZWxlbWVudCkuZmluZChTZWxlY3Rvci5ESUFMT0cpWzBdO1xuICAgICAgdGhpcy5fYmFja2Ryb3AgPSBudWxsO1xuICAgICAgdGhpcy5faXNTaG93biA9IGZhbHNlO1xuICAgICAgdGhpcy5faXNCb2R5T3ZlcmZsb3dpbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMuX2lnbm9yZUJhY2tkcm9wQ2xpY2sgPSBmYWxzZTtcbiAgICAgIHRoaXMuX2lzVHJhbnNpdGlvbmluZyA9IGZhbHNlO1xuICAgICAgdGhpcy5fb3JpZ2luYWxCb2R5UGFkZGluZyA9IDA7XG4gICAgICB0aGlzLl9zY3JvbGxiYXJXaWR0aCA9IDA7XG4gICAgfVxuXG4gICAgLy8gZ2V0dGVyc1xuXG4gICAgLy8gcHVibGljXG5cbiAgICBNb2RhbC5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gdG9nZ2xlKHJlbGF0ZWRUYXJnZXQpIHtcbiAgICAgIHJldHVybiB0aGlzLl9pc1Nob3duID8gdGhpcy5oaWRlKCkgOiB0aGlzLnNob3cocmVsYXRlZFRhcmdldCk7XG4gICAgfTtcblxuICAgIE1vZGFsLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24gc2hvdyhyZWxhdGVkVGFyZ2V0KSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBpZiAodGhpcy5faXNUcmFuc2l0aW9uaW5nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTW9kYWwgaXMgdHJhbnNpdGlvbmluZycpO1xuICAgICAgfVxuXG4gICAgICBpZiAoVXRpbC5zdXBwb3J0c1RyYW5zaXRpb25FbmQoKSAmJiAkKHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKENsYXNzTmFtZS5GQURFKSkge1xuICAgICAgICB0aGlzLl9pc1RyYW5zaXRpb25pbmcgPSB0cnVlO1xuICAgICAgfVxuICAgICAgdmFyIHNob3dFdmVudCA9ICQuRXZlbnQoRXZlbnQuU0hPVywge1xuICAgICAgICByZWxhdGVkVGFyZ2V0OiByZWxhdGVkVGFyZ2V0XG4gICAgICB9KTtcblxuICAgICAgJCh0aGlzLl9lbGVtZW50KS50cmlnZ2VyKHNob3dFdmVudCk7XG5cbiAgICAgIGlmICh0aGlzLl9pc1Nob3duIHx8IHNob3dFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2lzU2hvd24gPSB0cnVlO1xuXG4gICAgICB0aGlzLl9jaGVja1Njcm9sbGJhcigpO1xuICAgICAgdGhpcy5fc2V0U2Nyb2xsYmFyKCk7XG5cbiAgICAgICQoZG9jdW1lbnQuYm9keSkuYWRkQ2xhc3MoQ2xhc3NOYW1lLk9QRU4pO1xuXG4gICAgICB0aGlzLl9zZXRFc2NhcGVFdmVudCgpO1xuICAgICAgdGhpcy5fc2V0UmVzaXplRXZlbnQoKTtcblxuICAgICAgJCh0aGlzLl9lbGVtZW50KS5vbihFdmVudC5DTElDS19ESVNNSVNTLCBTZWxlY3Rvci5EQVRBX0RJU01JU1MsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuaGlkZShldmVudCk7XG4gICAgICB9KTtcblxuICAgICAgJCh0aGlzLl9kaWFsb2cpLm9uKEV2ZW50Lk1PVVNFRE9XTl9ESVNNSVNTLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICQoX3RoaXMuX2VsZW1lbnQpLm9uZShFdmVudC5NT1VTRVVQX0RJU01JU1MsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIGlmICgkKGV2ZW50LnRhcmdldCkuaXMoX3RoaXMuX2VsZW1lbnQpKSB7XG4gICAgICAgICAgICBfdGhpcy5faWdub3JlQmFja2Ryb3BDbGljayA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLl9zaG93QmFja2Ryb3AoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuX3Nob3dFbGVtZW50KHJlbGF0ZWRUYXJnZXQpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIE1vZGFsLnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24gaGlkZShldmVudCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIGlmIChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5faXNUcmFuc2l0aW9uaW5nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTW9kYWwgaXMgdHJhbnNpdGlvbmluZycpO1xuICAgICAgfVxuXG4gICAgICB2YXIgdHJhbnNpdGlvbiA9IFV0aWwuc3VwcG9ydHNUcmFuc2l0aW9uRW5kKCkgJiYgJCh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhDbGFzc05hbWUuRkFERSk7XG4gICAgICBpZiAodHJhbnNpdGlvbikge1xuICAgICAgICB0aGlzLl9pc1RyYW5zaXRpb25pbmcgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgaGlkZUV2ZW50ID0gJC5FdmVudChFdmVudC5ISURFKTtcbiAgICAgICQodGhpcy5fZWxlbWVudCkudHJpZ2dlcihoaWRlRXZlbnQpO1xuXG4gICAgICBpZiAoIXRoaXMuX2lzU2hvd24gfHwgaGlkZUV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5faXNTaG93biA9IGZhbHNlO1xuXG4gICAgICB0aGlzLl9zZXRFc2NhcGVFdmVudCgpO1xuICAgICAgdGhpcy5fc2V0UmVzaXplRXZlbnQoKTtcblxuICAgICAgJChkb2N1bWVudCkub2ZmKEV2ZW50LkZPQ1VTSU4pO1xuXG4gICAgICAkKHRoaXMuX2VsZW1lbnQpLnJlbW92ZUNsYXNzKENsYXNzTmFtZS5TSE9XKTtcblxuICAgICAgJCh0aGlzLl9lbGVtZW50KS5vZmYoRXZlbnQuQ0xJQ0tfRElTTUlTUyk7XG4gICAgICAkKHRoaXMuX2RpYWxvZykub2ZmKEV2ZW50Lk1PVVNFRE9XTl9ESVNNSVNTKTtcblxuICAgICAgaWYgKHRyYW5zaXRpb24pIHtcbiAgICAgICAgJCh0aGlzLl9lbGVtZW50KS5vbmUoVXRpbC5UUkFOU0lUSU9OX0VORCwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMi5faGlkZU1vZGFsKGV2ZW50KTtcbiAgICAgICAgfSkuZW11bGF0ZVRyYW5zaXRpb25FbmQoVFJBTlNJVElPTl9EVVJBVElPTik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9oaWRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgTW9kYWwucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgICAgJC5yZW1vdmVEYXRhKHRoaXMuX2VsZW1lbnQsIERBVEFfS0VZKTtcblxuICAgICAgJCh3aW5kb3csIGRvY3VtZW50LCB0aGlzLl9lbGVtZW50LCB0aGlzLl9iYWNrZHJvcCkub2ZmKEVWRU5UX0tFWSk7XG5cbiAgICAgIHRoaXMuX2NvbmZpZyA9IG51bGw7XG4gICAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcbiAgICAgIHRoaXMuX2RpYWxvZyA9IG51bGw7XG4gICAgICB0aGlzLl9iYWNrZHJvcCA9IG51bGw7XG4gICAgICB0aGlzLl9pc1Nob3duID0gbnVsbDtcbiAgICAgIHRoaXMuX2lzQm9keU92ZXJmbG93aW5nID0gbnVsbDtcbiAgICAgIHRoaXMuX2lnbm9yZUJhY2tkcm9wQ2xpY2sgPSBudWxsO1xuICAgICAgdGhpcy5fb3JpZ2luYWxCb2R5UGFkZGluZyA9IG51bGw7XG4gICAgICB0aGlzLl9zY3JvbGxiYXJXaWR0aCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIHByaXZhdGVcblxuICAgIE1vZGFsLnByb3RvdHlwZS5fZ2V0Q29uZmlnID0gZnVuY3Rpb24gX2dldENvbmZpZyhjb25maWcpIHtcbiAgICAgIGNvbmZpZyA9ICQuZXh0ZW5kKHt9LCBEZWZhdWx0LCBjb25maWcpO1xuICAgICAgVXRpbC50eXBlQ2hlY2tDb25maWcoTkFNRSwgY29uZmlnLCBEZWZhdWx0VHlwZSk7XG4gICAgICByZXR1cm4gY29uZmlnO1xuICAgIH07XG5cbiAgICBNb2RhbC5wcm90b3R5cGUuX3Nob3dFbGVtZW50ID0gZnVuY3Rpb24gX3Nob3dFbGVtZW50KHJlbGF0ZWRUYXJnZXQpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB2YXIgdHJhbnNpdGlvbiA9IFV0aWwuc3VwcG9ydHNUcmFuc2l0aW9uRW5kKCkgJiYgJCh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhDbGFzc05hbWUuRkFERSk7XG5cbiAgICAgIGlmICghdGhpcy5fZWxlbWVudC5wYXJlbnROb2RlIHx8IHRoaXMuX2VsZW1lbnQucGFyZW50Tm9kZS5ub2RlVHlwZSAhPT0gTm9kZS5FTEVNRU5UX05PREUpIHtcbiAgICAgICAgLy8gZG9uJ3QgbW92ZSBtb2RhbHMgZG9tIHBvc2l0aW9uXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5fZWxlbWVudCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKTtcbiAgICAgIHRoaXMuX2VsZW1lbnQuc2Nyb2xsVG9wID0gMDtcblxuICAgICAgaWYgKHRyYW5zaXRpb24pIHtcbiAgICAgICAgVXRpbC5yZWZsb3codGhpcy5fZWxlbWVudCk7XG4gICAgICB9XG5cbiAgICAgICQodGhpcy5fZWxlbWVudCkuYWRkQ2xhc3MoQ2xhc3NOYW1lLlNIT1cpO1xuXG4gICAgICBpZiAodGhpcy5fY29uZmlnLmZvY3VzKSB7XG4gICAgICAgIHRoaXMuX2VuZm9yY2VGb2N1cygpO1xuICAgICAgfVxuXG4gICAgICB2YXIgc2hvd25FdmVudCA9ICQuRXZlbnQoRXZlbnQuU0hPV04sIHtcbiAgICAgICAgcmVsYXRlZFRhcmdldDogcmVsYXRlZFRhcmdldFxuICAgICAgfSk7XG5cbiAgICAgIHZhciB0cmFuc2l0aW9uQ29tcGxldGUgPSBmdW5jdGlvbiB0cmFuc2l0aW9uQ29tcGxldGUoKSB7XG4gICAgICAgIGlmIChfdGhpczMuX2NvbmZpZy5mb2N1cykge1xuICAgICAgICAgIF90aGlzMy5fZWxlbWVudC5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzMy5faXNUcmFuc2l0aW9uaW5nID0gZmFsc2U7XG4gICAgICAgICQoX3RoaXMzLl9lbGVtZW50KS50cmlnZ2VyKHNob3duRXZlbnQpO1xuICAgICAgfTtcblxuICAgICAgaWYgKHRyYW5zaXRpb24pIHtcbiAgICAgICAgJCh0aGlzLl9kaWFsb2cpLm9uZShVdGlsLlRSQU5TSVRJT05fRU5ELCB0cmFuc2l0aW9uQ29tcGxldGUpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKFRSQU5TSVRJT05fRFVSQVRJT04pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHJhbnNpdGlvbkNvbXBsZXRlKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIE1vZGFsLnByb3RvdHlwZS5fZW5mb3JjZUZvY3VzID0gZnVuY3Rpb24gX2VuZm9yY2VGb2N1cygpIHtcbiAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICAkKGRvY3VtZW50KS5vZmYoRXZlbnQuRk9DVVNJTikgLy8gZ3VhcmQgYWdhaW5zdCBpbmZpbml0ZSBmb2N1cyBsb29wXG4gICAgICAub24oRXZlbnQuRk9DVVNJTiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmIChkb2N1bWVudCAhPT0gZXZlbnQudGFyZ2V0ICYmIF90aGlzNC5fZWxlbWVudCAhPT0gZXZlbnQudGFyZ2V0ICYmICEkKF90aGlzNC5fZWxlbWVudCkuaGFzKGV2ZW50LnRhcmdldCkubGVuZ3RoKSB7XG4gICAgICAgICAgX3RoaXM0Ll9lbGVtZW50LmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBNb2RhbC5wcm90b3R5cGUuX3NldEVzY2FwZUV2ZW50ID0gZnVuY3Rpb24gX3NldEVzY2FwZUV2ZW50KCkge1xuICAgICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLl9pc1Nob3duICYmIHRoaXMuX2NvbmZpZy5rZXlib2FyZCkge1xuICAgICAgICAkKHRoaXMuX2VsZW1lbnQpLm9uKEV2ZW50LktFWURPV05fRElTTUlTUywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgaWYgKGV2ZW50LndoaWNoID09PSBFU0NBUEVfS0VZQ09ERSkge1xuICAgICAgICAgICAgX3RoaXM1LmhpZGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmICghdGhpcy5faXNTaG93bikge1xuICAgICAgICAkKHRoaXMuX2VsZW1lbnQpLm9mZihFdmVudC5LRVlET1dOX0RJU01JU1MpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBNb2RhbC5wcm90b3R5cGUuX3NldFJlc2l6ZUV2ZW50ID0gZnVuY3Rpb24gX3NldFJlc2l6ZUV2ZW50KCkge1xuICAgICAgdmFyIF90aGlzNiA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLl9pc1Nob3duKSB7XG4gICAgICAgICQod2luZG93KS5vbihFdmVudC5SRVNJWkUsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczYuX2hhbmRsZVVwZGF0ZShldmVudCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJCh3aW5kb3cpLm9mZihFdmVudC5SRVNJWkUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBNb2RhbC5wcm90b3R5cGUuX2hpZGVNb2RhbCA9IGZ1bmN0aW9uIF9oaWRlTW9kYWwoKSB7XG4gICAgICB2YXIgX3RoaXM3ID0gdGhpcztcblxuICAgICAgdGhpcy5fZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICAgIHRoaXMuX2lzVHJhbnNpdGlvbmluZyA9IGZhbHNlO1xuICAgICAgdGhpcy5fc2hvd0JhY2tkcm9wKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJChkb2N1bWVudC5ib2R5KS5yZW1vdmVDbGFzcyhDbGFzc05hbWUuT1BFTik7XG4gICAgICAgIF90aGlzNy5fcmVzZXRBZGp1c3RtZW50cygpO1xuICAgICAgICBfdGhpczcuX3Jlc2V0U2Nyb2xsYmFyKCk7XG4gICAgICAgICQoX3RoaXM3Ll9lbGVtZW50KS50cmlnZ2VyKEV2ZW50LkhJRERFTik7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgTW9kYWwucHJvdG90eXBlLl9yZW1vdmVCYWNrZHJvcCA9IGZ1bmN0aW9uIF9yZW1vdmVCYWNrZHJvcCgpIHtcbiAgICAgIGlmICh0aGlzLl9iYWNrZHJvcCkge1xuICAgICAgICAkKHRoaXMuX2JhY2tkcm9wKS5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy5fYmFja2Ryb3AgPSBudWxsO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBNb2RhbC5wcm90b3R5cGUuX3Nob3dCYWNrZHJvcCA9IGZ1bmN0aW9uIF9zaG93QmFja2Ryb3AoY2FsbGJhY2spIHtcbiAgICAgIHZhciBfdGhpczggPSB0aGlzO1xuXG4gICAgICB2YXIgYW5pbWF0ZSA9ICQodGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MoQ2xhc3NOYW1lLkZBREUpID8gQ2xhc3NOYW1lLkZBREUgOiAnJztcblxuICAgICAgaWYgKHRoaXMuX2lzU2hvd24gJiYgdGhpcy5fY29uZmlnLmJhY2tkcm9wKSB7XG4gICAgICAgIHZhciBkb0FuaW1hdGUgPSBVdGlsLnN1cHBvcnRzVHJhbnNpdGlvbkVuZCgpICYmIGFuaW1hdGU7XG5cbiAgICAgICAgdGhpcy5fYmFja2Ryb3AgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5fYmFja2Ryb3AuY2xhc3NOYW1lID0gQ2xhc3NOYW1lLkJBQ0tEUk9QO1xuXG4gICAgICAgIGlmIChhbmltYXRlKSB7XG4gICAgICAgICAgJCh0aGlzLl9iYWNrZHJvcCkuYWRkQ2xhc3MoYW5pbWF0ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAkKHRoaXMuX2JhY2tkcm9wKS5hcHBlbmRUbyhkb2N1bWVudC5ib2R5KTtcblxuICAgICAgICAkKHRoaXMuX2VsZW1lbnQpLm9uKEV2ZW50LkNMSUNLX0RJU01JU1MsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIGlmIChfdGhpczguX2lnbm9yZUJhY2tkcm9wQ2xpY2spIHtcbiAgICAgICAgICAgIF90aGlzOC5faWdub3JlQmFja2Ryb3BDbGljayA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ICE9PSBldmVudC5jdXJyZW50VGFyZ2V0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChfdGhpczguX2NvbmZpZy5iYWNrZHJvcCA9PT0gJ3N0YXRpYycpIHtcbiAgICAgICAgICAgIF90aGlzOC5fZWxlbWVudC5mb2N1cygpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfdGhpczguaGlkZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGRvQW5pbWF0ZSkge1xuICAgICAgICAgIFV0aWwucmVmbG93KHRoaXMuX2JhY2tkcm9wKTtcbiAgICAgICAgfVxuXG4gICAgICAgICQodGhpcy5fYmFja2Ryb3ApLmFkZENsYXNzKENsYXNzTmFtZS5TSE9XKTtcblxuICAgICAgICBpZiAoIWNhbGxiYWNrKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFkb0FuaW1hdGUpIHtcbiAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgICQodGhpcy5fYmFja2Ryb3ApLm9uZShVdGlsLlRSQU5TSVRJT05fRU5ELCBjYWxsYmFjaykuZW11bGF0ZVRyYW5zaXRpb25FbmQoQkFDS0RST1BfVFJBTlNJVElPTl9EVVJBVElPTik7XG4gICAgICB9IGVsc2UgaWYgKCF0aGlzLl9pc1Nob3duICYmIHRoaXMuX2JhY2tkcm9wKSB7XG4gICAgICAgICQodGhpcy5fYmFja2Ryb3ApLnJlbW92ZUNsYXNzKENsYXNzTmFtZS5TSE9XKTtcblxuICAgICAgICB2YXIgY2FsbGJhY2tSZW1vdmUgPSBmdW5jdGlvbiBjYWxsYmFja1JlbW92ZSgpIHtcbiAgICAgICAgICBfdGhpczguX3JlbW92ZUJhY2tkcm9wKCk7XG4gICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoVXRpbC5zdXBwb3J0c1RyYW5zaXRpb25FbmQoKSAmJiAkKHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKENsYXNzTmFtZS5GQURFKSkge1xuICAgICAgICAgICQodGhpcy5fYmFja2Ryb3ApLm9uZShVdGlsLlRSQU5TSVRJT05fRU5ELCBjYWxsYmFja1JlbW92ZSkuZW11bGF0ZVRyYW5zaXRpb25FbmQoQkFDS0RST1BfVFJBTlNJVElPTl9EVVJBVElPTik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2FsbGJhY2tSZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChjYWxsYmFjaykge1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gdGhlIGZvbGxvd2luZyBtZXRob2RzIGFyZSB1c2VkIHRvIGhhbmRsZSBvdmVyZmxvd2luZyBtb2RhbHNcbiAgICAvLyB0b2RvIChmYXQpOiB0aGVzZSBzaG91bGQgcHJvYmFibHkgYmUgcmVmYWN0b3JlZCBvdXQgb2YgbW9kYWwuanNcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICBNb2RhbC5wcm90b3R5cGUuX2hhbmRsZVVwZGF0ZSA9IGZ1bmN0aW9uIF9oYW5kbGVVcGRhdGUoKSB7XG4gICAgICB0aGlzLl9hZGp1c3REaWFsb2coKTtcbiAgICB9O1xuXG4gICAgTW9kYWwucHJvdG90eXBlLl9hZGp1c3REaWFsb2cgPSBmdW5jdGlvbiBfYWRqdXN0RGlhbG9nKCkge1xuICAgICAgdmFyIGlzTW9kYWxPdmVyZmxvd2luZyA9IHRoaXMuX2VsZW1lbnQuc2Nyb2xsSGVpZ2h0ID4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDtcblxuICAgICAgaWYgKCF0aGlzLl9pc0JvZHlPdmVyZmxvd2luZyAmJiBpc01vZGFsT3ZlcmZsb3dpbmcpIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5zdHlsZS5wYWRkaW5nTGVmdCA9IHRoaXMuX3Njcm9sbGJhcldpZHRoICsgJ3B4JztcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX2lzQm9keU92ZXJmbG93aW5nICYmICFpc01vZGFsT3ZlcmZsb3dpbmcpIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5zdHlsZS5wYWRkaW5nUmlnaHQgPSB0aGlzLl9zY3JvbGxiYXJXaWR0aCArICdweCc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIE1vZGFsLnByb3RvdHlwZS5fcmVzZXRBZGp1c3RtZW50cyA9IGZ1bmN0aW9uIF9yZXNldEFkanVzdG1lbnRzKCkge1xuICAgICAgdGhpcy5fZWxlbWVudC5zdHlsZS5wYWRkaW5nTGVmdCA9ICcnO1xuICAgICAgdGhpcy5fZWxlbWVudC5zdHlsZS5wYWRkaW5nUmlnaHQgPSAnJztcbiAgICB9O1xuXG4gICAgTW9kYWwucHJvdG90eXBlLl9jaGVja1Njcm9sbGJhciA9IGZ1bmN0aW9uIF9jaGVja1Njcm9sbGJhcigpIHtcbiAgICAgIHRoaXMuX2lzQm9keU92ZXJmbG93aW5nID0gZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCA8IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgdGhpcy5fc2Nyb2xsYmFyV2lkdGggPSB0aGlzLl9nZXRTY3JvbGxiYXJXaWR0aCgpO1xuICAgIH07XG5cbiAgICBNb2RhbC5wcm90b3R5cGUuX3NldFNjcm9sbGJhciA9IGZ1bmN0aW9uIF9zZXRTY3JvbGxiYXIoKSB7XG4gICAgICB2YXIgYm9keVBhZGRpbmcgPSBwYXJzZUludCgkKFNlbGVjdG9yLkZJWEVEX0NPTlRFTlQpLmNzcygncGFkZGluZy1yaWdodCcpIHx8IDAsIDEwKTtcblxuICAgICAgdGhpcy5fb3JpZ2luYWxCb2R5UGFkZGluZyA9IGRvY3VtZW50LmJvZHkuc3R5bGUucGFkZGluZ1JpZ2h0IHx8ICcnO1xuXG4gICAgICBpZiAodGhpcy5faXNCb2R5T3ZlcmZsb3dpbmcpIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5wYWRkaW5nUmlnaHQgPSBib2R5UGFkZGluZyArIHRoaXMuX3Njcm9sbGJhcldpZHRoICsgJ3B4JztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgTW9kYWwucHJvdG90eXBlLl9yZXNldFNjcm9sbGJhciA9IGZ1bmN0aW9uIF9yZXNldFNjcm9sbGJhcigpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucGFkZGluZ1JpZ2h0ID0gdGhpcy5fb3JpZ2luYWxCb2R5UGFkZGluZztcbiAgICB9O1xuXG4gICAgTW9kYWwucHJvdG90eXBlLl9nZXRTY3JvbGxiYXJXaWR0aCA9IGZ1bmN0aW9uIF9nZXRTY3JvbGxiYXJXaWR0aCgpIHtcbiAgICAgIC8vIHRoeCBkLndhbHNoXG4gICAgICB2YXIgc2Nyb2xsRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBzY3JvbGxEaXYuY2xhc3NOYW1lID0gQ2xhc3NOYW1lLlNDUk9MTEJBUl9NRUFTVVJFUjtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2Nyb2xsRGl2KTtcbiAgICAgIHZhciBzY3JvbGxiYXJXaWR0aCA9IHNjcm9sbERpdi5vZmZzZXRXaWR0aCAtIHNjcm9sbERpdi5jbGllbnRXaWR0aDtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoc2Nyb2xsRGl2KTtcbiAgICAgIHJldHVybiBzY3JvbGxiYXJXaWR0aDtcbiAgICB9O1xuXG4gICAgLy8gc3RhdGljXG5cbiAgICBNb2RhbC5falF1ZXJ5SW50ZXJmYWNlID0gZnVuY3Rpb24gX2pRdWVyeUludGVyZmFjZShjb25maWcsIHJlbGF0ZWRUYXJnZXQpIHtcbiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGF0YSA9ICQodGhpcykuZGF0YShEQVRBX0tFWSk7XG4gICAgICAgIHZhciBfY29uZmlnID0gJC5leHRlbmQoe30sIE1vZGFsLkRlZmF1bHQsICQodGhpcykuZGF0YSgpLCAodHlwZW9mIGNvbmZpZyA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoY29uZmlnKSkgPT09ICdvYmplY3QnICYmIGNvbmZpZyk7XG5cbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgZGF0YSA9IG5ldyBNb2RhbCh0aGlzLCBfY29uZmlnKTtcbiAgICAgICAgICAkKHRoaXMpLmRhdGEoREFUQV9LRVksIGRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBjb25maWcgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgaWYgKGRhdGFbY29uZmlnXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIG1ldGhvZCBuYW1lZCBcIicgKyBjb25maWcgKyAnXCInKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZGF0YVtjb25maWddKHJlbGF0ZWRUYXJnZXQpO1xuICAgICAgICB9IGVsc2UgaWYgKF9jb25maWcuc2hvdykge1xuICAgICAgICAgIGRhdGEuc2hvdyhyZWxhdGVkVGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF9jcmVhdGVDbGFzcyhNb2RhbCwgbnVsbCwgW3tcbiAgICAgIGtleTogJ1ZFUlNJT04nLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBWRVJTSU9OO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogJ0RlZmF1bHQnLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBEZWZhdWx0O1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBNb2RhbDtcbiAgfSgpO1xuXG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogRGF0YSBBcGkgaW1wbGVtZW50YXRpb25cbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG4gICQoZG9jdW1lbnQpLm9uKEV2ZW50LkNMSUNLX0RBVEFfQVBJLCBTZWxlY3Rvci5EQVRBX1RPR0dMRSwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgdmFyIF90aGlzOSA9IHRoaXM7XG5cbiAgICB2YXIgdGFyZ2V0ID0gdm9pZCAwO1xuICAgIHZhciBzZWxlY3RvciA9IFV0aWwuZ2V0U2VsZWN0b3JGcm9tRWxlbWVudCh0aGlzKTtcblxuICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgdGFyZ2V0ID0gJChzZWxlY3RvcilbMF07XG4gICAgfVxuXG4gICAgdmFyIGNvbmZpZyA9ICQodGFyZ2V0KS5kYXRhKERBVEFfS0VZKSA/ICd0b2dnbGUnIDogJC5leHRlbmQoe30sICQodGFyZ2V0KS5kYXRhKCksICQodGhpcykuZGF0YSgpKTtcblxuICAgIGlmICh0aGlzLnRhZ05hbWUgPT09ICdBJyB8fCB0aGlzLnRhZ05hbWUgPT09ICdBUkVBJykge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG5cbiAgICB2YXIgJHRhcmdldCA9ICQodGFyZ2V0KS5vbmUoRXZlbnQuU0hPVywgZnVuY3Rpb24gKHNob3dFdmVudCkge1xuICAgICAgaWYgKHNob3dFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICAvLyBvbmx5IHJlZ2lzdGVyIGZvY3VzIHJlc3RvcmVyIGlmIG1vZGFsIHdpbGwgYWN0dWFsbHkgZ2V0IHNob3duXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgJHRhcmdldC5vbmUoRXZlbnQuSElEREVOLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICgkKF90aGlzOSkuaXMoJzp2aXNpYmxlJykpIHtcbiAgICAgICAgICBfdGhpczkuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBNb2RhbC5falF1ZXJ5SW50ZXJmYWNlLmNhbGwoJCh0YXJnZXQpLCBjb25maWcsIHRoaXMpO1xuICB9KTtcblxuICAvKipcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqIGpRdWVyeVxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cbiAgJC5mbltOQU1FXSA9IE1vZGFsLl9qUXVlcnlJbnRlcmZhY2U7XG4gICQuZm5bTkFNRV0uQ29uc3RydWN0b3IgPSBNb2RhbDtcbiAgJC5mbltOQU1FXS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm5bTkFNRV0gPSBKUVVFUllfTk9fQ09ORkxJQ1Q7XG4gICAgcmV0dXJuIE1vZGFsLl9qUXVlcnlJbnRlcmZhY2U7XG4gIH07XG5cbiAgcmV0dXJuIE1vZGFsO1xufShqUXVlcnkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bW9kYWwuanMubWFwXG4iLCJ2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEJvb3RzdHJhcCAodjQuMC4wLWFscGhhLjYpOiB0b29sdGlwLmpzXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuXG52YXIgVG9vbHRpcCA9IGZ1bmN0aW9uICgkKSB7XG5cbiAgLyoqXG4gICAqIENoZWNrIGZvciBUZXRoZXIgZGVwZW5kZW5jeVxuICAgKiBUZXRoZXIgLSBodHRwOi8vdGV0aGVyLmlvL1xuICAgKi9cbiAgaWYgKHR5cGVvZiBUZXRoZXIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdCb290c3RyYXAgdG9vbHRpcHMgcmVxdWlyZSBUZXRoZXIgKGh0dHA6Ly90ZXRoZXIuaW8vKScpO1xuICB9XG5cbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBDb25zdGFudHNcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG4gIHZhciBOQU1FID0gJ3Rvb2x0aXAnO1xuICB2YXIgVkVSU0lPTiA9ICc0LjAuMC1hbHBoYS42JztcbiAgdmFyIERBVEFfS0VZID0gJ2JzLnRvb2x0aXAnO1xuICB2YXIgRVZFTlRfS0VZID0gJy4nICsgREFUQV9LRVk7XG4gIHZhciBKUVVFUllfTk9fQ09ORkxJQ1QgPSAkLmZuW05BTUVdO1xuICB2YXIgVFJBTlNJVElPTl9EVVJBVElPTiA9IDE1MDtcbiAgdmFyIENMQVNTX1BSRUZJWCA9ICdicy10ZXRoZXInO1xuXG4gIHZhciBEZWZhdWx0ID0ge1xuICAgIGFuaW1hdGlvbjogdHJ1ZSxcbiAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJ0b29sdGlwXCIgcm9sZT1cInRvb2x0aXBcIj4nICsgJzxkaXYgY2xhc3M9XCJ0b29sdGlwLWlubmVyXCI+PC9kaXY+PC9kaXY+JyxcbiAgICB0cmlnZ2VyOiAnaG92ZXIgZm9jdXMnLFxuICAgIHRpdGxlOiAnJyxcbiAgICBkZWxheTogMCxcbiAgICBodG1sOiBmYWxzZSxcbiAgICBzZWxlY3RvcjogZmFsc2UsXG4gICAgcGxhY2VtZW50OiAndG9wJyxcbiAgICBvZmZzZXQ6ICcwIDAnLFxuICAgIGNvbnN0cmFpbnRzOiBbXSxcbiAgICBjb250YWluZXI6IGZhbHNlXG4gIH07XG5cbiAgdmFyIERlZmF1bHRUeXBlID0ge1xuICAgIGFuaW1hdGlvbjogJ2Jvb2xlYW4nLFxuICAgIHRlbXBsYXRlOiAnc3RyaW5nJyxcbiAgICB0aXRsZTogJyhzdHJpbmd8ZWxlbWVudHxmdW5jdGlvbiknLFxuICAgIHRyaWdnZXI6ICdzdHJpbmcnLFxuICAgIGRlbGF5OiAnKG51bWJlcnxvYmplY3QpJyxcbiAgICBodG1sOiAnYm9vbGVhbicsXG4gICAgc2VsZWN0b3I6ICcoc3RyaW5nfGJvb2xlYW4pJyxcbiAgICBwbGFjZW1lbnQ6ICcoc3RyaW5nfGZ1bmN0aW9uKScsXG4gICAgb2Zmc2V0OiAnc3RyaW5nJyxcbiAgICBjb25zdHJhaW50czogJ2FycmF5JyxcbiAgICBjb250YWluZXI6ICcoc3RyaW5nfGVsZW1lbnR8Ym9vbGVhbiknXG4gIH07XG5cbiAgdmFyIEF0dGFjaG1lbnRNYXAgPSB7XG4gICAgVE9QOiAnYm90dG9tIGNlbnRlcicsXG4gICAgUklHSFQ6ICdtaWRkbGUgbGVmdCcsXG4gICAgQk9UVE9NOiAndG9wIGNlbnRlcicsXG4gICAgTEVGVDogJ21pZGRsZSByaWdodCdcbiAgfTtcblxuICB2YXIgSG92ZXJTdGF0ZSA9IHtcbiAgICBTSE9XOiAnc2hvdycsXG4gICAgT1VUOiAnb3V0J1xuICB9O1xuXG4gIHZhciBFdmVudCA9IHtcbiAgICBISURFOiAnaGlkZScgKyBFVkVOVF9LRVksXG4gICAgSElEREVOOiAnaGlkZGVuJyArIEVWRU5UX0tFWSxcbiAgICBTSE9XOiAnc2hvdycgKyBFVkVOVF9LRVksXG4gICAgU0hPV046ICdzaG93bicgKyBFVkVOVF9LRVksXG4gICAgSU5TRVJURUQ6ICdpbnNlcnRlZCcgKyBFVkVOVF9LRVksXG4gICAgQ0xJQ0s6ICdjbGljaycgKyBFVkVOVF9LRVksXG4gICAgRk9DVVNJTjogJ2ZvY3VzaW4nICsgRVZFTlRfS0VZLFxuICAgIEZPQ1VTT1VUOiAnZm9jdXNvdXQnICsgRVZFTlRfS0VZLFxuICAgIE1PVVNFRU5URVI6ICdtb3VzZWVudGVyJyArIEVWRU5UX0tFWSxcbiAgICBNT1VTRUxFQVZFOiAnbW91c2VsZWF2ZScgKyBFVkVOVF9LRVlcbiAgfTtcblxuICB2YXIgQ2xhc3NOYW1lID0ge1xuICAgIEZBREU6ICdmYWRlJyxcbiAgICBTSE9XOiAnc2hvdydcbiAgfTtcblxuICB2YXIgU2VsZWN0b3IgPSB7XG4gICAgVE9PTFRJUDogJy50b29sdGlwJyxcbiAgICBUT09MVElQX0lOTkVSOiAnLnRvb2x0aXAtaW5uZXInXG4gIH07XG5cbiAgdmFyIFRldGhlckNsYXNzID0ge1xuICAgIGVsZW1lbnQ6IGZhbHNlLFxuICAgIGVuYWJsZWQ6IGZhbHNlXG4gIH07XG5cbiAgdmFyIFRyaWdnZXIgPSB7XG4gICAgSE9WRVI6ICdob3ZlcicsXG4gICAgRk9DVVM6ICdmb2N1cycsXG4gICAgQ0xJQ0s6ICdjbGljaycsXG4gICAgTUFOVUFMOiAnbWFudWFsJ1xuICB9O1xuXG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogQ2xhc3MgRGVmaW5pdGlvblxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cbiAgdmFyIFRvb2x0aXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVG9vbHRpcChlbGVtZW50LCBjb25maWcpIHtcbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUb29sdGlwKTtcblxuICAgICAgLy8gcHJpdmF0ZVxuICAgICAgdGhpcy5faXNFbmFibGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuX3RpbWVvdXQgPSAwO1xuICAgICAgdGhpcy5faG92ZXJTdGF0ZSA9ICcnO1xuICAgICAgdGhpcy5fYWN0aXZlVHJpZ2dlciA9IHt9O1xuICAgICAgdGhpcy5faXNUcmFuc2l0aW9uaW5nID0gZmFsc2U7XG4gICAgICB0aGlzLl90ZXRoZXIgPSBudWxsO1xuXG4gICAgICAvLyBwcm90ZWN0ZWRcbiAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICB0aGlzLmNvbmZpZyA9IHRoaXMuX2dldENvbmZpZyhjb25maWcpO1xuICAgICAgdGhpcy50aXAgPSBudWxsO1xuXG4gICAgICB0aGlzLl9zZXRMaXN0ZW5lcnMoKTtcbiAgICB9XG5cbiAgICAvLyBnZXR0ZXJzXG5cbiAgICAvLyBwdWJsaWNcblxuICAgIFRvb2x0aXAucHJvdG90eXBlLmVuYWJsZSA9IGZ1bmN0aW9uIGVuYWJsZSgpIHtcbiAgICAgIHRoaXMuX2lzRW5hYmxlZCA9IHRydWU7XG4gICAgfTtcblxuICAgIFRvb2x0aXAucHJvdG90eXBlLmRpc2FibGUgPSBmdW5jdGlvbiBkaXNhYmxlKCkge1xuICAgICAgdGhpcy5faXNFbmFibGVkID0gZmFsc2U7XG4gICAgfTtcblxuICAgIFRvb2x0aXAucHJvdG90eXBlLnRvZ2dsZUVuYWJsZWQgPSBmdW5jdGlvbiB0b2dnbGVFbmFibGVkKCkge1xuICAgICAgdGhpcy5faXNFbmFibGVkID0gIXRoaXMuX2lzRW5hYmxlZDtcbiAgICB9O1xuXG4gICAgVG9vbHRpcC5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gdG9nZ2xlKGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIGRhdGFLZXkgPSB0aGlzLmNvbnN0cnVjdG9yLkRBVEFfS0VZO1xuICAgICAgICB2YXIgY29udGV4dCA9ICQoZXZlbnQuY3VycmVudFRhcmdldCkuZGF0YShkYXRhS2V5KTtcblxuICAgICAgICBpZiAoIWNvbnRleHQpIHtcbiAgICAgICAgICBjb250ZXh0ID0gbmV3IHRoaXMuY29uc3RydWN0b3IoZXZlbnQuY3VycmVudFRhcmdldCwgdGhpcy5fZ2V0RGVsZWdhdGVDb25maWcoKSk7XG4gICAgICAgICAgJChldmVudC5jdXJyZW50VGFyZ2V0KS5kYXRhKGRhdGFLZXksIGNvbnRleHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5fYWN0aXZlVHJpZ2dlci5jbGljayA9ICFjb250ZXh0Ll9hY3RpdmVUcmlnZ2VyLmNsaWNrO1xuXG4gICAgICAgIGlmIChjb250ZXh0Ll9pc1dpdGhBY3RpdmVUcmlnZ2VyKCkpIHtcbiAgICAgICAgICBjb250ZXh0Ll9lbnRlcihudWxsLCBjb250ZXh0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb250ZXh0Ll9sZWF2ZShudWxsLCBjb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcblxuICAgICAgICBpZiAoJCh0aGlzLmdldFRpcEVsZW1lbnQoKSkuaGFzQ2xhc3MoQ2xhc3NOYW1lLlNIT1cpKSB7XG4gICAgICAgICAgdGhpcy5fbGVhdmUobnVsbCwgdGhpcyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZW50ZXIobnVsbCwgdGhpcyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIFRvb2x0aXAucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXQpO1xuXG4gICAgICB0aGlzLmNsZWFudXBUZXRoZXIoKTtcblxuICAgICAgJC5yZW1vdmVEYXRhKHRoaXMuZWxlbWVudCwgdGhpcy5jb25zdHJ1Y3Rvci5EQVRBX0tFWSk7XG5cbiAgICAgICQodGhpcy5lbGVtZW50KS5vZmYodGhpcy5jb25zdHJ1Y3Rvci5FVkVOVF9LRVkpO1xuICAgICAgJCh0aGlzLmVsZW1lbnQpLmNsb3Nlc3QoJy5tb2RhbCcpLm9mZignaGlkZS5icy5tb2RhbCcpO1xuXG4gICAgICBpZiAodGhpcy50aXApIHtcbiAgICAgICAgJCh0aGlzLnRpcCkucmVtb3ZlKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2lzRW5hYmxlZCA9IG51bGw7XG4gICAgICB0aGlzLl90aW1lb3V0ID0gbnVsbDtcbiAgICAgIHRoaXMuX2hvdmVyU3RhdGUgPSBudWxsO1xuICAgICAgdGhpcy5fYWN0aXZlVHJpZ2dlciA9IG51bGw7XG4gICAgICB0aGlzLl90ZXRoZXIgPSBudWxsO1xuXG4gICAgICB0aGlzLmVsZW1lbnQgPSBudWxsO1xuICAgICAgdGhpcy5jb25maWcgPSBudWxsO1xuICAgICAgdGhpcy50aXAgPSBudWxsO1xuICAgIH07XG5cbiAgICBUb29sdGlwLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24gc2hvdygpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIGlmICgkKHRoaXMuZWxlbWVudCkuY3NzKCdkaXNwbGF5JykgPT09ICdub25lJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BsZWFzZSB1c2Ugc2hvdyBvbiB2aXNpYmxlIGVsZW1lbnRzJyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBzaG93RXZlbnQgPSAkLkV2ZW50KHRoaXMuY29uc3RydWN0b3IuRXZlbnQuU0hPVyk7XG4gICAgICBpZiAodGhpcy5pc1dpdGhDb250ZW50KCkgJiYgdGhpcy5faXNFbmFibGVkKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc1RyYW5zaXRpb25pbmcpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Rvb2x0aXAgaXMgdHJhbnNpdGlvbmluZycpO1xuICAgICAgICB9XG4gICAgICAgICQodGhpcy5lbGVtZW50KS50cmlnZ2VyKHNob3dFdmVudCk7XG5cbiAgICAgICAgdmFyIGlzSW5UaGVEb20gPSAkLmNvbnRhaW5zKHRoaXMuZWxlbWVudC5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgdGhpcy5lbGVtZW50KTtcblxuICAgICAgICBpZiAoc2hvd0V2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpIHx8ICFpc0luVGhlRG9tKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRpcCA9IHRoaXMuZ2V0VGlwRWxlbWVudCgpO1xuICAgICAgICB2YXIgdGlwSWQgPSBVdGlsLmdldFVJRCh0aGlzLmNvbnN0cnVjdG9yLk5BTUUpO1xuXG4gICAgICAgIHRpcC5zZXRBdHRyaWJ1dGUoJ2lkJywgdGlwSWQpO1xuICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLWRlc2NyaWJlZGJ5JywgdGlwSWQpO1xuXG4gICAgICAgIHRoaXMuc2V0Q29udGVudCgpO1xuXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5hbmltYXRpb24pIHtcbiAgICAgICAgICAkKHRpcCkuYWRkQ2xhc3MoQ2xhc3NOYW1lLkZBREUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBsYWNlbWVudCA9IHR5cGVvZiB0aGlzLmNvbmZpZy5wbGFjZW1lbnQgPT09ICdmdW5jdGlvbicgPyB0aGlzLmNvbmZpZy5wbGFjZW1lbnQuY2FsbCh0aGlzLCB0aXAsIHRoaXMuZWxlbWVudCkgOiB0aGlzLmNvbmZpZy5wbGFjZW1lbnQ7XG5cbiAgICAgICAgdmFyIGF0dGFjaG1lbnQgPSB0aGlzLl9nZXRBdHRhY2htZW50KHBsYWNlbWVudCk7XG5cbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMuY29uZmlnLmNvbnRhaW5lciA9PT0gZmFsc2UgPyBkb2N1bWVudC5ib2R5IDogJCh0aGlzLmNvbmZpZy5jb250YWluZXIpO1xuXG4gICAgICAgICQodGlwKS5kYXRhKHRoaXMuY29uc3RydWN0b3IuREFUQV9LRVksIHRoaXMpLmFwcGVuZFRvKGNvbnRhaW5lcik7XG5cbiAgICAgICAgJCh0aGlzLmVsZW1lbnQpLnRyaWdnZXIodGhpcy5jb25zdHJ1Y3Rvci5FdmVudC5JTlNFUlRFRCk7XG5cbiAgICAgICAgdGhpcy5fdGV0aGVyID0gbmV3IFRldGhlcih7XG4gICAgICAgICAgYXR0YWNobWVudDogYXR0YWNobWVudCxcbiAgICAgICAgICBlbGVtZW50OiB0aXAsXG4gICAgICAgICAgdGFyZ2V0OiB0aGlzLmVsZW1lbnQsXG4gICAgICAgICAgY2xhc3NlczogVGV0aGVyQ2xhc3MsXG4gICAgICAgICAgY2xhc3NQcmVmaXg6IENMQVNTX1BSRUZJWCxcbiAgICAgICAgICBvZmZzZXQ6IHRoaXMuY29uZmlnLm9mZnNldCxcbiAgICAgICAgICBjb25zdHJhaW50czogdGhpcy5jb25maWcuY29uc3RyYWludHMsXG4gICAgICAgICAgYWRkVGFyZ2V0Q2xhc3NlczogZmFsc2VcbiAgICAgICAgfSk7XG5cbiAgICAgICAgVXRpbC5yZWZsb3codGlwKTtcbiAgICAgICAgdGhpcy5fdGV0aGVyLnBvc2l0aW9uKCk7XG5cbiAgICAgICAgJCh0aXApLmFkZENsYXNzKENsYXNzTmFtZS5TSE9XKTtcblxuICAgICAgICB2YXIgY29tcGxldGUgPSBmdW5jdGlvbiBjb21wbGV0ZSgpIHtcbiAgICAgICAgICB2YXIgcHJldkhvdmVyU3RhdGUgPSBfdGhpcy5faG92ZXJTdGF0ZTtcbiAgICAgICAgICBfdGhpcy5faG92ZXJTdGF0ZSA9IG51bGw7XG4gICAgICAgICAgX3RoaXMuX2lzVHJhbnNpdGlvbmluZyA9IGZhbHNlO1xuXG4gICAgICAgICAgJChfdGhpcy5lbGVtZW50KS50cmlnZ2VyKF90aGlzLmNvbnN0cnVjdG9yLkV2ZW50LlNIT1dOKTtcblxuICAgICAgICAgIGlmIChwcmV2SG92ZXJTdGF0ZSA9PT0gSG92ZXJTdGF0ZS5PVVQpIHtcbiAgICAgICAgICAgIF90aGlzLl9sZWF2ZShudWxsLCBfdGhpcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChVdGlsLnN1cHBvcnRzVHJhbnNpdGlvbkVuZCgpICYmICQodGhpcy50aXApLmhhc0NsYXNzKENsYXNzTmFtZS5GQURFKSkge1xuICAgICAgICAgIHRoaXMuX2lzVHJhbnNpdGlvbmluZyA9IHRydWU7XG4gICAgICAgICAgJCh0aGlzLnRpcCkub25lKFV0aWwuVFJBTlNJVElPTl9FTkQsIGNvbXBsZXRlKS5lbXVsYXRlVHJhbnNpdGlvbkVuZChUb29sdGlwLl9UUkFOU0lUSU9OX0RVUkFUSU9OKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb21wbGV0ZSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBUb29sdGlwLnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24gaGlkZShjYWxsYmFjaykge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciB0aXAgPSB0aGlzLmdldFRpcEVsZW1lbnQoKTtcbiAgICAgIHZhciBoaWRlRXZlbnQgPSAkLkV2ZW50KHRoaXMuY29uc3RydWN0b3IuRXZlbnQuSElERSk7XG4gICAgICBpZiAodGhpcy5faXNUcmFuc2l0aW9uaW5nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVG9vbHRpcCBpcyB0cmFuc2l0aW9uaW5nJyk7XG4gICAgICB9XG4gICAgICB2YXIgY29tcGxldGUgPSBmdW5jdGlvbiBjb21wbGV0ZSgpIHtcbiAgICAgICAgaWYgKF90aGlzMi5faG92ZXJTdGF0ZSAhPT0gSG92ZXJTdGF0ZS5TSE9XICYmIHRpcC5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgdGlwLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGlwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzMi5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1kZXNjcmliZWRieScpO1xuICAgICAgICAkKF90aGlzMi5lbGVtZW50KS50cmlnZ2VyKF90aGlzMi5jb25zdHJ1Y3Rvci5FdmVudC5ISURERU4pO1xuICAgICAgICBfdGhpczIuX2lzVHJhbnNpdGlvbmluZyA9IGZhbHNlO1xuICAgICAgICBfdGhpczIuY2xlYW51cFRldGhlcigpO1xuXG4gICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgICQodGhpcy5lbGVtZW50KS50cmlnZ2VyKGhpZGVFdmVudCk7XG5cbiAgICAgIGlmIChoaWRlRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAkKHRpcCkucmVtb3ZlQ2xhc3MoQ2xhc3NOYW1lLlNIT1cpO1xuXG4gICAgICB0aGlzLl9hY3RpdmVUcmlnZ2VyW1RyaWdnZXIuQ0xJQ0tdID0gZmFsc2U7XG4gICAgICB0aGlzLl9hY3RpdmVUcmlnZ2VyW1RyaWdnZXIuRk9DVVNdID0gZmFsc2U7XG4gICAgICB0aGlzLl9hY3RpdmVUcmlnZ2VyW1RyaWdnZXIuSE9WRVJdID0gZmFsc2U7XG5cbiAgICAgIGlmIChVdGlsLnN1cHBvcnRzVHJhbnNpdGlvbkVuZCgpICYmICQodGhpcy50aXApLmhhc0NsYXNzKENsYXNzTmFtZS5GQURFKSkge1xuICAgICAgICB0aGlzLl9pc1RyYW5zaXRpb25pbmcgPSB0cnVlO1xuICAgICAgICAkKHRpcCkub25lKFV0aWwuVFJBTlNJVElPTl9FTkQsIGNvbXBsZXRlKS5lbXVsYXRlVHJhbnNpdGlvbkVuZChUUkFOU0lUSU9OX0RVUkFUSU9OKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbXBsZXRlKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2hvdmVyU3RhdGUgPSAnJztcbiAgICB9O1xuXG4gICAgLy8gcHJvdGVjdGVkXG5cbiAgICBUb29sdGlwLnByb3RvdHlwZS5pc1dpdGhDb250ZW50ID0gZnVuY3Rpb24gaXNXaXRoQ29udGVudCgpIHtcbiAgICAgIHJldHVybiBCb29sZWFuKHRoaXMuZ2V0VGl0bGUoKSk7XG4gICAgfTtcblxuICAgIFRvb2x0aXAucHJvdG90eXBlLmdldFRpcEVsZW1lbnQgPSBmdW5jdGlvbiBnZXRUaXBFbGVtZW50KCkge1xuICAgICAgcmV0dXJuIHRoaXMudGlwID0gdGhpcy50aXAgfHwgJCh0aGlzLmNvbmZpZy50ZW1wbGF0ZSlbMF07XG4gICAgfTtcblxuICAgIFRvb2x0aXAucHJvdG90eXBlLnNldENvbnRlbnQgPSBmdW5jdGlvbiBzZXRDb250ZW50KCkge1xuICAgICAgdmFyICR0aXAgPSAkKHRoaXMuZ2V0VGlwRWxlbWVudCgpKTtcblxuICAgICAgdGhpcy5zZXRFbGVtZW50Q29udGVudCgkdGlwLmZpbmQoU2VsZWN0b3IuVE9PTFRJUF9JTk5FUiksIHRoaXMuZ2V0VGl0bGUoKSk7XG5cbiAgICAgICR0aXAucmVtb3ZlQ2xhc3MoQ2xhc3NOYW1lLkZBREUgKyAnICcgKyBDbGFzc05hbWUuU0hPVyk7XG5cbiAgICAgIHRoaXMuY2xlYW51cFRldGhlcigpO1xuICAgIH07XG5cbiAgICBUb29sdGlwLnByb3RvdHlwZS5zZXRFbGVtZW50Q29udGVudCA9IGZ1bmN0aW9uIHNldEVsZW1lbnRDb250ZW50KCRlbGVtZW50LCBjb250ZW50KSB7XG4gICAgICB2YXIgaHRtbCA9IHRoaXMuY29uZmlnLmh0bWw7XG4gICAgICBpZiAoKHR5cGVvZiBjb250ZW50ID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihjb250ZW50KSkgPT09ICdvYmplY3QnICYmIChjb250ZW50Lm5vZGVUeXBlIHx8IGNvbnRlbnQuanF1ZXJ5KSkge1xuICAgICAgICAvLyBjb250ZW50IGlzIGEgRE9NIG5vZGUgb3IgYSBqUXVlcnlcbiAgICAgICAgaWYgKGh0bWwpIHtcbiAgICAgICAgICBpZiAoISQoY29udGVudCkucGFyZW50KCkuaXMoJGVsZW1lbnQpKSB7XG4gICAgICAgICAgICAkZWxlbWVudC5lbXB0eSgpLmFwcGVuZChjb250ZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJGVsZW1lbnQudGV4dCgkKGNvbnRlbnQpLnRleHQoKSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICRlbGVtZW50W2h0bWwgPyAnaHRtbCcgOiAndGV4dCddKGNvbnRlbnQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBUb29sdGlwLnByb3RvdHlwZS5nZXRUaXRsZSA9IGZ1bmN0aW9uIGdldFRpdGxlKCkge1xuICAgICAgdmFyIHRpdGxlID0gdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1vcmlnaW5hbC10aXRsZScpO1xuXG4gICAgICBpZiAoIXRpdGxlKSB7XG4gICAgICAgIHRpdGxlID0gdHlwZW9mIHRoaXMuY29uZmlnLnRpdGxlID09PSAnZnVuY3Rpb24nID8gdGhpcy5jb25maWcudGl0bGUuY2FsbCh0aGlzLmVsZW1lbnQpIDogdGhpcy5jb25maWcudGl0bGU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aXRsZTtcbiAgICB9O1xuXG4gICAgVG9vbHRpcC5wcm90b3R5cGUuY2xlYW51cFRldGhlciA9IGZ1bmN0aW9uIGNsZWFudXBUZXRoZXIoKSB7XG4gICAgICBpZiAodGhpcy5fdGV0aGVyKSB7XG4gICAgICAgIHRoaXMuX3RldGhlci5kZXN0cm95KCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIHByaXZhdGVcblxuICAgIFRvb2x0aXAucHJvdG90eXBlLl9nZXRBdHRhY2htZW50ID0gZnVuY3Rpb24gX2dldEF0dGFjaG1lbnQocGxhY2VtZW50KSB7XG4gICAgICByZXR1cm4gQXR0YWNobWVudE1hcFtwbGFjZW1lbnQudG9VcHBlckNhc2UoKV07XG4gICAgfTtcblxuICAgIFRvb2x0aXAucHJvdG90eXBlLl9zZXRMaXN0ZW5lcnMgPSBmdW5jdGlvbiBfc2V0TGlzdGVuZXJzKCkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIHZhciB0cmlnZ2VycyA9IHRoaXMuY29uZmlnLnRyaWdnZXIuc3BsaXQoJyAnKTtcblxuICAgICAgdHJpZ2dlcnMuZm9yRWFjaChmdW5jdGlvbiAodHJpZ2dlcikge1xuICAgICAgICBpZiAodHJpZ2dlciA9PT0gJ2NsaWNrJykge1xuICAgICAgICAgICQoX3RoaXMzLmVsZW1lbnQpLm9uKF90aGlzMy5jb25zdHJ1Y3Rvci5FdmVudC5DTElDSywgX3RoaXMzLmNvbmZpZy5zZWxlY3RvciwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMzLnRvZ2dsZShldmVudCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAodHJpZ2dlciAhPT0gVHJpZ2dlci5NQU5VQUwpIHtcbiAgICAgICAgICB2YXIgZXZlbnRJbiA9IHRyaWdnZXIgPT09IFRyaWdnZXIuSE9WRVIgPyBfdGhpczMuY29uc3RydWN0b3IuRXZlbnQuTU9VU0VFTlRFUiA6IF90aGlzMy5jb25zdHJ1Y3Rvci5FdmVudC5GT0NVU0lOO1xuICAgICAgICAgIHZhciBldmVudE91dCA9IHRyaWdnZXIgPT09IFRyaWdnZXIuSE9WRVIgPyBfdGhpczMuY29uc3RydWN0b3IuRXZlbnQuTU9VU0VMRUFWRSA6IF90aGlzMy5jb25zdHJ1Y3Rvci5FdmVudC5GT0NVU09VVDtcblxuICAgICAgICAgICQoX3RoaXMzLmVsZW1lbnQpLm9uKGV2ZW50SW4sIF90aGlzMy5jb25maWcuc2VsZWN0b3IsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5fZW50ZXIoZXZlbnQpO1xuICAgICAgICAgIH0pLm9uKGV2ZW50T3V0LCBfdGhpczMuY29uZmlnLnNlbGVjdG9yLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczMuX2xlYXZlKGV2ZW50KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgICQoX3RoaXMzLmVsZW1lbnQpLmNsb3Nlc3QoJy5tb2RhbCcpLm9uKCdoaWRlLmJzLm1vZGFsJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczMuaGlkZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAodGhpcy5jb25maWcuc2VsZWN0b3IpIHtcbiAgICAgICAgdGhpcy5jb25maWcgPSAkLmV4dGVuZCh7fSwgdGhpcy5jb25maWcsIHtcbiAgICAgICAgICB0cmlnZ2VyOiAnbWFudWFsJyxcbiAgICAgICAgICBzZWxlY3RvcjogJydcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9maXhUaXRsZSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBUb29sdGlwLnByb3RvdHlwZS5fZml4VGl0bGUgPSBmdW5jdGlvbiBfZml4VGl0bGUoKSB7XG4gICAgICB2YXIgdGl0bGVUeXBlID0gX3R5cGVvZih0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLW9yaWdpbmFsLXRpdGxlJykpO1xuICAgICAgaWYgKHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3RpdGxlJykgfHwgdGl0bGVUeXBlICE9PSAnc3RyaW5nJykge1xuICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLW9yaWdpbmFsLXRpdGxlJywgdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZSgndGl0bGUnKSB8fCAnJyk7XG4gICAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgJycpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBUb29sdGlwLnByb3RvdHlwZS5fZW50ZXIgPSBmdW5jdGlvbiBfZW50ZXIoZXZlbnQsIGNvbnRleHQpIHtcbiAgICAgIHZhciBkYXRhS2V5ID0gdGhpcy5jb25zdHJ1Y3Rvci5EQVRBX0tFWTtcblxuICAgICAgY29udGV4dCA9IGNvbnRleHQgfHwgJChldmVudC5jdXJyZW50VGFyZ2V0KS5kYXRhKGRhdGFLZXkpO1xuXG4gICAgICBpZiAoIWNvbnRleHQpIHtcbiAgICAgICAgY29udGV4dCA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKGV2ZW50LmN1cnJlbnRUYXJnZXQsIHRoaXMuX2dldERlbGVnYXRlQ29uZmlnKCkpO1xuICAgICAgICAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLmRhdGEoZGF0YUtleSwgY29udGV4dCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChldmVudCkge1xuICAgICAgICBjb250ZXh0Ll9hY3RpdmVUcmlnZ2VyW2V2ZW50LnR5cGUgPT09ICdmb2N1c2luJyA/IFRyaWdnZXIuRk9DVVMgOiBUcmlnZ2VyLkhPVkVSXSA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmICgkKGNvbnRleHQuZ2V0VGlwRWxlbWVudCgpKS5oYXNDbGFzcyhDbGFzc05hbWUuU0hPVykgfHwgY29udGV4dC5faG92ZXJTdGF0ZSA9PT0gSG92ZXJTdGF0ZS5TSE9XKSB7XG4gICAgICAgIGNvbnRleHQuX2hvdmVyU3RhdGUgPSBIb3ZlclN0YXRlLlNIT1c7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY2xlYXJUaW1lb3V0KGNvbnRleHQuX3RpbWVvdXQpO1xuXG4gICAgICBjb250ZXh0Ll9ob3ZlclN0YXRlID0gSG92ZXJTdGF0ZS5TSE9XO1xuXG4gICAgICBpZiAoIWNvbnRleHQuY29uZmlnLmRlbGF5IHx8ICFjb250ZXh0LmNvbmZpZy5kZWxheS5zaG93KSB7XG4gICAgICAgIGNvbnRleHQuc2hvdygpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnRleHQuX3RpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGNvbnRleHQuX2hvdmVyU3RhdGUgPT09IEhvdmVyU3RhdGUuU0hPVykge1xuICAgICAgICAgIGNvbnRleHQuc2hvdygpO1xuICAgICAgICB9XG4gICAgICB9LCBjb250ZXh0LmNvbmZpZy5kZWxheS5zaG93KTtcbiAgICB9O1xuXG4gICAgVG9vbHRpcC5wcm90b3R5cGUuX2xlYXZlID0gZnVuY3Rpb24gX2xlYXZlKGV2ZW50LCBjb250ZXh0KSB7XG4gICAgICB2YXIgZGF0YUtleSA9IHRoaXMuY29uc3RydWN0b3IuREFUQV9LRVk7XG5cbiAgICAgIGNvbnRleHQgPSBjb250ZXh0IHx8ICQoZXZlbnQuY3VycmVudFRhcmdldCkuZGF0YShkYXRhS2V5KTtcblxuICAgICAgaWYgKCFjb250ZXh0KSB7XG4gICAgICAgIGNvbnRleHQgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcihldmVudC5jdXJyZW50VGFyZ2V0LCB0aGlzLl9nZXREZWxlZ2F0ZUNvbmZpZygpKTtcbiAgICAgICAgJChldmVudC5jdXJyZW50VGFyZ2V0KS5kYXRhKGRhdGFLZXksIGNvbnRleHQpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXZlbnQpIHtcbiAgICAgICAgY29udGV4dC5fYWN0aXZlVHJpZ2dlcltldmVudC50eXBlID09PSAnZm9jdXNvdXQnID8gVHJpZ2dlci5GT0NVUyA6IFRyaWdnZXIuSE9WRVJdID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmIChjb250ZXh0Ll9pc1dpdGhBY3RpdmVUcmlnZ2VyKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjbGVhclRpbWVvdXQoY29udGV4dC5fdGltZW91dCk7XG5cbiAgICAgIGNvbnRleHQuX2hvdmVyU3RhdGUgPSBIb3ZlclN0YXRlLk9VVDtcblxuICAgICAgaWYgKCFjb250ZXh0LmNvbmZpZy5kZWxheSB8fCAhY29udGV4dC5jb25maWcuZGVsYXkuaGlkZSkge1xuICAgICAgICBjb250ZXh0LmhpZGUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb250ZXh0Ll90aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChjb250ZXh0Ll9ob3ZlclN0YXRlID09PSBIb3ZlclN0YXRlLk9VVCkge1xuICAgICAgICAgIGNvbnRleHQuaGlkZSgpO1xuICAgICAgICB9XG4gICAgICB9LCBjb250ZXh0LmNvbmZpZy5kZWxheS5oaWRlKTtcbiAgICB9O1xuXG4gICAgVG9vbHRpcC5wcm90b3R5cGUuX2lzV2l0aEFjdGl2ZVRyaWdnZXIgPSBmdW5jdGlvbiBfaXNXaXRoQWN0aXZlVHJpZ2dlcigpIHtcbiAgICAgIGZvciAodmFyIHRyaWdnZXIgaW4gdGhpcy5fYWN0aXZlVHJpZ2dlcikge1xuICAgICAgICBpZiAodGhpcy5fYWN0aXZlVHJpZ2dlclt0cmlnZ2VyXSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgVG9vbHRpcC5wcm90b3R5cGUuX2dldENvbmZpZyA9IGZ1bmN0aW9uIF9nZXRDb25maWcoY29uZmlnKSB7XG4gICAgICBjb25maWcgPSAkLmV4dGVuZCh7fSwgdGhpcy5jb25zdHJ1Y3Rvci5EZWZhdWx0LCAkKHRoaXMuZWxlbWVudCkuZGF0YSgpLCBjb25maWcpO1xuXG4gICAgICBpZiAoY29uZmlnLmRlbGF5ICYmIHR5cGVvZiBjb25maWcuZGVsYXkgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGNvbmZpZy5kZWxheSA9IHtcbiAgICAgICAgICBzaG93OiBjb25maWcuZGVsYXksXG4gICAgICAgICAgaGlkZTogY29uZmlnLmRlbGF5XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIFV0aWwudHlwZUNoZWNrQ29uZmlnKE5BTUUsIGNvbmZpZywgdGhpcy5jb25zdHJ1Y3Rvci5EZWZhdWx0VHlwZSk7XG5cbiAgICAgIHJldHVybiBjb25maWc7XG4gICAgfTtcblxuICAgIFRvb2x0aXAucHJvdG90eXBlLl9nZXREZWxlZ2F0ZUNvbmZpZyA9IGZ1bmN0aW9uIF9nZXREZWxlZ2F0ZUNvbmZpZygpIHtcbiAgICAgIHZhciBjb25maWcgPSB7fTtcblxuICAgICAgaWYgKHRoaXMuY29uZmlnKSB7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiB0aGlzLmNvbmZpZykge1xuICAgICAgICAgIGlmICh0aGlzLmNvbnN0cnVjdG9yLkRlZmF1bHRba2V5XSAhPT0gdGhpcy5jb25maWdba2V5XSkge1xuICAgICAgICAgICAgY29uZmlnW2tleV0gPSB0aGlzLmNvbmZpZ1trZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29uZmlnO1xuICAgIH07XG5cbiAgICAvLyBzdGF0aWNcblxuICAgIFRvb2x0aXAuX2pRdWVyeUludGVyZmFjZSA9IGZ1bmN0aW9uIF9qUXVlcnlJbnRlcmZhY2UoY29uZmlnKSB7XG4gICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRhdGEgPSAkKHRoaXMpLmRhdGEoREFUQV9LRVkpO1xuICAgICAgICB2YXIgX2NvbmZpZyA9ICh0eXBlb2YgY29uZmlnID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihjb25maWcpKSA9PT0gJ29iamVjdCcgJiYgY29uZmlnO1xuXG4gICAgICAgIGlmICghZGF0YSAmJiAvZGlzcG9zZXxoaWRlLy50ZXN0KGNvbmZpZykpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICBkYXRhID0gbmV3IFRvb2x0aXAodGhpcywgX2NvbmZpZyk7XG4gICAgICAgICAgJCh0aGlzKS5kYXRhKERBVEFfS0VZLCBkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGlmIChkYXRhW2NvbmZpZ10gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBtZXRob2QgbmFtZWQgXCInICsgY29uZmlnICsgJ1wiJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRhdGFbY29uZmlnXSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX2NyZWF0ZUNsYXNzKFRvb2x0aXAsIG51bGwsIFt7XG4gICAgICBrZXk6ICdWRVJTSU9OJyxcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gVkVSU0lPTjtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6ICdEZWZhdWx0JyxcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gRGVmYXVsdDtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6ICdOQU1FJyxcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gTkFNRTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6ICdEQVRBX0tFWScsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIERBVEFfS0VZO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogJ0V2ZW50JyxcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gRXZlbnQ7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiAnRVZFTlRfS0VZJyxcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gRVZFTlRfS0VZO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogJ0RlZmF1bHRUeXBlJyxcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gRGVmYXVsdFR5cGU7XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFRvb2x0aXA7XG4gIH0oKTtcblxuICAvKipcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqIGpRdWVyeVxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cbiAgJC5mbltOQU1FXSA9IFRvb2x0aXAuX2pRdWVyeUludGVyZmFjZTtcbiAgJC5mbltOQU1FXS5Db25zdHJ1Y3RvciA9IFRvb2x0aXA7XG4gICQuZm5bTkFNRV0ubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuW05BTUVdID0gSlFVRVJZX05PX0NPTkZMSUNUO1xuICAgIHJldHVybiBUb29sdGlwLl9qUXVlcnlJbnRlcmZhY2U7XG4gIH07XG5cbiAgcmV0dXJuIFRvb2x0aXA7XG59KGpRdWVyeSk7IC8qIGdsb2JhbCBUZXRoZXIgKi9cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRvb2x0aXAuanMubWFwXG4iLCIvKiEgdGV0aGVyIDEuNC4wICovXG5cbihmdW5jdGlvbihyb290LCBmYWN0b3J5KSB7XG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoZmFjdG9yeSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSk7XG4gIH0gZWxzZSB7XG4gICAgcm9vdC5UZXRoZXIgPSBmYWN0b3J5KCk7XG4gIH1cbn0odGhpcywgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cbid1c2Ugc3RyaWN0JztcblxudmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9XG5cbnZhciBUZXRoZXJCYXNlID0gdW5kZWZpbmVkO1xuaWYgKHR5cGVvZiBUZXRoZXJCYXNlID09PSAndW5kZWZpbmVkJykge1xuICBUZXRoZXJCYXNlID0geyBtb2R1bGVzOiBbXSB9O1xufVxuXG52YXIgemVyb0VsZW1lbnQgPSBudWxsO1xuXG4vLyBTYW1lIGFzIG5hdGl2ZSBnZXRCb3VuZGluZ0NsaWVudFJlY3QsIGV4Y2VwdCBpdCB0YWtlcyBpbnRvIGFjY291bnQgcGFyZW50IDxmcmFtZT4gb2Zmc2V0c1xuLy8gaWYgdGhlIGVsZW1lbnQgbGllcyB3aXRoaW4gYSBuZXN0ZWQgZG9jdW1lbnQgKDxmcmFtZT4gb3IgPGlmcmFtZT4tbGlrZSkuXG5mdW5jdGlvbiBnZXRBY3R1YWxCb3VuZGluZ0NsaWVudFJlY3Qobm9kZSkge1xuICB2YXIgYm91bmRpbmdSZWN0ID0gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAvLyBUaGUgb3JpZ2luYWwgb2JqZWN0IHJldHVybmVkIGJ5IGdldEJvdW5kaW5nQ2xpZW50UmVjdCBpcyBpbW11dGFibGUsIHNvIHdlIGNsb25lIGl0XG4gIC8vIFdlIGNhbid0IHVzZSBleHRlbmQgYmVjYXVzZSB0aGUgcHJvcGVydGllcyBhcmUgbm90IGNvbnNpZGVyZWQgcGFydCBvZiB0aGUgb2JqZWN0IGJ5IGhhc093blByb3BlcnR5IGluIElFOVxuICB2YXIgcmVjdCA9IHt9O1xuICBmb3IgKHZhciBrIGluIGJvdW5kaW5nUmVjdCkge1xuICAgIHJlY3Rba10gPSBib3VuZGluZ1JlY3Rba107XG4gIH1cblxuICBpZiAobm9kZS5vd25lckRvY3VtZW50ICE9PSBkb2N1bWVudCkge1xuICAgIHZhciBfZnJhbWVFbGVtZW50ID0gbm9kZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmZyYW1lRWxlbWVudDtcbiAgICBpZiAoX2ZyYW1lRWxlbWVudCkge1xuICAgICAgdmFyIGZyYW1lUmVjdCA9IGdldEFjdHVhbEJvdW5kaW5nQ2xpZW50UmVjdChfZnJhbWVFbGVtZW50KTtcbiAgICAgIHJlY3QudG9wICs9IGZyYW1lUmVjdC50b3A7XG4gICAgICByZWN0LmJvdHRvbSArPSBmcmFtZVJlY3QudG9wO1xuICAgICAgcmVjdC5sZWZ0ICs9IGZyYW1lUmVjdC5sZWZ0O1xuICAgICAgcmVjdC5yaWdodCArPSBmcmFtZVJlY3QubGVmdDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVjdDtcbn1cblxuZnVuY3Rpb24gZ2V0U2Nyb2xsUGFyZW50cyhlbCkge1xuICAvLyBJbiBmaXJlZm94IGlmIHRoZSBlbCBpcyBpbnNpZGUgYW4gaWZyYW1lIHdpdGggZGlzcGxheTogbm9uZTsgd2luZG93LmdldENvbXB1dGVkU3R5bGUoKSB3aWxsIHJldHVybiBudWxsO1xuICAvLyBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD01NDgzOTdcbiAgdmFyIGNvbXB1dGVkU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsKSB8fCB7fTtcbiAgdmFyIHBvc2l0aW9uID0gY29tcHV0ZWRTdHlsZS5wb3NpdGlvbjtcbiAgdmFyIHBhcmVudHMgPSBbXTtcblxuICBpZiAocG9zaXRpb24gPT09ICdmaXhlZCcpIHtcbiAgICByZXR1cm4gW2VsXTtcbiAgfVxuXG4gIHZhciBwYXJlbnQgPSBlbDtcbiAgd2hpbGUgKChwYXJlbnQgPSBwYXJlbnQucGFyZW50Tm9kZSkgJiYgcGFyZW50ICYmIHBhcmVudC5ub2RlVHlwZSA9PT0gMSkge1xuICAgIHZhciBzdHlsZSA9IHVuZGVmaW5lZDtcbiAgICB0cnkge1xuICAgICAgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKHBhcmVudCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7fVxuXG4gICAgaWYgKHR5cGVvZiBzdHlsZSA9PT0gJ3VuZGVmaW5lZCcgfHwgc3R5bGUgPT09IG51bGwpIHtcbiAgICAgIHBhcmVudHMucHVzaChwYXJlbnQpO1xuICAgICAgcmV0dXJuIHBhcmVudHM7XG4gICAgfVxuXG4gICAgdmFyIF9zdHlsZSA9IHN0eWxlO1xuICAgIHZhciBvdmVyZmxvdyA9IF9zdHlsZS5vdmVyZmxvdztcbiAgICB2YXIgb3ZlcmZsb3dYID0gX3N0eWxlLm92ZXJmbG93WDtcbiAgICB2YXIgb3ZlcmZsb3dZID0gX3N0eWxlLm92ZXJmbG93WTtcblxuICAgIGlmICgvKGF1dG98c2Nyb2xsKS8udGVzdChvdmVyZmxvdyArIG92ZXJmbG93WSArIG92ZXJmbG93WCkpIHtcbiAgICAgIGlmIChwb3NpdGlvbiAhPT0gJ2Fic29sdXRlJyB8fCBbJ3JlbGF0aXZlJywgJ2Fic29sdXRlJywgJ2ZpeGVkJ10uaW5kZXhPZihzdHlsZS5wb3NpdGlvbikgPj0gMCkge1xuICAgICAgICBwYXJlbnRzLnB1c2gocGFyZW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwYXJlbnRzLnB1c2goZWwub3duZXJEb2N1bWVudC5ib2R5KTtcblxuICAvLyBJZiB0aGUgbm9kZSBpcyB3aXRoaW4gYSBmcmFtZSwgYWNjb3VudCBmb3IgdGhlIHBhcmVudCB3aW5kb3cgc2Nyb2xsXG4gIGlmIChlbC5vd25lckRvY3VtZW50ICE9PSBkb2N1bWVudCkge1xuICAgIHBhcmVudHMucHVzaChlbC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3KTtcbiAgfVxuXG4gIHJldHVybiBwYXJlbnRzO1xufVxuXG52YXIgdW5pcXVlSWQgPSAoZnVuY3Rpb24gKCkge1xuICB2YXIgaWQgPSAwO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiArK2lkO1xuICB9O1xufSkoKTtcblxudmFyIHplcm9Qb3NDYWNoZSA9IHt9O1xudmFyIGdldE9yaWdpbiA9IGZ1bmN0aW9uIGdldE9yaWdpbigpIHtcbiAgLy8gZ2V0Qm91bmRpbmdDbGllbnRSZWN0IGlzIHVuZm9ydHVuYXRlbHkgdG9vIGFjY3VyYXRlLiAgSXQgaW50cm9kdWNlcyBhIHBpeGVsIG9yIHR3byBvZlxuICAvLyBqaXR0ZXIgYXMgdGhlIHVzZXIgc2Nyb2xscyB0aGF0IG1lc3NlcyB3aXRoIG91ciBhYmlsaXR5IHRvIGRldGVjdCBpZiB0d28gcG9zaXRpb25zXG4gIC8vIGFyZSBlcXVpdmlsYW50IG9yIG5vdC4gIFdlIHBsYWNlIGFuIGVsZW1lbnQgYXQgdGhlIHRvcCBsZWZ0IG9mIHRoZSBwYWdlIHRoYXQgd2lsbFxuICAvLyBnZXQgdGhlIHNhbWUgaml0dGVyLCBzbyB3ZSBjYW4gY2FuY2VsIHRoZSB0d28gb3V0LlxuICB2YXIgbm9kZSA9IHplcm9FbGVtZW50O1xuICBpZiAoIW5vZGUgfHwgIWRvY3VtZW50LmJvZHkuY29udGFpbnMobm9kZSkpIHtcbiAgICBub2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbm9kZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtdGV0aGVyLWlkJywgdW5pcXVlSWQoKSk7XG4gICAgZXh0ZW5kKG5vZGUuc3R5bGUsIHtcbiAgICAgIHRvcDogMCxcbiAgICAgIGxlZnQ6IDAsXG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJ1xuICAgIH0pO1xuXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChub2RlKTtcblxuICAgIHplcm9FbGVtZW50ID0gbm9kZTtcbiAgfVxuXG4gIHZhciBpZCA9IG5vZGUuZ2V0QXR0cmlidXRlKCdkYXRhLXRldGhlci1pZCcpO1xuICBpZiAodHlwZW9mIHplcm9Qb3NDYWNoZVtpZF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgemVyb1Bvc0NhY2hlW2lkXSA9IGdldEFjdHVhbEJvdW5kaW5nQ2xpZW50UmVjdChub2RlKTtcblxuICAgIC8vIENsZWFyIHRoZSBjYWNoZSB3aGVuIHRoaXMgcG9zaXRpb24gY2FsbCBpcyBkb25lXG4gICAgZGVmZXIoZnVuY3Rpb24gKCkge1xuICAgICAgZGVsZXRlIHplcm9Qb3NDYWNoZVtpZF07XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gemVyb1Bvc0NhY2hlW2lkXTtcbn07XG5cbmZ1bmN0aW9uIHJlbW92ZVV0aWxFbGVtZW50cygpIHtcbiAgaWYgKHplcm9FbGVtZW50KSB7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh6ZXJvRWxlbWVudCk7XG4gIH1cbiAgemVyb0VsZW1lbnQgPSBudWxsO1xufTtcblxuZnVuY3Rpb24gZ2V0Qm91bmRzKGVsKSB7XG4gIHZhciBkb2MgPSB1bmRlZmluZWQ7XG4gIGlmIChlbCA9PT0gZG9jdW1lbnQpIHtcbiAgICBkb2MgPSBkb2N1bWVudDtcbiAgICBlbCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgfSBlbHNlIHtcbiAgICBkb2MgPSBlbC5vd25lckRvY3VtZW50O1xuICB9XG5cbiAgdmFyIGRvY0VsID0gZG9jLmRvY3VtZW50RWxlbWVudDtcblxuICB2YXIgYm94ID0gZ2V0QWN0dWFsQm91bmRpbmdDbGllbnRSZWN0KGVsKTtcblxuICB2YXIgb3JpZ2luID0gZ2V0T3JpZ2luKCk7XG5cbiAgYm94LnRvcCAtPSBvcmlnaW4udG9wO1xuICBib3gubGVmdCAtPSBvcmlnaW4ubGVmdDtcblxuICBpZiAodHlwZW9mIGJveC53aWR0aCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBib3gud2lkdGggPSBkb2N1bWVudC5ib2R5LnNjcm9sbFdpZHRoIC0gYm94LmxlZnQgLSBib3gucmlnaHQ7XG4gIH1cbiAgaWYgKHR5cGVvZiBib3guaGVpZ2h0ID09PSAndW5kZWZpbmVkJykge1xuICAgIGJveC5oZWlnaHQgPSBkb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodCAtIGJveC50b3AgLSBib3guYm90dG9tO1xuICB9XG5cbiAgYm94LnRvcCA9IGJveC50b3AgLSBkb2NFbC5jbGllbnRUb3A7XG4gIGJveC5sZWZ0ID0gYm94LmxlZnQgLSBkb2NFbC5jbGllbnRMZWZ0O1xuICBib3gucmlnaHQgPSBkb2MuYm9keS5jbGllbnRXaWR0aCAtIGJveC53aWR0aCAtIGJveC5sZWZ0O1xuICBib3guYm90dG9tID0gZG9jLmJvZHkuY2xpZW50SGVpZ2h0IC0gYm94LmhlaWdodCAtIGJveC50b3A7XG5cbiAgcmV0dXJuIGJveDtcbn1cblxuZnVuY3Rpb24gZ2V0T2Zmc2V0UGFyZW50KGVsKSB7XG4gIHJldHVybiBlbC5vZmZzZXRQYXJlbnQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xufVxuXG52YXIgX3Njcm9sbEJhclNpemUgPSBudWxsO1xuZnVuY3Rpb24gZ2V0U2Nyb2xsQmFyU2l6ZSgpIHtcbiAgaWYgKF9zY3JvbGxCYXJTaXplKSB7XG4gICAgcmV0dXJuIF9zY3JvbGxCYXJTaXplO1xuICB9XG4gIHZhciBpbm5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBpbm5lci5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgaW5uZXIuc3R5bGUuaGVpZ2h0ID0gJzIwMHB4JztcblxuICB2YXIgb3V0ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgZXh0ZW5kKG91dGVyLnN0eWxlLCB7XG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgdG9wOiAwLFxuICAgIGxlZnQ6IDAsXG4gICAgcG9pbnRlckV2ZW50czogJ25vbmUnLFxuICAgIHZpc2liaWxpdHk6ICdoaWRkZW4nLFxuICAgIHdpZHRoOiAnMjAwcHgnLFxuICAgIGhlaWdodDogJzE1MHB4JyxcbiAgICBvdmVyZmxvdzogJ2hpZGRlbidcbiAgfSk7XG5cbiAgb3V0ZXIuYXBwZW5kQ2hpbGQoaW5uZXIpO1xuXG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQob3V0ZXIpO1xuXG4gIHZhciB3aWR0aENvbnRhaW5lZCA9IGlubmVyLm9mZnNldFdpZHRoO1xuICBvdXRlci5zdHlsZS5vdmVyZmxvdyA9ICdzY3JvbGwnO1xuICB2YXIgd2lkdGhTY3JvbGwgPSBpbm5lci5vZmZzZXRXaWR0aDtcblxuICBpZiAod2lkdGhDb250YWluZWQgPT09IHdpZHRoU2Nyb2xsKSB7XG4gICAgd2lkdGhTY3JvbGwgPSBvdXRlci5jbGllbnRXaWR0aDtcbiAgfVxuXG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQob3V0ZXIpO1xuXG4gIHZhciB3aWR0aCA9IHdpZHRoQ29udGFpbmVkIC0gd2lkdGhTY3JvbGw7XG5cbiAgX3Njcm9sbEJhclNpemUgPSB7IHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiB3aWR0aCB9O1xuICByZXR1cm4gX3Njcm9sbEJhclNpemU7XG59XG5cbmZ1bmN0aW9uIGV4dGVuZCgpIHtcbiAgdmFyIG91dCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdO1xuXG4gIHZhciBhcmdzID0gW107XG5cbiAgQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoYXJncywgYXJndW1lbnRzKTtcblxuICBhcmdzLnNsaWNlKDEpLmZvckVhY2goZnVuY3Rpb24gKG9iaikge1xuICAgIGlmIChvYmopIHtcbiAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgICAgaWYgKCh7fSkuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcbiAgICAgICAgICBvdXRba2V5XSA9IG9ialtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gb3V0O1xufVxuXG5mdW5jdGlvbiByZW1vdmVDbGFzcyhlbCwgbmFtZSkge1xuICBpZiAodHlwZW9mIGVsLmNsYXNzTGlzdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBuYW1lLnNwbGl0KCcgJykuZm9yRWFjaChmdW5jdGlvbiAoY2xzKSB7XG4gICAgICBpZiAoY2xzLnRyaW0oKSkge1xuICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKGNscyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cCgnKF58ICknICsgbmFtZS5zcGxpdCgnICcpLmpvaW4oJ3wnKSArICcoIHwkKScsICdnaScpO1xuICAgIHZhciBjbGFzc05hbWUgPSBnZXRDbGFzc05hbWUoZWwpLnJlcGxhY2UocmVnZXgsICcgJyk7XG4gICAgc2V0Q2xhc3NOYW1lKGVsLCBjbGFzc05hbWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFkZENsYXNzKGVsLCBuYW1lKSB7XG4gIGlmICh0eXBlb2YgZWwuY2xhc3NMaXN0ICE9PSAndW5kZWZpbmVkJykge1xuICAgIG5hbWUuc3BsaXQoJyAnKS5mb3JFYWNoKGZ1bmN0aW9uIChjbHMpIHtcbiAgICAgIGlmIChjbHMudHJpbSgpKSB7XG4gICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoY2xzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZW1vdmVDbGFzcyhlbCwgbmFtZSk7XG4gICAgdmFyIGNscyA9IGdldENsYXNzTmFtZShlbCkgKyAoJyAnICsgbmFtZSk7XG4gICAgc2V0Q2xhc3NOYW1lKGVsLCBjbHMpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGhhc0NsYXNzKGVsLCBuYW1lKSB7XG4gIGlmICh0eXBlb2YgZWwuY2xhc3NMaXN0ICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBlbC5jbGFzc0xpc3QuY29udGFpbnMobmFtZSk7XG4gIH1cbiAgdmFyIGNsYXNzTmFtZSA9IGdldENsYXNzTmFtZShlbCk7XG4gIHJldHVybiBuZXcgUmVnRXhwKCcoXnwgKScgKyBuYW1lICsgJyggfCQpJywgJ2dpJykudGVzdChjbGFzc05hbWUpO1xufVxuXG5mdW5jdGlvbiBnZXRDbGFzc05hbWUoZWwpIHtcbiAgLy8gQ2FuJ3QgdXNlIGp1c3QgU1ZHQW5pbWF0ZWRTdHJpbmcgaGVyZSBzaW5jZSBub2RlcyB3aXRoaW4gYSBGcmFtZSBpbiBJRSBoYXZlXG4gIC8vIGNvbXBsZXRlbHkgc2VwYXJhdGVseSBTVkdBbmltYXRlZFN0cmluZyBiYXNlIGNsYXNzZXNcbiAgaWYgKGVsLmNsYXNzTmFtZSBpbnN0YW5jZW9mIGVsLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuU1ZHQW5pbWF0ZWRTdHJpbmcpIHtcbiAgICByZXR1cm4gZWwuY2xhc3NOYW1lLmJhc2VWYWw7XG4gIH1cbiAgcmV0dXJuIGVsLmNsYXNzTmFtZTtcbn1cblxuZnVuY3Rpb24gc2V0Q2xhc3NOYW1lKGVsLCBjbGFzc05hbWUpIHtcbiAgZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsIGNsYXNzTmFtZSk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUNsYXNzZXMoZWwsIGFkZCwgYWxsKSB7XG4gIC8vIE9mIHRoZSBzZXQgb2YgJ2FsbCcgY2xhc3Nlcywgd2UgbmVlZCB0aGUgJ2FkZCcgY2xhc3NlcywgYW5kIG9ubHkgdGhlXG4gIC8vICdhZGQnIGNsYXNzZXMgdG8gYmUgc2V0LlxuICBhbGwuZm9yRWFjaChmdW5jdGlvbiAoY2xzKSB7XG4gICAgaWYgKGFkZC5pbmRleE9mKGNscykgPT09IC0xICYmIGhhc0NsYXNzKGVsLCBjbHMpKSB7XG4gICAgICByZW1vdmVDbGFzcyhlbCwgY2xzKTtcbiAgICB9XG4gIH0pO1xuXG4gIGFkZC5mb3JFYWNoKGZ1bmN0aW9uIChjbHMpIHtcbiAgICBpZiAoIWhhc0NsYXNzKGVsLCBjbHMpKSB7XG4gICAgICBhZGRDbGFzcyhlbCwgY2xzKTtcbiAgICB9XG4gIH0pO1xufVxuXG52YXIgZGVmZXJyZWQgPSBbXTtcblxudmFyIGRlZmVyID0gZnVuY3Rpb24gZGVmZXIoZm4pIHtcbiAgZGVmZXJyZWQucHVzaChmbik7XG59O1xuXG52YXIgZmx1c2ggPSBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgdmFyIGZuID0gdW5kZWZpbmVkO1xuICB3aGlsZSAoZm4gPSBkZWZlcnJlZC5wb3AoKSkge1xuICAgIGZuKCk7XG4gIH1cbn07XG5cbnZhciBFdmVudGVkID0gKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gRXZlbnRlZCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRXZlbnRlZCk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoRXZlbnRlZCwgW3tcbiAgICBrZXk6ICdvbicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uKGV2ZW50LCBoYW5kbGVyLCBjdHgpIHtcbiAgICAgIHZhciBvbmNlID0gYXJndW1lbnRzLmxlbmd0aCA8PSAzIHx8IGFyZ3VtZW50c1szXSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBhcmd1bWVudHNbM107XG5cbiAgICAgIGlmICh0eXBlb2YgdGhpcy5iaW5kaW5ncyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhpcy5iaW5kaW5ncyA9IHt9O1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiB0aGlzLmJpbmRpbmdzW2V2ZW50XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhpcy5iaW5kaW5nc1tldmVudF0gPSBbXTtcbiAgICAgIH1cbiAgICAgIHRoaXMuYmluZGluZ3NbZXZlbnRdLnB1c2goeyBoYW5kbGVyOiBoYW5kbGVyLCBjdHg6IGN0eCwgb25jZTogb25jZSB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvbmNlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25jZShldmVudCwgaGFuZGxlciwgY3R4KSB7XG4gICAgICB0aGlzLm9uKGV2ZW50LCBoYW5kbGVyLCBjdHgsIHRydWUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29mZicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9mZihldmVudCwgaGFuZGxlcikge1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLmJpbmRpbmdzID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgdGhpcy5iaW5kaW5nc1tldmVudF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBkZWxldGUgdGhpcy5iaW5kaW5nc1tldmVudF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgdGhpcy5iaW5kaW5nc1tldmVudF0ubGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKHRoaXMuYmluZGluZ3NbZXZlbnRdW2ldLmhhbmRsZXIgPT09IGhhbmRsZXIpIHtcbiAgICAgICAgICAgIHRoaXMuYmluZGluZ3NbZXZlbnRdLnNwbGljZShpLCAxKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgKytpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3RyaWdnZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0cmlnZ2VyKGV2ZW50KSB7XG4gICAgICBpZiAodHlwZW9mIHRoaXMuYmluZGluZ3MgIT09ICd1bmRlZmluZWQnICYmIHRoaXMuYmluZGluZ3NbZXZlbnRdKSB7XG4gICAgICAgIHZhciBpID0gMDtcblxuICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdoaWxlIChpIDwgdGhpcy5iaW5kaW5nc1tldmVudF0ubGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIF9iaW5kaW5ncyRldmVudCRpID0gdGhpcy5iaW5kaW5nc1tldmVudF1baV07XG4gICAgICAgICAgdmFyIGhhbmRsZXIgPSBfYmluZGluZ3MkZXZlbnQkaS5oYW5kbGVyO1xuICAgICAgICAgIHZhciBjdHggPSBfYmluZGluZ3MkZXZlbnQkaS5jdHg7XG4gICAgICAgICAgdmFyIG9uY2UgPSBfYmluZGluZ3MkZXZlbnQkaS5vbmNlO1xuXG4gICAgICAgICAgdmFyIGNvbnRleHQgPSBjdHg7XG4gICAgICAgICAgaWYgKHR5cGVvZiBjb250ZXh0ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgY29udGV4dCA9IHRoaXM7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaGFuZGxlci5hcHBseShjb250ZXh0LCBhcmdzKTtcblxuICAgICAgICAgIGlmIChvbmNlKSB7XG4gICAgICAgICAgICB0aGlzLmJpbmRpbmdzW2V2ZW50XS5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICsraTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRXZlbnRlZDtcbn0pKCk7XG5cblRldGhlckJhc2UuVXRpbHMgPSB7XG4gIGdldEFjdHVhbEJvdW5kaW5nQ2xpZW50UmVjdDogZ2V0QWN0dWFsQm91bmRpbmdDbGllbnRSZWN0LFxuICBnZXRTY3JvbGxQYXJlbnRzOiBnZXRTY3JvbGxQYXJlbnRzLFxuICBnZXRCb3VuZHM6IGdldEJvdW5kcyxcbiAgZ2V0T2Zmc2V0UGFyZW50OiBnZXRPZmZzZXRQYXJlbnQsXG4gIGV4dGVuZDogZXh0ZW5kLFxuICBhZGRDbGFzczogYWRkQ2xhc3MsXG4gIHJlbW92ZUNsYXNzOiByZW1vdmVDbGFzcyxcbiAgaGFzQ2xhc3M6IGhhc0NsYXNzLFxuICB1cGRhdGVDbGFzc2VzOiB1cGRhdGVDbGFzc2VzLFxuICBkZWZlcjogZGVmZXIsXG4gIGZsdXNoOiBmbHVzaCxcbiAgdW5pcXVlSWQ6IHVuaXF1ZUlkLFxuICBFdmVudGVkOiBFdmVudGVkLFxuICBnZXRTY3JvbGxCYXJTaXplOiBnZXRTY3JvbGxCYXJTaXplLFxuICByZW1vdmVVdGlsRWxlbWVudHM6IHJlbW92ZVV0aWxFbGVtZW50c1xufTtcbi8qIGdsb2JhbHMgVGV0aGVyQmFzZSwgcGVyZm9ybWFuY2UgKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgX3NsaWNlZFRvQXJyYXkgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBzbGljZUl0ZXJhdG9yKGFyciwgaSkgeyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVsncmV0dXJuJ10pIF9pWydyZXR1cm4nXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH0gcmV0dXJuIGZ1bmN0aW9uIChhcnIsIGkpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyByZXR1cm4gYXJyOyB9IGVsc2UgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkgeyByZXR1cm4gc2xpY2VJdGVyYXRvcihhcnIsIGkpOyB9IGVsc2UgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlJyk7IH0gfTsgfSkoKTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTtcblxudmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQoX3g2LCBfeDcsIF94OCkgeyB2YXIgX2FnYWluID0gdHJ1ZTsgX2Z1bmN0aW9uOiB3aGlsZSAoX2FnYWluKSB7IHZhciBvYmplY3QgPSBfeDYsIHByb3BlcnR5ID0gX3g3LCByZWNlaXZlciA9IF94ODsgX2FnYWluID0gZmFsc2U7IGlmIChvYmplY3QgPT09IG51bGwpIG9iamVjdCA9IEZ1bmN0aW9uLnByb3RvdHlwZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyBfeDYgPSBwYXJlbnQ7IF94NyA9IHByb3BlcnR5OyBfeDggPSByZWNlaXZlcjsgX2FnYWluID0gdHJ1ZTsgZGVzYyA9IHBhcmVudCA9IHVuZGVmaW5lZDsgY29udGludWUgX2Z1bmN0aW9uOyB9IH0gZWxzZSBpZiAoJ3ZhbHVlJyBpbiBkZXNjKSB7IHJldHVybiBkZXNjLnZhbHVlOyB9IGVsc2UgeyB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7IGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7IH0gfSB9O1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gJ2Z1bmN0aW9uJyAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ1N1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgJyArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuaWYgKHR5cGVvZiBUZXRoZXJCYXNlID09PSAndW5kZWZpbmVkJykge1xuICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBtdXN0IGluY2x1ZGUgdGhlIHV0aWxzLmpzIGZpbGUgYmVmb3JlIHRldGhlci5qcycpO1xufVxuXG52YXIgX1RldGhlckJhc2UkVXRpbHMgPSBUZXRoZXJCYXNlLlV0aWxzO1xudmFyIGdldFNjcm9sbFBhcmVudHMgPSBfVGV0aGVyQmFzZSRVdGlscy5nZXRTY3JvbGxQYXJlbnRzO1xudmFyIGdldEJvdW5kcyA9IF9UZXRoZXJCYXNlJFV0aWxzLmdldEJvdW5kcztcbnZhciBnZXRPZmZzZXRQYXJlbnQgPSBfVGV0aGVyQmFzZSRVdGlscy5nZXRPZmZzZXRQYXJlbnQ7XG52YXIgZXh0ZW5kID0gX1RldGhlckJhc2UkVXRpbHMuZXh0ZW5kO1xudmFyIGFkZENsYXNzID0gX1RldGhlckJhc2UkVXRpbHMuYWRkQ2xhc3M7XG52YXIgcmVtb3ZlQ2xhc3MgPSBfVGV0aGVyQmFzZSRVdGlscy5yZW1vdmVDbGFzcztcbnZhciB1cGRhdGVDbGFzc2VzID0gX1RldGhlckJhc2UkVXRpbHMudXBkYXRlQ2xhc3NlcztcbnZhciBkZWZlciA9IF9UZXRoZXJCYXNlJFV0aWxzLmRlZmVyO1xudmFyIGZsdXNoID0gX1RldGhlckJhc2UkVXRpbHMuZmx1c2g7XG52YXIgZ2V0U2Nyb2xsQmFyU2l6ZSA9IF9UZXRoZXJCYXNlJFV0aWxzLmdldFNjcm9sbEJhclNpemU7XG52YXIgcmVtb3ZlVXRpbEVsZW1lbnRzID0gX1RldGhlckJhc2UkVXRpbHMucmVtb3ZlVXRpbEVsZW1lbnRzO1xuXG5mdW5jdGlvbiB3aXRoaW4oYSwgYikge1xuICB2YXIgZGlmZiA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMiB8fCBhcmd1bWVudHNbMl0gPT09IHVuZGVmaW5lZCA/IDEgOiBhcmd1bWVudHNbMl07XG5cbiAgcmV0dXJuIGEgKyBkaWZmID49IGIgJiYgYiA+PSBhIC0gZGlmZjtcbn1cblxudmFyIHRyYW5zZm9ybUtleSA9IChmdW5jdGlvbiAoKSB7XG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG4gIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gIHZhciB0cmFuc2Zvcm1zID0gWyd0cmFuc2Zvcm0nLCAnV2Via2l0VHJhbnNmb3JtJywgJ09UcmFuc2Zvcm0nLCAnTW96VHJhbnNmb3JtJywgJ21zVHJhbnNmb3JtJ107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdHJhbnNmb3Jtcy5sZW5ndGg7ICsraSkge1xuICAgIHZhciBrZXkgPSB0cmFuc2Zvcm1zW2ldO1xuICAgIGlmIChlbC5zdHlsZVtrZXldICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBrZXk7XG4gICAgfVxuICB9XG59KSgpO1xuXG52YXIgdGV0aGVycyA9IFtdO1xuXG52YXIgcG9zaXRpb24gPSBmdW5jdGlvbiBwb3NpdGlvbigpIHtcbiAgdGV0aGVycy5mb3JFYWNoKGZ1bmN0aW9uICh0ZXRoZXIpIHtcbiAgICB0ZXRoZXIucG9zaXRpb24oZmFsc2UpO1xuICB9KTtcbiAgZmx1c2goKTtcbn07XG5cbmZ1bmN0aW9uIG5vdygpIHtcbiAgaWYgKHR5cGVvZiBwZXJmb3JtYW5jZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHBlcmZvcm1hbmNlLm5vdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gcGVyZm9ybWFuY2Uubm93KCk7XG4gIH1cbiAgcmV0dXJuICtuZXcgRGF0ZSgpO1xufVxuXG4oZnVuY3Rpb24gKCkge1xuICB2YXIgbGFzdENhbGwgPSBudWxsO1xuICB2YXIgbGFzdER1cmF0aW9uID0gbnVsbDtcbiAgdmFyIHBlbmRpbmdUaW1lb3V0ID0gbnVsbDtcblxuICB2YXIgdGljayA9IGZ1bmN0aW9uIHRpY2soKSB7XG4gICAgaWYgKHR5cGVvZiBsYXN0RHVyYXRpb24gIT09ICd1bmRlZmluZWQnICYmIGxhc3REdXJhdGlvbiA+IDE2KSB7XG4gICAgICAvLyBXZSB2b2x1bnRhcmlseSB0aHJvdHRsZSBvdXJzZWx2ZXMgaWYgd2UgY2FuJ3QgbWFuYWdlIDYwZnBzXG4gICAgICBsYXN0RHVyYXRpb24gPSBNYXRoLm1pbihsYXN0RHVyYXRpb24gLSAxNiwgMjUwKTtcblxuICAgICAgLy8gSnVzdCBpbiBjYXNlIHRoaXMgaXMgdGhlIGxhc3QgZXZlbnQsIHJlbWVtYmVyIHRvIHBvc2l0aW9uIGp1c3Qgb25jZSBtb3JlXG4gICAgICBwZW5kaW5nVGltZW91dCA9IHNldFRpbWVvdXQodGljaywgMjUwKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGxhc3RDYWxsICE9PSAndW5kZWZpbmVkJyAmJiBub3coKSAtIGxhc3RDYWxsIDwgMTApIHtcbiAgICAgIC8vIFNvbWUgYnJvd3NlcnMgY2FsbCBldmVudHMgYSBsaXR0bGUgdG9vIGZyZXF1ZW50bHksIHJlZnVzZSB0byBydW4gbW9yZSB0aGFuIGlzIHJlYXNvbmFibGVcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAocGVuZGluZ1RpbWVvdXQgIT0gbnVsbCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHBlbmRpbmdUaW1lb3V0KTtcbiAgICAgIHBlbmRpbmdUaW1lb3V0ID0gbnVsbDtcbiAgICB9XG5cbiAgICBsYXN0Q2FsbCA9IG5vdygpO1xuICAgIHBvc2l0aW9uKCk7XG4gICAgbGFzdER1cmF0aW9uID0gbm93KCkgLSBsYXN0Q2FsbDtcbiAgfTtcblxuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyICE9PSAndW5kZWZpbmVkJykge1xuICAgIFsncmVzaXplJywgJ3Njcm9sbCcsICd0b3VjaG1vdmUnXS5mb3JFYWNoKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIHRpY2spO1xuICAgIH0pO1xuICB9XG59KSgpO1xuXG52YXIgTUlSUk9SX0xSID0ge1xuICBjZW50ZXI6ICdjZW50ZXInLFxuICBsZWZ0OiAncmlnaHQnLFxuICByaWdodDogJ2xlZnQnXG59O1xuXG52YXIgTUlSUk9SX1RCID0ge1xuICBtaWRkbGU6ICdtaWRkbGUnLFxuICB0b3A6ICdib3R0b20nLFxuICBib3R0b206ICd0b3AnXG59O1xuXG52YXIgT0ZGU0VUX01BUCA9IHtcbiAgdG9wOiAwLFxuICBsZWZ0OiAwLFxuICBtaWRkbGU6ICc1MCUnLFxuICBjZW50ZXI6ICc1MCUnLFxuICBib3R0b206ICcxMDAlJyxcbiAgcmlnaHQ6ICcxMDAlJ1xufTtcblxudmFyIGF1dG9Ub0ZpeGVkQXR0YWNobWVudCA9IGZ1bmN0aW9uIGF1dG9Ub0ZpeGVkQXR0YWNobWVudChhdHRhY2htZW50LCByZWxhdGl2ZVRvQXR0YWNobWVudCkge1xuICB2YXIgbGVmdCA9IGF0dGFjaG1lbnQubGVmdDtcbiAgdmFyIHRvcCA9IGF0dGFjaG1lbnQudG9wO1xuXG4gIGlmIChsZWZ0ID09PSAnYXV0bycpIHtcbiAgICBsZWZ0ID0gTUlSUk9SX0xSW3JlbGF0aXZlVG9BdHRhY2htZW50LmxlZnRdO1xuICB9XG5cbiAgaWYgKHRvcCA9PT0gJ2F1dG8nKSB7XG4gICAgdG9wID0gTUlSUk9SX1RCW3JlbGF0aXZlVG9BdHRhY2htZW50LnRvcF07XG4gIH1cblxuICByZXR1cm4geyBsZWZ0OiBsZWZ0LCB0b3A6IHRvcCB9O1xufTtcblxudmFyIGF0dGFjaG1lbnRUb09mZnNldCA9IGZ1bmN0aW9uIGF0dGFjaG1lbnRUb09mZnNldChhdHRhY2htZW50KSB7XG4gIHZhciBsZWZ0ID0gYXR0YWNobWVudC5sZWZ0O1xuICB2YXIgdG9wID0gYXR0YWNobWVudC50b3A7XG5cbiAgaWYgKHR5cGVvZiBPRkZTRVRfTUFQW2F0dGFjaG1lbnQubGVmdF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgbGVmdCA9IE9GRlNFVF9NQVBbYXR0YWNobWVudC5sZWZ0XTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgT0ZGU0VUX01BUFthdHRhY2htZW50LnRvcF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgdG9wID0gT0ZGU0VUX01BUFthdHRhY2htZW50LnRvcF07XG4gIH1cblxuICByZXR1cm4geyBsZWZ0OiBsZWZ0LCB0b3A6IHRvcCB9O1xufTtcblxuZnVuY3Rpb24gYWRkT2Zmc2V0KCkge1xuICB2YXIgb3V0ID0geyB0b3A6IDAsIGxlZnQ6IDAgfTtcblxuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgb2Zmc2V0cyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIG9mZnNldHNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICBvZmZzZXRzLmZvckVhY2goZnVuY3Rpb24gKF9yZWYpIHtcbiAgICB2YXIgdG9wID0gX3JlZi50b3A7XG4gICAgdmFyIGxlZnQgPSBfcmVmLmxlZnQ7XG5cbiAgICBpZiAodHlwZW9mIHRvcCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRvcCA9IHBhcnNlRmxvYXQodG9wLCAxMCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgbGVmdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGxlZnQgPSBwYXJzZUZsb2F0KGxlZnQsIDEwKTtcbiAgICB9XG5cbiAgICBvdXQudG9wICs9IHRvcDtcbiAgICBvdXQubGVmdCArPSBsZWZ0O1xuICB9KTtcblxuICByZXR1cm4gb3V0O1xufVxuXG5mdW5jdGlvbiBvZmZzZXRUb1B4KG9mZnNldCwgc2l6ZSkge1xuICBpZiAodHlwZW9mIG9mZnNldC5sZWZ0ID09PSAnc3RyaW5nJyAmJiBvZmZzZXQubGVmdC5pbmRleE9mKCclJykgIT09IC0xKSB7XG4gICAgb2Zmc2V0LmxlZnQgPSBwYXJzZUZsb2F0KG9mZnNldC5sZWZ0LCAxMCkgLyAxMDAgKiBzaXplLndpZHRoO1xuICB9XG4gIGlmICh0eXBlb2Ygb2Zmc2V0LnRvcCA9PT0gJ3N0cmluZycgJiYgb2Zmc2V0LnRvcC5pbmRleE9mKCclJykgIT09IC0xKSB7XG4gICAgb2Zmc2V0LnRvcCA9IHBhcnNlRmxvYXQob2Zmc2V0LnRvcCwgMTApIC8gMTAwICogc2l6ZS5oZWlnaHQ7XG4gIH1cblxuICByZXR1cm4gb2Zmc2V0O1xufVxuXG52YXIgcGFyc2VPZmZzZXQgPSBmdW5jdGlvbiBwYXJzZU9mZnNldCh2YWx1ZSkge1xuICB2YXIgX3ZhbHVlJHNwbGl0ID0gdmFsdWUuc3BsaXQoJyAnKTtcblxuICB2YXIgX3ZhbHVlJHNwbGl0MiA9IF9zbGljZWRUb0FycmF5KF92YWx1ZSRzcGxpdCwgMik7XG5cbiAgdmFyIHRvcCA9IF92YWx1ZSRzcGxpdDJbMF07XG4gIHZhciBsZWZ0ID0gX3ZhbHVlJHNwbGl0MlsxXTtcblxuICByZXR1cm4geyB0b3A6IHRvcCwgbGVmdDogbGVmdCB9O1xufTtcbnZhciBwYXJzZUF0dGFjaG1lbnQgPSBwYXJzZU9mZnNldDtcblxudmFyIFRldGhlckNsYXNzID0gKGZ1bmN0aW9uIChfRXZlbnRlZCkge1xuICBfaW5oZXJpdHMoVGV0aGVyQ2xhc3MsIF9FdmVudGVkKTtcblxuICBmdW5jdGlvbiBUZXRoZXJDbGFzcyhvcHRpb25zKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUZXRoZXJDbGFzcyk7XG5cbiAgICBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihUZXRoZXJDbGFzcy5wcm90b3R5cGUpLCAnY29uc3RydWN0b3InLCB0aGlzKS5jYWxsKHRoaXMpO1xuICAgIHRoaXMucG9zaXRpb24gPSB0aGlzLnBvc2l0aW9uLmJpbmQodGhpcyk7XG5cbiAgICB0ZXRoZXJzLnB1c2godGhpcyk7XG5cbiAgICB0aGlzLmhpc3RvcnkgPSBbXTtcblxuICAgIHRoaXMuc2V0T3B0aW9ucyhvcHRpb25zLCBmYWxzZSk7XG5cbiAgICBUZXRoZXJCYXNlLm1vZHVsZXMuZm9yRWFjaChmdW5jdGlvbiAobW9kdWxlKSB7XG4gICAgICBpZiAodHlwZW9mIG1vZHVsZS5pbml0aWFsaXplICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBtb2R1bGUuaW5pdGlhbGl6ZS5jYWxsKF90aGlzKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMucG9zaXRpb24oKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhUZXRoZXJDbGFzcywgW3tcbiAgICBrZXk6ICdnZXRDbGFzcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldENsYXNzKCkge1xuICAgICAgdmFyIGtleSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/ICcnIDogYXJndW1lbnRzWzBdO1xuICAgICAgdmFyIGNsYXNzZXMgPSB0aGlzLm9wdGlvbnMuY2xhc3NlcztcblxuICAgICAgaWYgKHR5cGVvZiBjbGFzc2VzICE9PSAndW5kZWZpbmVkJyAmJiBjbGFzc2VzW2tleV0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5jbGFzc2VzW2tleV07XG4gICAgICB9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5jbGFzc1ByZWZpeCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmNsYXNzUHJlZml4ICsgJy0nICsga2V5O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzZXRPcHRpb25zJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIHBvcyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IHRydWUgOiBhcmd1bWVudHNbMV07XG5cbiAgICAgIHZhciBkZWZhdWx0cyA9IHtcbiAgICAgICAgb2Zmc2V0OiAnMCAwJyxcbiAgICAgICAgdGFyZ2V0T2Zmc2V0OiAnMCAwJyxcbiAgICAgICAgdGFyZ2V0QXR0YWNobWVudDogJ2F1dG8gYXV0bycsXG4gICAgICAgIGNsYXNzUHJlZml4OiAndGV0aGVyJ1xuICAgICAgfTtcblxuICAgICAgdGhpcy5vcHRpb25zID0gZXh0ZW5kKGRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgICAgdmFyIF9vcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgdmFyIGVsZW1lbnQgPSBfb3B0aW9ucy5lbGVtZW50O1xuICAgICAgdmFyIHRhcmdldCA9IF9vcHRpb25zLnRhcmdldDtcbiAgICAgIHZhciB0YXJnZXRNb2RpZmllciA9IF9vcHRpb25zLnRhcmdldE1vZGlmaWVyO1xuXG4gICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICB0aGlzLnRhcmdldE1vZGlmaWVyID0gdGFyZ2V0TW9kaWZpZXI7XG5cbiAgICAgIGlmICh0aGlzLnRhcmdldCA9PT0gJ3ZpZXdwb3J0Jykge1xuICAgICAgICB0aGlzLnRhcmdldCA9IGRvY3VtZW50LmJvZHk7XG4gICAgICAgIHRoaXMudGFyZ2V0TW9kaWZpZXIgPSAndmlzaWJsZSc7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMudGFyZ2V0ID09PSAnc2Nyb2xsLWhhbmRsZScpIHtcbiAgICAgICAgdGhpcy50YXJnZXQgPSBkb2N1bWVudC5ib2R5O1xuICAgICAgICB0aGlzLnRhcmdldE1vZGlmaWVyID0gJ3Njcm9sbC1oYW5kbGUnO1xuICAgICAgfVxuXG4gICAgICBbJ2VsZW1lbnQnLCAndGFyZ2V0J10uZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmICh0eXBlb2YgX3RoaXMyW2tleV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUZXRoZXIgRXJyb3I6IEJvdGggZWxlbWVudCBhbmQgdGFyZ2V0IG11c3QgYmUgZGVmaW5lZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBfdGhpczJba2V5XS5qcXVlcnkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgX3RoaXMyW2tleV0gPSBfdGhpczJba2V5XVswXTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgX3RoaXMyW2tleV0gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgX3RoaXMyW2tleV0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKF90aGlzMltrZXldKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGFkZENsYXNzKHRoaXMuZWxlbWVudCwgdGhpcy5nZXRDbGFzcygnZWxlbWVudCcpKTtcbiAgICAgIGlmICghKHRoaXMub3B0aW9ucy5hZGRUYXJnZXRDbGFzc2VzID09PSBmYWxzZSkpIHtcbiAgICAgICAgYWRkQ2xhc3ModGhpcy50YXJnZXQsIHRoaXMuZ2V0Q2xhc3MoJ3RhcmdldCcpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuYXR0YWNobWVudCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RldGhlciBFcnJvcjogWW91IG11c3QgcHJvdmlkZSBhbiBhdHRhY2htZW50Jyk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMudGFyZ2V0QXR0YWNobWVudCA9IHBhcnNlQXR0YWNobWVudCh0aGlzLm9wdGlvbnMudGFyZ2V0QXR0YWNobWVudCk7XG4gICAgICB0aGlzLmF0dGFjaG1lbnQgPSBwYXJzZUF0dGFjaG1lbnQodGhpcy5vcHRpb25zLmF0dGFjaG1lbnQpO1xuICAgICAgdGhpcy5vZmZzZXQgPSBwYXJzZU9mZnNldCh0aGlzLm9wdGlvbnMub2Zmc2V0KTtcbiAgICAgIHRoaXMudGFyZ2V0T2Zmc2V0ID0gcGFyc2VPZmZzZXQodGhpcy5vcHRpb25zLnRhcmdldE9mZnNldCk7XG5cbiAgICAgIGlmICh0eXBlb2YgdGhpcy5zY3JvbGxQYXJlbnRzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aGlzLmRpc2FibGUoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMudGFyZ2V0TW9kaWZpZXIgPT09ICdzY3JvbGwtaGFuZGxlJykge1xuICAgICAgICB0aGlzLnNjcm9sbFBhcmVudHMgPSBbdGhpcy50YXJnZXRdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zY3JvbGxQYXJlbnRzID0gZ2V0U2Nyb2xsUGFyZW50cyh0aGlzLnRhcmdldCk7XG4gICAgICB9XG5cbiAgICAgIGlmICghKHRoaXMub3B0aW9ucy5lbmFibGVkID09PSBmYWxzZSkpIHtcbiAgICAgICAgdGhpcy5lbmFibGUocG9zKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRUYXJnZXRCb3VuZHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRUYXJnZXRCb3VuZHMoKSB7XG4gICAgICBpZiAodHlwZW9mIHRoaXMudGFyZ2V0TW9kaWZpZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGlmICh0aGlzLnRhcmdldE1vZGlmaWVyID09PSAndmlzaWJsZScpIHtcbiAgICAgICAgICBpZiAodGhpcy50YXJnZXQgPT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHRvcDogcGFnZVlPZmZzZXQsIGxlZnQ6IHBhZ2VYT2Zmc2V0LCBoZWlnaHQ6IGlubmVySGVpZ2h0LCB3aWR0aDogaW5uZXJXaWR0aCB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgYm91bmRzID0gZ2V0Qm91bmRzKHRoaXMudGFyZ2V0KTtcblxuICAgICAgICAgICAgdmFyIG91dCA9IHtcbiAgICAgICAgICAgICAgaGVpZ2h0OiBib3VuZHMuaGVpZ2h0LFxuICAgICAgICAgICAgICB3aWR0aDogYm91bmRzLndpZHRoLFxuICAgICAgICAgICAgICB0b3A6IGJvdW5kcy50b3AsXG4gICAgICAgICAgICAgIGxlZnQ6IGJvdW5kcy5sZWZ0XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBvdXQuaGVpZ2h0ID0gTWF0aC5taW4ob3V0LmhlaWdodCwgYm91bmRzLmhlaWdodCAtIChwYWdlWU9mZnNldCAtIGJvdW5kcy50b3ApKTtcbiAgICAgICAgICAgIG91dC5oZWlnaHQgPSBNYXRoLm1pbihvdXQuaGVpZ2h0LCBib3VuZHMuaGVpZ2h0IC0gKGJvdW5kcy50b3AgKyBib3VuZHMuaGVpZ2h0IC0gKHBhZ2VZT2Zmc2V0ICsgaW5uZXJIZWlnaHQpKSk7XG4gICAgICAgICAgICBvdXQuaGVpZ2h0ID0gTWF0aC5taW4oaW5uZXJIZWlnaHQsIG91dC5oZWlnaHQpO1xuICAgICAgICAgICAgb3V0LmhlaWdodCAtPSAyO1xuXG4gICAgICAgICAgICBvdXQud2lkdGggPSBNYXRoLm1pbihvdXQud2lkdGgsIGJvdW5kcy53aWR0aCAtIChwYWdlWE9mZnNldCAtIGJvdW5kcy5sZWZ0KSk7XG4gICAgICAgICAgICBvdXQud2lkdGggPSBNYXRoLm1pbihvdXQud2lkdGgsIGJvdW5kcy53aWR0aCAtIChib3VuZHMubGVmdCArIGJvdW5kcy53aWR0aCAtIChwYWdlWE9mZnNldCArIGlubmVyV2lkdGgpKSk7XG4gICAgICAgICAgICBvdXQud2lkdGggPSBNYXRoLm1pbihpbm5lcldpZHRoLCBvdXQud2lkdGgpO1xuICAgICAgICAgICAgb3V0LndpZHRoIC09IDI7XG5cbiAgICAgICAgICAgIGlmIChvdXQudG9wIDwgcGFnZVlPZmZzZXQpIHtcbiAgICAgICAgICAgICAgb3V0LnRvcCA9IHBhZ2VZT2Zmc2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG91dC5sZWZ0IDwgcGFnZVhPZmZzZXQpIHtcbiAgICAgICAgICAgICAgb3V0LmxlZnQgPSBwYWdlWE9mZnNldDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG91dDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy50YXJnZXRNb2RpZmllciA9PT0gJ3Njcm9sbC1oYW5kbGUnKSB7XG4gICAgICAgICAgdmFyIGJvdW5kcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB2YXIgdGFyZ2V0ID0gdGhpcy50YXJnZXQ7XG4gICAgICAgICAgaWYgKHRhcmdldCA9PT0gZG9jdW1lbnQuYm9keSkge1xuICAgICAgICAgICAgdGFyZ2V0ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXG4gICAgICAgICAgICBib3VuZHMgPSB7XG4gICAgICAgICAgICAgIGxlZnQ6IHBhZ2VYT2Zmc2V0LFxuICAgICAgICAgICAgICB0b3A6IHBhZ2VZT2Zmc2V0LFxuICAgICAgICAgICAgICBoZWlnaHQ6IGlubmVySGVpZ2h0LFxuICAgICAgICAgICAgICB3aWR0aDogaW5uZXJXaWR0aFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYm91bmRzID0gZ2V0Qm91bmRzKHRhcmdldCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZSh0YXJnZXQpO1xuXG4gICAgICAgICAgdmFyIGhhc0JvdHRvbVNjcm9sbCA9IHRhcmdldC5zY3JvbGxXaWR0aCA+IHRhcmdldC5jbGllbnRXaWR0aCB8fCBbc3R5bGUub3ZlcmZsb3csIHN0eWxlLm92ZXJmbG93WF0uaW5kZXhPZignc2Nyb2xsJykgPj0gMCB8fCB0aGlzLnRhcmdldCAhPT0gZG9jdW1lbnQuYm9keTtcblxuICAgICAgICAgIHZhciBzY3JvbGxCb3R0b20gPSAwO1xuICAgICAgICAgIGlmIChoYXNCb3R0b21TY3JvbGwpIHtcbiAgICAgICAgICAgIHNjcm9sbEJvdHRvbSA9IDE1O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBoZWlnaHQgPSBib3VuZHMuaGVpZ2h0IC0gcGFyc2VGbG9hdChzdHlsZS5ib3JkZXJUb3BXaWR0aCkgLSBwYXJzZUZsb2F0KHN0eWxlLmJvcmRlckJvdHRvbVdpZHRoKSAtIHNjcm9sbEJvdHRvbTtcblxuICAgICAgICAgIHZhciBvdXQgPSB7XG4gICAgICAgICAgICB3aWR0aDogMTUsXG4gICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCAqIDAuOTc1ICogKGhlaWdodCAvIHRhcmdldC5zY3JvbGxIZWlnaHQpLFxuICAgICAgICAgICAgbGVmdDogYm91bmRzLmxlZnQgKyBib3VuZHMud2lkdGggLSBwYXJzZUZsb2F0KHN0eWxlLmJvcmRlckxlZnRXaWR0aCkgLSAxNVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICB2YXIgZml0QWRqID0gMDtcbiAgICAgICAgICBpZiAoaGVpZ2h0IDwgNDA4ICYmIHRoaXMudGFyZ2V0ID09PSBkb2N1bWVudC5ib2R5KSB7XG4gICAgICAgICAgICBmaXRBZGogPSAtMC4wMDAxMSAqIE1hdGgucG93KGhlaWdodCwgMikgLSAwLjAwNzI3ICogaGVpZ2h0ICsgMjIuNTg7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHRoaXMudGFyZ2V0ICE9PSBkb2N1bWVudC5ib2R5KSB7XG4gICAgICAgICAgICBvdXQuaGVpZ2h0ID0gTWF0aC5tYXgob3V0LmhlaWdodCwgMjQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBzY3JvbGxQZXJjZW50YWdlID0gdGhpcy50YXJnZXQuc2Nyb2xsVG9wIC8gKHRhcmdldC5zY3JvbGxIZWlnaHQgLSBoZWlnaHQpO1xuICAgICAgICAgIG91dC50b3AgPSBzY3JvbGxQZXJjZW50YWdlICogKGhlaWdodCAtIG91dC5oZWlnaHQgLSBmaXRBZGopICsgYm91bmRzLnRvcCArIHBhcnNlRmxvYXQoc3R5bGUuYm9yZGVyVG9wV2lkdGgpO1xuXG4gICAgICAgICAgaWYgKHRoaXMudGFyZ2V0ID09PSBkb2N1bWVudC5ib2R5KSB7XG4gICAgICAgICAgICBvdXQuaGVpZ2h0ID0gTWF0aC5tYXgob3V0LmhlaWdodCwgMjQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBvdXQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBnZXRCb3VuZHModGhpcy50YXJnZXQpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NsZWFyQ2FjaGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhckNhY2hlKCkge1xuICAgICAgdGhpcy5fY2FjaGUgPSB7fTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjYWNoZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNhY2hlKGssIGdldHRlcikge1xuICAgICAgLy8gTW9yZSB0aGFuIG9uZSBtb2R1bGUgd2lsbCBvZnRlbiBuZWVkIHRoZSBzYW1lIERPTSBpbmZvLCBzb1xuICAgICAgLy8gd2Uga2VlcCBhIGNhY2hlIHdoaWNoIGlzIGNsZWFyZWQgb24gZWFjaCBwb3NpdGlvbiBjYWxsXG4gICAgICBpZiAodHlwZW9mIHRoaXMuX2NhY2hlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aGlzLl9jYWNoZSA9IHt9O1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIHRoaXMuX2NhY2hlW2tdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aGlzLl9jYWNoZVtrXSA9IGdldHRlci5jYWxsKHRoaXMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5fY2FjaGVba107XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZW5hYmxlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZW5hYmxlKCkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIHZhciBwb3MgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB0cnVlIDogYXJndW1lbnRzWzBdO1xuXG4gICAgICBpZiAoISh0aGlzLm9wdGlvbnMuYWRkVGFyZ2V0Q2xhc3NlcyA9PT0gZmFsc2UpKSB7XG4gICAgICAgIGFkZENsYXNzKHRoaXMudGFyZ2V0LCB0aGlzLmdldENsYXNzKCdlbmFibGVkJykpO1xuICAgICAgfVxuICAgICAgYWRkQ2xhc3ModGhpcy5lbGVtZW50LCB0aGlzLmdldENsYXNzKCdlbmFibGVkJykpO1xuICAgICAgdGhpcy5lbmFibGVkID0gdHJ1ZTtcblxuICAgICAgdGhpcy5zY3JvbGxQYXJlbnRzLmZvckVhY2goZnVuY3Rpb24gKHBhcmVudCkge1xuICAgICAgICBpZiAocGFyZW50ICE9PSBfdGhpczMudGFyZ2V0Lm93bmVyRG9jdW1lbnQpIHtcbiAgICAgICAgICBwYXJlbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgX3RoaXMzLnBvc2l0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChwb3MpIHtcbiAgICAgICAgdGhpcy5wb3NpdGlvbigpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2Rpc2FibGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNhYmxlKCkge1xuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgIHJlbW92ZUNsYXNzKHRoaXMudGFyZ2V0LCB0aGlzLmdldENsYXNzKCdlbmFibGVkJykpO1xuICAgICAgcmVtb3ZlQ2xhc3ModGhpcy5lbGVtZW50LCB0aGlzLmdldENsYXNzKCdlbmFibGVkJykpO1xuICAgICAgdGhpcy5lbmFibGVkID0gZmFsc2U7XG5cbiAgICAgIGlmICh0eXBlb2YgdGhpcy5zY3JvbGxQYXJlbnRzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aGlzLnNjcm9sbFBhcmVudHMuZm9yRWFjaChmdW5jdGlvbiAocGFyZW50KSB7XG4gICAgICAgICAgcGFyZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIF90aGlzNC5wb3NpdGlvbik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2Rlc3Ryb3knLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICAgIHRoaXMuZGlzYWJsZSgpO1xuXG4gICAgICB0ZXRoZXJzLmZvckVhY2goZnVuY3Rpb24gKHRldGhlciwgaSkge1xuICAgICAgICBpZiAodGV0aGVyID09PSBfdGhpczUpIHtcbiAgICAgICAgICB0ZXRoZXJzLnNwbGljZShpLCAxKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIFJlbW92ZSBhbnkgZWxlbWVudHMgd2Ugd2VyZSB1c2luZyBmb3IgY29udmVuaWVuY2UgZnJvbSB0aGUgRE9NXG4gICAgICBpZiAodGV0aGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmVtb3ZlVXRpbEVsZW1lbnRzKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAndXBkYXRlQXR0YWNoQ2xhc3NlcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZUF0dGFjaENsYXNzZXMoZWxlbWVudEF0dGFjaCwgdGFyZ2V0QXR0YWNoKSB7XG4gICAgICB2YXIgX3RoaXM2ID0gdGhpcztcblxuICAgICAgZWxlbWVudEF0dGFjaCA9IGVsZW1lbnRBdHRhY2ggfHwgdGhpcy5hdHRhY2htZW50O1xuICAgICAgdGFyZ2V0QXR0YWNoID0gdGFyZ2V0QXR0YWNoIHx8IHRoaXMudGFyZ2V0QXR0YWNobWVudDtcbiAgICAgIHZhciBzaWRlcyA9IFsnbGVmdCcsICd0b3AnLCAnYm90dG9tJywgJ3JpZ2h0JywgJ21pZGRsZScsICdjZW50ZXInXTtcblxuICAgICAgaWYgKHR5cGVvZiB0aGlzLl9hZGRBdHRhY2hDbGFzc2VzICE9PSAndW5kZWZpbmVkJyAmJiB0aGlzLl9hZGRBdHRhY2hDbGFzc2VzLmxlbmd0aCkge1xuICAgICAgICAvLyB1cGRhdGVBdHRhY2hDbGFzc2VzIGNhbiBiZSBjYWxsZWQgbW9yZSB0aGFuIG9uY2UgaW4gYSBwb3NpdGlvbiBjYWxsLCBzb1xuICAgICAgICAvLyB3ZSBuZWVkIHRvIGNsZWFuIHVwIGFmdGVyIG91cnNlbHZlcyBzdWNoIHRoYXQgd2hlbiB0aGUgbGFzdCBkZWZlciBnZXRzXG4gICAgICAgIC8vIHJhbiBpdCBkb2Vzbid0IGFkZCBhbnkgZXh0cmEgY2xhc3NlcyBmcm9tIHByZXZpb3VzIGNhbGxzLlxuICAgICAgICB0aGlzLl9hZGRBdHRhY2hDbGFzc2VzLnNwbGljZSgwLCB0aGlzLl9hZGRBdHRhY2hDbGFzc2VzLmxlbmd0aCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgdGhpcy5fYWRkQXR0YWNoQ2xhc3NlcyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhpcy5fYWRkQXR0YWNoQ2xhc3NlcyA9IFtdO1xuICAgICAgfVxuICAgICAgdmFyIGFkZCA9IHRoaXMuX2FkZEF0dGFjaENsYXNzZXM7XG5cbiAgICAgIGlmIChlbGVtZW50QXR0YWNoLnRvcCkge1xuICAgICAgICBhZGQucHVzaCh0aGlzLmdldENsYXNzKCdlbGVtZW50LWF0dGFjaGVkJykgKyAnLScgKyBlbGVtZW50QXR0YWNoLnRvcCk7XG4gICAgICB9XG4gICAgICBpZiAoZWxlbWVudEF0dGFjaC5sZWZ0KSB7XG4gICAgICAgIGFkZC5wdXNoKHRoaXMuZ2V0Q2xhc3MoJ2VsZW1lbnQtYXR0YWNoZWQnKSArICctJyArIGVsZW1lbnRBdHRhY2gubGVmdCk7XG4gICAgICB9XG4gICAgICBpZiAodGFyZ2V0QXR0YWNoLnRvcCkge1xuICAgICAgICBhZGQucHVzaCh0aGlzLmdldENsYXNzKCd0YXJnZXQtYXR0YWNoZWQnKSArICctJyArIHRhcmdldEF0dGFjaC50b3ApO1xuICAgICAgfVxuICAgICAgaWYgKHRhcmdldEF0dGFjaC5sZWZ0KSB7XG4gICAgICAgIGFkZC5wdXNoKHRoaXMuZ2V0Q2xhc3MoJ3RhcmdldC1hdHRhY2hlZCcpICsgJy0nICsgdGFyZ2V0QXR0YWNoLmxlZnQpO1xuICAgICAgfVxuXG4gICAgICB2YXIgYWxsID0gW107XG4gICAgICBzaWRlcy5mb3JFYWNoKGZ1bmN0aW9uIChzaWRlKSB7XG4gICAgICAgIGFsbC5wdXNoKF90aGlzNi5nZXRDbGFzcygnZWxlbWVudC1hdHRhY2hlZCcpICsgJy0nICsgc2lkZSk7XG4gICAgICAgIGFsbC5wdXNoKF90aGlzNi5nZXRDbGFzcygndGFyZ2V0LWF0dGFjaGVkJykgKyAnLScgKyBzaWRlKTtcbiAgICAgIH0pO1xuXG4gICAgICBkZWZlcihmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghKHR5cGVvZiBfdGhpczYuX2FkZEF0dGFjaENsYXNzZXMgIT09ICd1bmRlZmluZWQnKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHVwZGF0ZUNsYXNzZXMoX3RoaXM2LmVsZW1lbnQsIF90aGlzNi5fYWRkQXR0YWNoQ2xhc3NlcywgYWxsKTtcbiAgICAgICAgaWYgKCEoX3RoaXM2Lm9wdGlvbnMuYWRkVGFyZ2V0Q2xhc3NlcyA9PT0gZmFsc2UpKSB7XG4gICAgICAgICAgdXBkYXRlQ2xhc3NlcyhfdGhpczYudGFyZ2V0LCBfdGhpczYuX2FkZEF0dGFjaENsYXNzZXMsIGFsbCk7XG4gICAgICAgIH1cblxuICAgICAgICBkZWxldGUgX3RoaXM2Ll9hZGRBdHRhY2hDbGFzc2VzO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncG9zaXRpb24nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwb3NpdGlvbigpIHtcbiAgICAgIHZhciBfdGhpczcgPSB0aGlzO1xuXG4gICAgICB2YXIgZmx1c2hDaGFuZ2VzID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGFyZ3VtZW50c1swXTtcblxuICAgICAgLy8gZmx1c2hDaGFuZ2VzIGNvbW1pdHMgdGhlIGNoYW5nZXMgaW1tZWRpYXRlbHksIGxlYXZlIHRydWUgdW5sZXNzIHlvdSBhcmUgcG9zaXRpb25pbmcgbXVsdGlwbGVcbiAgICAgIC8vIHRldGhlcnMgKGluIHdoaWNoIGNhc2UgY2FsbCBUZXRoZXIuVXRpbHMuZmx1c2ggeW91cnNlbGYgd2hlbiB5b3UncmUgZG9uZSlcblxuICAgICAgaWYgKCF0aGlzLmVuYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmNsZWFyQ2FjaGUoKTtcblxuICAgICAgLy8gVHVybiAnYXV0bycgYXR0YWNobWVudHMgaW50byB0aGUgYXBwcm9wcmlhdGUgY29ybmVyIG9yIGVkZ2VcbiAgICAgIHZhciB0YXJnZXRBdHRhY2htZW50ID0gYXV0b1RvRml4ZWRBdHRhY2htZW50KHRoaXMudGFyZ2V0QXR0YWNobWVudCwgdGhpcy5hdHRhY2htZW50KTtcblxuICAgICAgdGhpcy51cGRhdGVBdHRhY2hDbGFzc2VzKHRoaXMuYXR0YWNobWVudCwgdGFyZ2V0QXR0YWNobWVudCk7XG5cbiAgICAgIHZhciBlbGVtZW50UG9zID0gdGhpcy5jYWNoZSgnZWxlbWVudC1ib3VuZHMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBnZXRCb3VuZHMoX3RoaXM3LmVsZW1lbnQpO1xuICAgICAgfSk7XG5cbiAgICAgIHZhciB3aWR0aCA9IGVsZW1lbnRQb3Mud2lkdGg7XG4gICAgICB2YXIgaGVpZ2h0ID0gZWxlbWVudFBvcy5oZWlnaHQ7XG5cbiAgICAgIGlmICh3aWR0aCA9PT0gMCAmJiBoZWlnaHQgPT09IDAgJiYgdHlwZW9mIHRoaXMubGFzdFNpemUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHZhciBfbGFzdFNpemUgPSB0aGlzLmxhc3RTaXplO1xuXG4gICAgICAgIC8vIFdlIGNhY2hlIHRoZSBoZWlnaHQgYW5kIHdpZHRoIHRvIG1ha2UgaXQgcG9zc2libGUgdG8gcG9zaXRpb24gZWxlbWVudHMgdGhhdCBhcmVcbiAgICAgICAgLy8gZ2V0dGluZyBoaWRkZW4uXG4gICAgICAgIHdpZHRoID0gX2xhc3RTaXplLndpZHRoO1xuICAgICAgICBoZWlnaHQgPSBfbGFzdFNpemUuaGVpZ2h0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5sYXN0U2l6ZSA9IHsgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCB9O1xuICAgICAgfVxuXG4gICAgICB2YXIgdGFyZ2V0UG9zID0gdGhpcy5jYWNoZSgndGFyZ2V0LWJvdW5kcycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzNy5nZXRUYXJnZXRCb3VuZHMoKTtcbiAgICAgIH0pO1xuICAgICAgdmFyIHRhcmdldFNpemUgPSB0YXJnZXRQb3M7XG5cbiAgICAgIC8vIEdldCBhbiBhY3R1YWwgcHggb2Zmc2V0IGZyb20gdGhlIGF0dGFjaG1lbnRcbiAgICAgIHZhciBvZmZzZXQgPSBvZmZzZXRUb1B4KGF0dGFjaG1lbnRUb09mZnNldCh0aGlzLmF0dGFjaG1lbnQpLCB7IHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQgfSk7XG4gICAgICB2YXIgdGFyZ2V0T2Zmc2V0ID0gb2Zmc2V0VG9QeChhdHRhY2htZW50VG9PZmZzZXQodGFyZ2V0QXR0YWNobWVudCksIHRhcmdldFNpemUpO1xuXG4gICAgICB2YXIgbWFudWFsT2Zmc2V0ID0gb2Zmc2V0VG9QeCh0aGlzLm9mZnNldCwgeyB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0IH0pO1xuICAgICAgdmFyIG1hbnVhbFRhcmdldE9mZnNldCA9IG9mZnNldFRvUHgodGhpcy50YXJnZXRPZmZzZXQsIHRhcmdldFNpemUpO1xuXG4gICAgICAvLyBBZGQgdGhlIG1hbnVhbGx5IHByb3ZpZGVkIG9mZnNldFxuICAgICAgb2Zmc2V0ID0gYWRkT2Zmc2V0KG9mZnNldCwgbWFudWFsT2Zmc2V0KTtcbiAgICAgIHRhcmdldE9mZnNldCA9IGFkZE9mZnNldCh0YXJnZXRPZmZzZXQsIG1hbnVhbFRhcmdldE9mZnNldCk7XG5cbiAgICAgIC8vIEl0J3Mgbm93IG91ciBnb2FsIHRvIG1ha2UgKGVsZW1lbnQgcG9zaXRpb24gKyBvZmZzZXQpID09ICh0YXJnZXQgcG9zaXRpb24gKyB0YXJnZXQgb2Zmc2V0KVxuICAgICAgdmFyIGxlZnQgPSB0YXJnZXRQb3MubGVmdCArIHRhcmdldE9mZnNldC5sZWZ0IC0gb2Zmc2V0LmxlZnQ7XG4gICAgICB2YXIgdG9wID0gdGFyZ2V0UG9zLnRvcCArIHRhcmdldE9mZnNldC50b3AgLSBvZmZzZXQudG9wO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IFRldGhlckJhc2UubW9kdWxlcy5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgX21vZHVsZTIgPSBUZXRoZXJCYXNlLm1vZHVsZXNbaV07XG4gICAgICAgIHZhciByZXQgPSBfbW9kdWxlMi5wb3NpdGlvbi5jYWxsKHRoaXMsIHtcbiAgICAgICAgICBsZWZ0OiBsZWZ0LFxuICAgICAgICAgIHRvcDogdG9wLFxuICAgICAgICAgIHRhcmdldEF0dGFjaG1lbnQ6IHRhcmdldEF0dGFjaG1lbnQsXG4gICAgICAgICAgdGFyZ2V0UG9zOiB0YXJnZXRQb3MsXG4gICAgICAgICAgZWxlbWVudFBvczogZWxlbWVudFBvcyxcbiAgICAgICAgICBvZmZzZXQ6IG9mZnNldCxcbiAgICAgICAgICB0YXJnZXRPZmZzZXQ6IHRhcmdldE9mZnNldCxcbiAgICAgICAgICBtYW51YWxPZmZzZXQ6IG1hbnVhbE9mZnNldCxcbiAgICAgICAgICBtYW51YWxUYXJnZXRPZmZzZXQ6IG1hbnVhbFRhcmdldE9mZnNldCxcbiAgICAgICAgICBzY3JvbGxiYXJTaXplOiBzY3JvbGxiYXJTaXplLFxuICAgICAgICAgIGF0dGFjaG1lbnQ6IHRoaXMuYXR0YWNobWVudFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAocmV0ID09PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcmV0ID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgcmV0ICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRvcCA9IHJldC50b3A7XG4gICAgICAgICAgbGVmdCA9IHJldC5sZWZ0O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFdlIGRlc2NyaWJlIHRoZSBwb3NpdGlvbiB0aHJlZSBkaWZmZXJlbnQgd2F5cyB0byBnaXZlIHRoZSBvcHRpbWl6ZXJcbiAgICAgIC8vIGEgY2hhbmNlIHRvIGRlY2lkZSB0aGUgYmVzdCBwb3NzaWJsZSB3YXkgdG8gcG9zaXRpb24gdGhlIGVsZW1lbnRcbiAgICAgIC8vIHdpdGggdGhlIGZld2VzdCByZXBhaW50cy5cbiAgICAgIHZhciBuZXh0ID0ge1xuICAgICAgICAvLyBJdCdzIHBvc2l0aW9uIHJlbGF0aXZlIHRvIHRoZSBwYWdlIChhYnNvbHV0ZSBwb3NpdGlvbmluZyB3aGVuXG4gICAgICAgIC8vIHRoZSBlbGVtZW50IGlzIGEgY2hpbGQgb2YgdGhlIGJvZHkpXG4gICAgICAgIHBhZ2U6IHtcbiAgICAgICAgICB0b3A6IHRvcCxcbiAgICAgICAgICBsZWZ0OiBsZWZ0XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gSXQncyBwb3NpdGlvbiByZWxhdGl2ZSB0byB0aGUgdmlld3BvcnQgKGZpeGVkIHBvc2l0aW9uaW5nKVxuICAgICAgICB2aWV3cG9ydDoge1xuICAgICAgICAgIHRvcDogdG9wIC0gcGFnZVlPZmZzZXQsXG4gICAgICAgICAgYm90dG9tOiBwYWdlWU9mZnNldCAtIHRvcCAtIGhlaWdodCArIGlubmVySGVpZ2h0LFxuICAgICAgICAgIGxlZnQ6IGxlZnQgLSBwYWdlWE9mZnNldCxcbiAgICAgICAgICByaWdodDogcGFnZVhPZmZzZXQgLSBsZWZ0IC0gd2lkdGggKyBpbm5lcldpZHRoXG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHZhciBkb2MgPSB0aGlzLnRhcmdldC5vd25lckRvY3VtZW50O1xuICAgICAgdmFyIHdpbiA9IGRvYy5kZWZhdWx0VmlldztcblxuICAgICAgdmFyIHNjcm9sbGJhclNpemUgPSB1bmRlZmluZWQ7XG4gICAgICBpZiAod2luLmlubmVySGVpZ2h0ID4gZG9jLmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpIHtcbiAgICAgICAgc2Nyb2xsYmFyU2l6ZSA9IHRoaXMuY2FjaGUoJ3Njcm9sbGJhci1zaXplJywgZ2V0U2Nyb2xsQmFyU2l6ZSk7XG4gICAgICAgIG5leHQudmlld3BvcnQuYm90dG9tIC09IHNjcm9sbGJhclNpemUuaGVpZ2h0O1xuICAgICAgfVxuXG4gICAgICBpZiAod2luLmlubmVyV2lkdGggPiBkb2MuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKSB7XG4gICAgICAgIHNjcm9sbGJhclNpemUgPSB0aGlzLmNhY2hlKCdzY3JvbGxiYXItc2l6ZScsIGdldFNjcm9sbEJhclNpemUpO1xuICAgICAgICBuZXh0LnZpZXdwb3J0LnJpZ2h0IC09IHNjcm9sbGJhclNpemUud2lkdGg7XG4gICAgICB9XG5cbiAgICAgIGlmIChbJycsICdzdGF0aWMnXS5pbmRleE9mKGRvYy5ib2R5LnN0eWxlLnBvc2l0aW9uKSA9PT0gLTEgfHwgWycnLCAnc3RhdGljJ10uaW5kZXhPZihkb2MuYm9keS5wYXJlbnRFbGVtZW50LnN0eWxlLnBvc2l0aW9uKSA9PT0gLTEpIHtcbiAgICAgICAgLy8gQWJzb2x1dGUgcG9zaXRpb25pbmcgaW4gdGhlIGJvZHkgd2lsbCBiZSByZWxhdGl2ZSB0byB0aGUgcGFnZSwgbm90IHRoZSAnaW5pdGlhbCBjb250YWluaW5nIGJsb2NrJ1xuICAgICAgICBuZXh0LnBhZ2UuYm90dG9tID0gZG9jLmJvZHkuc2Nyb2xsSGVpZ2h0IC0gdG9wIC0gaGVpZ2h0O1xuICAgICAgICBuZXh0LnBhZ2UucmlnaHQgPSBkb2MuYm9keS5zY3JvbGxXaWR0aCAtIGxlZnQgLSB3aWR0aDtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub3B0aW1pemF0aW9ucyAhPT0gJ3VuZGVmaW5lZCcgJiYgdGhpcy5vcHRpb25zLm9wdGltaXphdGlvbnMubW92ZUVsZW1lbnQgIT09IGZhbHNlICYmICEodHlwZW9mIHRoaXMudGFyZ2V0TW9kaWZpZXIgIT09ICd1bmRlZmluZWQnKSkge1xuICAgICAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBvZmZzZXRQYXJlbnQgPSBfdGhpczcuY2FjaGUoJ3RhcmdldC1vZmZzZXRwYXJlbnQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0T2Zmc2V0UGFyZW50KF90aGlzNy50YXJnZXQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHZhciBvZmZzZXRQb3NpdGlvbiA9IF90aGlzNy5jYWNoZSgndGFyZ2V0LW9mZnNldHBhcmVudC1ib3VuZHMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0Qm91bmRzKG9mZnNldFBhcmVudCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdmFyIG9mZnNldFBhcmVudFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShvZmZzZXRQYXJlbnQpO1xuICAgICAgICAgIHZhciBvZmZzZXRQYXJlbnRTaXplID0gb2Zmc2V0UG9zaXRpb247XG5cbiAgICAgICAgICB2YXIgb2Zmc2V0Qm9yZGVyID0ge307XG4gICAgICAgICAgWydUb3AnLCAnTGVmdCcsICdCb3R0b20nLCAnUmlnaHQnXS5mb3JFYWNoKGZ1bmN0aW9uIChzaWRlKSB7XG4gICAgICAgICAgICBvZmZzZXRCb3JkZXJbc2lkZS50b0xvd2VyQ2FzZSgpXSA9IHBhcnNlRmxvYXQob2Zmc2V0UGFyZW50U3R5bGVbJ2JvcmRlcicgKyBzaWRlICsgJ1dpZHRoJ10pO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgb2Zmc2V0UG9zaXRpb24ucmlnaHQgPSBkb2MuYm9keS5zY3JvbGxXaWR0aCAtIG9mZnNldFBvc2l0aW9uLmxlZnQgLSBvZmZzZXRQYXJlbnRTaXplLndpZHRoICsgb2Zmc2V0Qm9yZGVyLnJpZ2h0O1xuICAgICAgICAgIG9mZnNldFBvc2l0aW9uLmJvdHRvbSA9IGRvYy5ib2R5LnNjcm9sbEhlaWdodCAtIG9mZnNldFBvc2l0aW9uLnRvcCAtIG9mZnNldFBhcmVudFNpemUuaGVpZ2h0ICsgb2Zmc2V0Qm9yZGVyLmJvdHRvbTtcblxuICAgICAgICAgIGlmIChuZXh0LnBhZ2UudG9wID49IG9mZnNldFBvc2l0aW9uLnRvcCArIG9mZnNldEJvcmRlci50b3AgJiYgbmV4dC5wYWdlLmJvdHRvbSA+PSBvZmZzZXRQb3NpdGlvbi5ib3R0b20pIHtcbiAgICAgICAgICAgIGlmIChuZXh0LnBhZ2UubGVmdCA+PSBvZmZzZXRQb3NpdGlvbi5sZWZ0ICsgb2Zmc2V0Qm9yZGVyLmxlZnQgJiYgbmV4dC5wYWdlLnJpZ2h0ID49IG9mZnNldFBvc2l0aW9uLnJpZ2h0KSB7XG4gICAgICAgICAgICAgIC8vIFdlJ3JlIHdpdGhpbiB0aGUgdmlzaWJsZSBwYXJ0IG9mIHRoZSB0YXJnZXQncyBzY3JvbGwgcGFyZW50XG4gICAgICAgICAgICAgIHZhciBzY3JvbGxUb3AgPSBvZmZzZXRQYXJlbnQuc2Nyb2xsVG9wO1xuICAgICAgICAgICAgICB2YXIgc2Nyb2xsTGVmdCA9IG9mZnNldFBhcmVudC5zY3JvbGxMZWZ0O1xuXG4gICAgICAgICAgICAgIC8vIEl0J3MgcG9zaXRpb24gcmVsYXRpdmUgdG8gdGhlIHRhcmdldCdzIG9mZnNldCBwYXJlbnQgKGFic29sdXRlIHBvc2l0aW9uaW5nIHdoZW5cbiAgICAgICAgICAgICAgLy8gdGhlIGVsZW1lbnQgaXMgbW92ZWQgdG8gYmUgYSBjaGlsZCBvZiB0aGUgdGFyZ2V0J3Mgb2Zmc2V0IHBhcmVudCkuXG4gICAgICAgICAgICAgIG5leHQub2Zmc2V0ID0ge1xuICAgICAgICAgICAgICAgIHRvcDogbmV4dC5wYWdlLnRvcCAtIG9mZnNldFBvc2l0aW9uLnRvcCArIHNjcm9sbFRvcCAtIG9mZnNldEJvcmRlci50b3AsXG4gICAgICAgICAgICAgICAgbGVmdDogbmV4dC5wYWdlLmxlZnQgLSBvZmZzZXRQb3NpdGlvbi5sZWZ0ICsgc2Nyb2xsTGVmdCAtIG9mZnNldEJvcmRlci5sZWZ0XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KSgpO1xuICAgICAgfVxuXG4gICAgICAvLyBXZSBjb3VsZCBhbHNvIHRyYXZlbCB1cCB0aGUgRE9NIGFuZCB0cnkgZWFjaCBjb250YWluaW5nIGNvbnRleHQsIHJhdGhlciB0aGFuIG9ubHlcbiAgICAgIC8vIGxvb2tpbmcgYXQgdGhlIGJvZHksIGJ1dCB3ZSdyZSBnb25uYSBnZXQgZGltaW5pc2hpbmcgcmV0dXJucy5cblxuICAgICAgdGhpcy5tb3ZlKG5leHQpO1xuXG4gICAgICB0aGlzLmhpc3RvcnkudW5zaGlmdChuZXh0KTtcblxuICAgICAgaWYgKHRoaXMuaGlzdG9yeS5sZW5ndGggPiAzKSB7XG4gICAgICAgIHRoaXMuaGlzdG9yeS5wb3AoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGZsdXNoQ2hhbmdlcykge1xuICAgICAgICBmbHVzaCgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBUSEUgSVNTVUVcbiAgfSwge1xuICAgIGtleTogJ21vdmUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtb3ZlKHBvcykge1xuICAgICAgdmFyIF90aGlzOCA9IHRoaXM7XG5cbiAgICAgIGlmICghKHR5cGVvZiB0aGlzLmVsZW1lbnQucGFyZW50Tm9kZSAhPT0gJ3VuZGVmaW5lZCcpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHNhbWUgPSB7fTtcblxuICAgICAgZm9yICh2YXIgdHlwZSBpbiBwb3MpIHtcbiAgICAgICAgc2FtZVt0eXBlXSA9IHt9O1xuXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBwb3NbdHlwZV0pIHtcbiAgICAgICAgICB2YXIgZm91bmQgPSBmYWxzZTtcblxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5oaXN0b3J5Lmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgcG9pbnQgPSB0aGlzLmhpc3RvcnlbaV07XG4gICAgICAgICAgICBpZiAodHlwZW9mIHBvaW50W3R5cGVdICE9PSAndW5kZWZpbmVkJyAmJiAhd2l0aGluKHBvaW50W3R5cGVdW2tleV0sIHBvc1t0eXBlXVtrZXldKSkge1xuICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghZm91bmQpIHtcbiAgICAgICAgICAgIHNhbWVbdHlwZV1ba2V5XSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBjc3MgPSB7IHRvcDogJycsIGxlZnQ6ICcnLCByaWdodDogJycsIGJvdHRvbTogJycgfTtcblxuICAgICAgdmFyIHRyYW5zY3JpYmUgPSBmdW5jdGlvbiB0cmFuc2NyaWJlKF9zYW1lLCBfcG9zKSB7XG4gICAgICAgIHZhciBoYXNPcHRpbWl6YXRpb25zID0gdHlwZW9mIF90aGlzOC5vcHRpb25zLm9wdGltaXphdGlvbnMgIT09ICd1bmRlZmluZWQnO1xuICAgICAgICB2YXIgZ3B1ID0gaGFzT3B0aW1pemF0aW9ucyA/IF90aGlzOC5vcHRpb25zLm9wdGltaXphdGlvbnMuZ3B1IDogbnVsbDtcbiAgICAgICAgaWYgKGdwdSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICB2YXIgeVBvcyA9IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgeFBvcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBpZiAoX3NhbWUudG9wKSB7XG4gICAgICAgICAgICBjc3MudG9wID0gMDtcbiAgICAgICAgICAgIHlQb3MgPSBfcG9zLnRvcDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY3NzLmJvdHRvbSA9IDA7XG4gICAgICAgICAgICB5UG9zID0gLV9wb3MuYm90dG9tO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChfc2FtZS5sZWZ0KSB7XG4gICAgICAgICAgICBjc3MubGVmdCA9IDA7XG4gICAgICAgICAgICB4UG9zID0gX3Bvcy5sZWZ0O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjc3MucmlnaHQgPSAwO1xuICAgICAgICAgICAgeFBvcyA9IC1fcG9zLnJpZ2h0O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh3aW5kb3cubWF0Y2hNZWRpYSkge1xuICAgICAgICAgICAgLy8gSHViU3BvdC90ZXRoZXIjMjA3XG4gICAgICAgICAgICB2YXIgcmV0aW5hID0gd2luZG93Lm1hdGNoTWVkaWEoJ29ubHkgc2NyZWVuIGFuZCAobWluLXJlc29sdXRpb246IDEuM2RwcHgpJykubWF0Y2hlcyB8fCB3aW5kb3cubWF0Y2hNZWRpYSgnb25seSBzY3JlZW4gYW5kICgtd2Via2l0LW1pbi1kZXZpY2UtcGl4ZWwtcmF0aW86IDEuMyknKS5tYXRjaGVzO1xuICAgICAgICAgICAgaWYgKCFyZXRpbmEpIHtcbiAgICAgICAgICAgICAgeFBvcyA9IE1hdGgucm91bmQoeFBvcyk7XG4gICAgICAgICAgICAgIHlQb3MgPSBNYXRoLnJvdW5kKHlQb3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNzc1t0cmFuc2Zvcm1LZXldID0gJ3RyYW5zbGF0ZVgoJyArIHhQb3MgKyAncHgpIHRyYW5zbGF0ZVkoJyArIHlQb3MgKyAncHgpJztcblxuICAgICAgICAgIGlmICh0cmFuc2Zvcm1LZXkgIT09ICdtc1RyYW5zZm9ybScpIHtcbiAgICAgICAgICAgIC8vIFRoZSBaIHRyYW5zZm9ybSB3aWxsIGtlZXAgdGhpcyBpbiB0aGUgR1BVIChmYXN0ZXIsIGFuZCBwcmV2ZW50cyBhcnRpZmFjdHMpLFxuICAgICAgICAgICAgLy8gYnV0IElFOSBkb2Vzbid0IHN1cHBvcnQgM2QgdHJhbnNmb3JtcyBhbmQgd2lsbCBjaG9rZS5cbiAgICAgICAgICAgIGNzc1t0cmFuc2Zvcm1LZXldICs9IFwiIHRyYW5zbGF0ZVooMClcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKF9zYW1lLnRvcCkge1xuICAgICAgICAgICAgY3NzLnRvcCA9IF9wb3MudG9wICsgJ3B4JztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY3NzLmJvdHRvbSA9IF9wb3MuYm90dG9tICsgJ3B4JztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoX3NhbWUubGVmdCkge1xuICAgICAgICAgICAgY3NzLmxlZnQgPSBfcG9zLmxlZnQgKyAncHgnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjc3MucmlnaHQgPSBfcG9zLnJpZ2h0ICsgJ3B4JztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHZhciBtb3ZlZCA9IGZhbHNlO1xuICAgICAgaWYgKChzYW1lLnBhZ2UudG9wIHx8IHNhbWUucGFnZS5ib3R0b20pICYmIChzYW1lLnBhZ2UubGVmdCB8fCBzYW1lLnBhZ2UucmlnaHQpKSB7XG4gICAgICAgIGNzcy5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIHRyYW5zY3JpYmUoc2FtZS5wYWdlLCBwb3MucGFnZSk7XG4gICAgICB9IGVsc2UgaWYgKChzYW1lLnZpZXdwb3J0LnRvcCB8fCBzYW1lLnZpZXdwb3J0LmJvdHRvbSkgJiYgKHNhbWUudmlld3BvcnQubGVmdCB8fCBzYW1lLnZpZXdwb3J0LnJpZ2h0KSkge1xuICAgICAgICBjc3MucG9zaXRpb24gPSAnZml4ZWQnO1xuICAgICAgICB0cmFuc2NyaWJlKHNhbWUudmlld3BvcnQsIHBvcy52aWV3cG9ydCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBzYW1lLm9mZnNldCAhPT0gJ3VuZGVmaW5lZCcgJiYgc2FtZS5vZmZzZXQudG9wICYmIHNhbWUub2Zmc2V0LmxlZnQpIHtcbiAgICAgICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjc3MucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICAgIHZhciBvZmZzZXRQYXJlbnQgPSBfdGhpczguY2FjaGUoJ3RhcmdldC1vZmZzZXRwYXJlbnQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0T2Zmc2V0UGFyZW50KF90aGlzOC50YXJnZXQpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYgKGdldE9mZnNldFBhcmVudChfdGhpczguZWxlbWVudCkgIT09IG9mZnNldFBhcmVudCkge1xuICAgICAgICAgICAgZGVmZXIoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBfdGhpczguZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKF90aGlzOC5lbGVtZW50KTtcbiAgICAgICAgICAgICAgb2Zmc2V0UGFyZW50LmFwcGVuZENoaWxkKF90aGlzOC5lbGVtZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRyYW5zY3JpYmUoc2FtZS5vZmZzZXQsIHBvcy5vZmZzZXQpO1xuICAgICAgICAgIG1vdmVkID0gdHJ1ZTtcbiAgICAgICAgfSkoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNzcy5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIHRyYW5zY3JpYmUoeyB0b3A6IHRydWUsIGxlZnQ6IHRydWUgfSwgcG9zLnBhZ2UpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIW1vdmVkKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYm9keUVsZW1lbnQpIHtcbiAgICAgICAgICB0aGlzLm9wdGlvbnMuYm9keUVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgb2Zmc2V0UGFyZW50SXNCb2R5ID0gdHJ1ZTtcbiAgICAgICAgICB2YXIgY3VycmVudE5vZGUgPSB0aGlzLmVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICAgICAgICB3aGlsZSAoY3VycmVudE5vZGUgJiYgY3VycmVudE5vZGUubm9kZVR5cGUgPT09IDEgJiYgY3VycmVudE5vZGUudGFnTmFtZSAhPT0gJ0JPRFknKSB7XG4gICAgICAgICAgICBpZiAoZ2V0Q29tcHV0ZWRTdHlsZShjdXJyZW50Tm9kZSkucG9zaXRpb24gIT09ICdzdGF0aWMnKSB7XG4gICAgICAgICAgICAgIG9mZnNldFBhcmVudElzQm9keSA9IGZhbHNlO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY3VycmVudE5vZGUgPSBjdXJyZW50Tm9kZS5wYXJlbnROb2RlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghb2Zmc2V0UGFyZW50SXNCb2R5KSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmVsZW1lbnQpO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50Lm93bmVyRG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBBbnkgY3NzIGNoYW5nZSB3aWxsIHRyaWdnZXIgYSByZXBhaW50LCBzbyBsZXQncyBhdm9pZCBvbmUgaWYgbm90aGluZyBjaGFuZ2VkXG4gICAgICB2YXIgd3JpdGVDU1MgPSB7fTtcbiAgICAgIHZhciB3cml0ZSA9IGZhbHNlO1xuICAgICAgZm9yICh2YXIga2V5IGluIGNzcykge1xuICAgICAgICB2YXIgdmFsID0gY3NzW2tleV07XG4gICAgICAgIHZhciBlbFZhbCA9IHRoaXMuZWxlbWVudC5zdHlsZVtrZXldO1xuXG4gICAgICAgIGlmIChlbFZhbCAhPT0gdmFsKSB7XG4gICAgICAgICAgd3JpdGUgPSB0cnVlO1xuICAgICAgICAgIHdyaXRlQ1NTW2tleV0gPSB2YWw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHdyaXRlKSB7XG4gICAgICAgIGRlZmVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBleHRlbmQoX3RoaXM4LmVsZW1lbnQuc3R5bGUsIHdyaXRlQ1NTKTtcbiAgICAgICAgICBfdGhpczgudHJpZ2dlcigncmVwb3NpdGlvbmVkJyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBUZXRoZXJDbGFzcztcbn0pKEV2ZW50ZWQpO1xuXG5UZXRoZXJDbGFzcy5tb2R1bGVzID0gW107XG5cblRldGhlckJhc2UucG9zaXRpb24gPSBwb3NpdGlvbjtcblxudmFyIFRldGhlciA9IGV4dGVuZChUZXRoZXJDbGFzcywgVGV0aGVyQmFzZSk7XG4vKiBnbG9iYWxzIFRldGhlckJhc2UgKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgX3NsaWNlZFRvQXJyYXkgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBzbGljZUl0ZXJhdG9yKGFyciwgaSkgeyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVsncmV0dXJuJ10pIF9pWydyZXR1cm4nXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH0gcmV0dXJuIGZ1bmN0aW9uIChhcnIsIGkpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyByZXR1cm4gYXJyOyB9IGVsc2UgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkgeyByZXR1cm4gc2xpY2VJdGVyYXRvcihhcnIsIGkpOyB9IGVsc2UgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlJyk7IH0gfTsgfSkoKTtcblxudmFyIF9UZXRoZXJCYXNlJFV0aWxzID0gVGV0aGVyQmFzZS5VdGlscztcbnZhciBnZXRCb3VuZHMgPSBfVGV0aGVyQmFzZSRVdGlscy5nZXRCb3VuZHM7XG52YXIgZXh0ZW5kID0gX1RldGhlckJhc2UkVXRpbHMuZXh0ZW5kO1xudmFyIHVwZGF0ZUNsYXNzZXMgPSBfVGV0aGVyQmFzZSRVdGlscy51cGRhdGVDbGFzc2VzO1xudmFyIGRlZmVyID0gX1RldGhlckJhc2UkVXRpbHMuZGVmZXI7XG5cbnZhciBCT1VORFNfRk9STUFUID0gWydsZWZ0JywgJ3RvcCcsICdyaWdodCcsICdib3R0b20nXTtcblxuZnVuY3Rpb24gZ2V0Qm91bmRpbmdSZWN0KHRldGhlciwgdG8pIHtcbiAgaWYgKHRvID09PSAnc2Nyb2xsUGFyZW50Jykge1xuICAgIHRvID0gdGV0aGVyLnNjcm9sbFBhcmVudHNbMF07XG4gIH0gZWxzZSBpZiAodG8gPT09ICd3aW5kb3cnKSB7XG4gICAgdG8gPSBbcGFnZVhPZmZzZXQsIHBhZ2VZT2Zmc2V0LCBpbm5lcldpZHRoICsgcGFnZVhPZmZzZXQsIGlubmVySGVpZ2h0ICsgcGFnZVlPZmZzZXRdO1xuICB9XG5cbiAgaWYgKHRvID09PSBkb2N1bWVudCkge1xuICAgIHRvID0gdG8uZG9jdW1lbnRFbGVtZW50O1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0by5ub2RlVHlwZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIG5vZGUgPSB0bztcbiAgICAgIHZhciBzaXplID0gZ2V0Qm91bmRzKHRvKTtcbiAgICAgIHZhciBwb3MgPSBzaXplO1xuICAgICAgdmFyIHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZSh0byk7XG5cbiAgICAgIHRvID0gW3Bvcy5sZWZ0LCBwb3MudG9wLCBzaXplLndpZHRoICsgcG9zLmxlZnQsIHNpemUuaGVpZ2h0ICsgcG9zLnRvcF07XG5cbiAgICAgIC8vIEFjY291bnQgYW55IHBhcmVudCBGcmFtZXMgc2Nyb2xsIG9mZnNldFxuICAgICAgaWYgKG5vZGUub3duZXJEb2N1bWVudCAhPT0gZG9jdW1lbnQpIHtcbiAgICAgICAgdmFyIHdpbiA9IG5vZGUub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldztcbiAgICAgICAgdG9bMF0gKz0gd2luLnBhZ2VYT2Zmc2V0O1xuICAgICAgICB0b1sxXSArPSB3aW4ucGFnZVlPZmZzZXQ7XG4gICAgICAgIHRvWzJdICs9IHdpbi5wYWdlWE9mZnNldDtcbiAgICAgICAgdG9bM10gKz0gd2luLnBhZ2VZT2Zmc2V0O1xuICAgICAgfVxuXG4gICAgICBCT1VORFNfRk9STUFULmZvckVhY2goZnVuY3Rpb24gKHNpZGUsIGkpIHtcbiAgICAgICAgc2lkZSA9IHNpZGVbMF0udG9VcHBlckNhc2UoKSArIHNpZGUuc3Vic3RyKDEpO1xuICAgICAgICBpZiAoc2lkZSA9PT0gJ1RvcCcgfHwgc2lkZSA9PT0gJ0xlZnQnKSB7XG4gICAgICAgICAgdG9baV0gKz0gcGFyc2VGbG9hdChzdHlsZVsnYm9yZGVyJyArIHNpZGUgKyAnV2lkdGgnXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdG9baV0gLT0gcGFyc2VGbG9hdChzdHlsZVsnYm9yZGVyJyArIHNpZGUgKyAnV2lkdGgnXSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pKCk7XG4gIH1cblxuICByZXR1cm4gdG87XG59XG5cblRldGhlckJhc2UubW9kdWxlcy5wdXNoKHtcbiAgcG9zaXRpb246IGZ1bmN0aW9uIHBvc2l0aW9uKF9yZWYpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIHRvcCA9IF9yZWYudG9wO1xuICAgIHZhciBsZWZ0ID0gX3JlZi5sZWZ0O1xuICAgIHZhciB0YXJnZXRBdHRhY2htZW50ID0gX3JlZi50YXJnZXRBdHRhY2htZW50O1xuXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuY29uc3RyYWludHMpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHZhciBfY2FjaGUgPSB0aGlzLmNhY2hlKCdlbGVtZW50LWJvdW5kcycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBnZXRCb3VuZHMoX3RoaXMuZWxlbWVudCk7XG4gICAgfSk7XG5cbiAgICB2YXIgaGVpZ2h0ID0gX2NhY2hlLmhlaWdodDtcbiAgICB2YXIgd2lkdGggPSBfY2FjaGUud2lkdGg7XG5cbiAgICBpZiAod2lkdGggPT09IDAgJiYgaGVpZ2h0ID09PSAwICYmIHR5cGVvZiB0aGlzLmxhc3RTaXplICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIF9sYXN0U2l6ZSA9IHRoaXMubGFzdFNpemU7XG5cbiAgICAgIC8vIEhhbmRsZSB0aGUgaXRlbSBnZXR0aW5nIGhpZGRlbiBhcyBhIHJlc3VsdCBvZiBvdXIgcG9zaXRpb25pbmcgd2l0aG91dCBnbGl0Y2hpbmdcbiAgICAgIC8vIHRoZSBjbGFzc2VzIGluIGFuZCBvdXRcbiAgICAgIHdpZHRoID0gX2xhc3RTaXplLndpZHRoO1xuICAgICAgaGVpZ2h0ID0gX2xhc3RTaXplLmhlaWdodDtcbiAgICB9XG5cbiAgICB2YXIgdGFyZ2V0U2l6ZSA9IHRoaXMuY2FjaGUoJ3RhcmdldC1ib3VuZHMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMuZ2V0VGFyZ2V0Qm91bmRzKCk7XG4gICAgfSk7XG5cbiAgICB2YXIgdGFyZ2V0SGVpZ2h0ID0gdGFyZ2V0U2l6ZS5oZWlnaHQ7XG4gICAgdmFyIHRhcmdldFdpZHRoID0gdGFyZ2V0U2l6ZS53aWR0aDtcblxuICAgIHZhciBhbGxDbGFzc2VzID0gW3RoaXMuZ2V0Q2xhc3MoJ3Bpbm5lZCcpLCB0aGlzLmdldENsYXNzKCdvdXQtb2YtYm91bmRzJyldO1xuXG4gICAgdGhpcy5vcHRpb25zLmNvbnN0cmFpbnRzLmZvckVhY2goZnVuY3Rpb24gKGNvbnN0cmFpbnQpIHtcbiAgICAgIHZhciBvdXRPZkJvdW5kc0NsYXNzID0gY29uc3RyYWludC5vdXRPZkJvdW5kc0NsYXNzO1xuICAgICAgdmFyIHBpbm5lZENsYXNzID0gY29uc3RyYWludC5waW5uZWRDbGFzcztcblxuICAgICAgaWYgKG91dE9mQm91bmRzQ2xhc3MpIHtcbiAgICAgICAgYWxsQ2xhc3Nlcy5wdXNoKG91dE9mQm91bmRzQ2xhc3MpO1xuICAgICAgfVxuICAgICAgaWYgKHBpbm5lZENsYXNzKSB7XG4gICAgICAgIGFsbENsYXNzZXMucHVzaChwaW5uZWRDbGFzcyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBhbGxDbGFzc2VzLmZvckVhY2goZnVuY3Rpb24gKGNscykge1xuICAgICAgWydsZWZ0JywgJ3RvcCcsICdyaWdodCcsICdib3R0b20nXS5mb3JFYWNoKGZ1bmN0aW9uIChzaWRlKSB7XG4gICAgICAgIGFsbENsYXNzZXMucHVzaChjbHMgKyAnLScgKyBzaWRlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgdmFyIGFkZENsYXNzZXMgPSBbXTtcblxuICAgIHZhciB0QXR0YWNobWVudCA9IGV4dGVuZCh7fSwgdGFyZ2V0QXR0YWNobWVudCk7XG4gICAgdmFyIGVBdHRhY2htZW50ID0gZXh0ZW5kKHt9LCB0aGlzLmF0dGFjaG1lbnQpO1xuXG4gICAgdGhpcy5vcHRpb25zLmNvbnN0cmFpbnRzLmZvckVhY2goZnVuY3Rpb24gKGNvbnN0cmFpbnQpIHtcbiAgICAgIHZhciB0byA9IGNvbnN0cmFpbnQudG87XG4gICAgICB2YXIgYXR0YWNobWVudCA9IGNvbnN0cmFpbnQuYXR0YWNobWVudDtcbiAgICAgIHZhciBwaW4gPSBjb25zdHJhaW50LnBpbjtcblxuICAgICAgaWYgKHR5cGVvZiBhdHRhY2htZW50ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBhdHRhY2htZW50ID0gJyc7XG4gICAgICB9XG5cbiAgICAgIHZhciBjaGFuZ2VBdHRhY2hYID0gdW5kZWZpbmVkLFxuICAgICAgICAgIGNoYW5nZUF0dGFjaFkgPSB1bmRlZmluZWQ7XG4gICAgICBpZiAoYXR0YWNobWVudC5pbmRleE9mKCcgJykgPj0gMCkge1xuICAgICAgICB2YXIgX2F0dGFjaG1lbnQkc3BsaXQgPSBhdHRhY2htZW50LnNwbGl0KCcgJyk7XG5cbiAgICAgICAgdmFyIF9hdHRhY2htZW50JHNwbGl0MiA9IF9zbGljZWRUb0FycmF5KF9hdHRhY2htZW50JHNwbGl0LCAyKTtcblxuICAgICAgICBjaGFuZ2VBdHRhY2hZID0gX2F0dGFjaG1lbnQkc3BsaXQyWzBdO1xuICAgICAgICBjaGFuZ2VBdHRhY2hYID0gX2F0dGFjaG1lbnQkc3BsaXQyWzFdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2hhbmdlQXR0YWNoWCA9IGNoYW5nZUF0dGFjaFkgPSBhdHRhY2htZW50O1xuICAgICAgfVxuXG4gICAgICB2YXIgYm91bmRzID0gZ2V0Qm91bmRpbmdSZWN0KF90aGlzLCB0byk7XG5cbiAgICAgIGlmIChjaGFuZ2VBdHRhY2hZID09PSAndGFyZ2V0JyB8fCBjaGFuZ2VBdHRhY2hZID09PSAnYm90aCcpIHtcbiAgICAgICAgaWYgKHRvcCA8IGJvdW5kc1sxXSAmJiB0QXR0YWNobWVudC50b3AgPT09ICd0b3AnKSB7XG4gICAgICAgICAgdG9wICs9IHRhcmdldEhlaWdodDtcbiAgICAgICAgICB0QXR0YWNobWVudC50b3AgPSAnYm90dG9tJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0b3AgKyBoZWlnaHQgPiBib3VuZHNbM10gJiYgdEF0dGFjaG1lbnQudG9wID09PSAnYm90dG9tJykge1xuICAgICAgICAgIHRvcCAtPSB0YXJnZXRIZWlnaHQ7XG4gICAgICAgICAgdEF0dGFjaG1lbnQudG9wID0gJ3RvcCc7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGNoYW5nZUF0dGFjaFkgPT09ICd0b2dldGhlcicpIHtcbiAgICAgICAgaWYgKHRBdHRhY2htZW50LnRvcCA9PT0gJ3RvcCcpIHtcbiAgICAgICAgICBpZiAoZUF0dGFjaG1lbnQudG9wID09PSAnYm90dG9tJyAmJiB0b3AgPCBib3VuZHNbMV0pIHtcbiAgICAgICAgICAgIHRvcCArPSB0YXJnZXRIZWlnaHQ7XG4gICAgICAgICAgICB0QXR0YWNobWVudC50b3AgPSAnYm90dG9tJztcblxuICAgICAgICAgICAgdG9wICs9IGhlaWdodDtcbiAgICAgICAgICAgIGVBdHRhY2htZW50LnRvcCA9ICd0b3AnO1xuICAgICAgICAgIH0gZWxzZSBpZiAoZUF0dGFjaG1lbnQudG9wID09PSAndG9wJyAmJiB0b3AgKyBoZWlnaHQgPiBib3VuZHNbM10gJiYgdG9wIC0gKGhlaWdodCAtIHRhcmdldEhlaWdodCkgPj0gYm91bmRzWzFdKSB7XG4gICAgICAgICAgICB0b3AgLT0gaGVpZ2h0IC0gdGFyZ2V0SGVpZ2h0O1xuICAgICAgICAgICAgdEF0dGFjaG1lbnQudG9wID0gJ2JvdHRvbSc7XG5cbiAgICAgICAgICAgIGVBdHRhY2htZW50LnRvcCA9ICdib3R0b20nO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0QXR0YWNobWVudC50b3AgPT09ICdib3R0b20nKSB7XG4gICAgICAgICAgaWYgKGVBdHRhY2htZW50LnRvcCA9PT0gJ3RvcCcgJiYgdG9wICsgaGVpZ2h0ID4gYm91bmRzWzNdKSB7XG4gICAgICAgICAgICB0b3AgLT0gdGFyZ2V0SGVpZ2h0O1xuICAgICAgICAgICAgdEF0dGFjaG1lbnQudG9wID0gJ3RvcCc7XG5cbiAgICAgICAgICAgIHRvcCAtPSBoZWlnaHQ7XG4gICAgICAgICAgICBlQXR0YWNobWVudC50b3AgPSAnYm90dG9tJztcbiAgICAgICAgICB9IGVsc2UgaWYgKGVBdHRhY2htZW50LnRvcCA9PT0gJ2JvdHRvbScgJiYgdG9wIDwgYm91bmRzWzFdICYmIHRvcCArIChoZWlnaHQgKiAyIC0gdGFyZ2V0SGVpZ2h0KSA8PSBib3VuZHNbM10pIHtcbiAgICAgICAgICAgIHRvcCArPSBoZWlnaHQgLSB0YXJnZXRIZWlnaHQ7XG4gICAgICAgICAgICB0QXR0YWNobWVudC50b3AgPSAndG9wJztcblxuICAgICAgICAgICAgZUF0dGFjaG1lbnQudG9wID0gJ3RvcCc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRBdHRhY2htZW50LnRvcCA9PT0gJ21pZGRsZScpIHtcbiAgICAgICAgICBpZiAodG9wICsgaGVpZ2h0ID4gYm91bmRzWzNdICYmIGVBdHRhY2htZW50LnRvcCA9PT0gJ3RvcCcpIHtcbiAgICAgICAgICAgIHRvcCAtPSBoZWlnaHQ7XG4gICAgICAgICAgICBlQXR0YWNobWVudC50b3AgPSAnYm90dG9tJztcbiAgICAgICAgICB9IGVsc2UgaWYgKHRvcCA8IGJvdW5kc1sxXSAmJiBlQXR0YWNobWVudC50b3AgPT09ICdib3R0b20nKSB7XG4gICAgICAgICAgICB0b3AgKz0gaGVpZ2h0O1xuICAgICAgICAgICAgZUF0dGFjaG1lbnQudG9wID0gJ3RvcCc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChjaGFuZ2VBdHRhY2hYID09PSAndGFyZ2V0JyB8fCBjaGFuZ2VBdHRhY2hYID09PSAnYm90aCcpIHtcbiAgICAgICAgaWYgKGxlZnQgPCBib3VuZHNbMF0gJiYgdEF0dGFjaG1lbnQubGVmdCA9PT0gJ2xlZnQnKSB7XG4gICAgICAgICAgbGVmdCArPSB0YXJnZXRXaWR0aDtcbiAgICAgICAgICB0QXR0YWNobWVudC5sZWZ0ID0gJ3JpZ2h0JztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsZWZ0ICsgd2lkdGggPiBib3VuZHNbMl0gJiYgdEF0dGFjaG1lbnQubGVmdCA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgIGxlZnQgLT0gdGFyZ2V0V2lkdGg7XG4gICAgICAgICAgdEF0dGFjaG1lbnQubGVmdCA9ICdsZWZ0JztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoY2hhbmdlQXR0YWNoWCA9PT0gJ3RvZ2V0aGVyJykge1xuICAgICAgICBpZiAobGVmdCA8IGJvdW5kc1swXSAmJiB0QXR0YWNobWVudC5sZWZ0ID09PSAnbGVmdCcpIHtcbiAgICAgICAgICBpZiAoZUF0dGFjaG1lbnQubGVmdCA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgbGVmdCArPSB0YXJnZXRXaWR0aDtcbiAgICAgICAgICAgIHRBdHRhY2htZW50LmxlZnQgPSAncmlnaHQnO1xuXG4gICAgICAgICAgICBsZWZ0ICs9IHdpZHRoO1xuICAgICAgICAgICAgZUF0dGFjaG1lbnQubGVmdCA9ICdsZWZ0JztcbiAgICAgICAgICB9IGVsc2UgaWYgKGVBdHRhY2htZW50LmxlZnQgPT09ICdsZWZ0Jykge1xuICAgICAgICAgICAgbGVmdCArPSB0YXJnZXRXaWR0aDtcbiAgICAgICAgICAgIHRBdHRhY2htZW50LmxlZnQgPSAncmlnaHQnO1xuXG4gICAgICAgICAgICBsZWZ0IC09IHdpZHRoO1xuICAgICAgICAgICAgZUF0dGFjaG1lbnQubGVmdCA9ICdyaWdodCc7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGxlZnQgKyB3aWR0aCA+IGJvdW5kc1syXSAmJiB0QXR0YWNobWVudC5sZWZ0ID09PSAncmlnaHQnKSB7XG4gICAgICAgICAgaWYgKGVBdHRhY2htZW50LmxlZnQgPT09ICdsZWZ0Jykge1xuICAgICAgICAgICAgbGVmdCAtPSB0YXJnZXRXaWR0aDtcbiAgICAgICAgICAgIHRBdHRhY2htZW50LmxlZnQgPSAnbGVmdCc7XG5cbiAgICAgICAgICAgIGxlZnQgLT0gd2lkdGg7XG4gICAgICAgICAgICBlQXR0YWNobWVudC5sZWZ0ID0gJ3JpZ2h0JztcbiAgICAgICAgICB9IGVsc2UgaWYgKGVBdHRhY2htZW50LmxlZnQgPT09ICdyaWdodCcpIHtcbiAgICAgICAgICAgIGxlZnQgLT0gdGFyZ2V0V2lkdGg7XG4gICAgICAgICAgICB0QXR0YWNobWVudC5sZWZ0ID0gJ2xlZnQnO1xuXG4gICAgICAgICAgICBsZWZ0ICs9IHdpZHRoO1xuICAgICAgICAgICAgZUF0dGFjaG1lbnQubGVmdCA9ICdsZWZ0JztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodEF0dGFjaG1lbnQubGVmdCA9PT0gJ2NlbnRlcicpIHtcbiAgICAgICAgICBpZiAobGVmdCArIHdpZHRoID4gYm91bmRzWzJdICYmIGVBdHRhY2htZW50LmxlZnQgPT09ICdsZWZ0Jykge1xuICAgICAgICAgICAgbGVmdCAtPSB3aWR0aDtcbiAgICAgICAgICAgIGVBdHRhY2htZW50LmxlZnQgPSAncmlnaHQnO1xuICAgICAgICAgIH0gZWxzZSBpZiAobGVmdCA8IGJvdW5kc1swXSAmJiBlQXR0YWNobWVudC5sZWZ0ID09PSAncmlnaHQnKSB7XG4gICAgICAgICAgICBsZWZ0ICs9IHdpZHRoO1xuICAgICAgICAgICAgZUF0dGFjaG1lbnQubGVmdCA9ICdsZWZ0JztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGNoYW5nZUF0dGFjaFkgPT09ICdlbGVtZW50JyB8fCBjaGFuZ2VBdHRhY2hZID09PSAnYm90aCcpIHtcbiAgICAgICAgaWYgKHRvcCA8IGJvdW5kc1sxXSAmJiBlQXR0YWNobWVudC50b3AgPT09ICdib3R0b20nKSB7XG4gICAgICAgICAgdG9wICs9IGhlaWdodDtcbiAgICAgICAgICBlQXR0YWNobWVudC50b3AgPSAndG9wJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0b3AgKyBoZWlnaHQgPiBib3VuZHNbM10gJiYgZUF0dGFjaG1lbnQudG9wID09PSAndG9wJykge1xuICAgICAgICAgIHRvcCAtPSBoZWlnaHQ7XG4gICAgICAgICAgZUF0dGFjaG1lbnQudG9wID0gJ2JvdHRvbSc7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGNoYW5nZUF0dGFjaFggPT09ICdlbGVtZW50JyB8fCBjaGFuZ2VBdHRhY2hYID09PSAnYm90aCcpIHtcbiAgICAgICAgaWYgKGxlZnQgPCBib3VuZHNbMF0pIHtcbiAgICAgICAgICBpZiAoZUF0dGFjaG1lbnQubGVmdCA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgbGVmdCArPSB3aWR0aDtcbiAgICAgICAgICAgIGVBdHRhY2htZW50LmxlZnQgPSAnbGVmdCc7XG4gICAgICAgICAgfSBlbHNlIGlmIChlQXR0YWNobWVudC5sZWZ0ID09PSAnY2VudGVyJykge1xuICAgICAgICAgICAgbGVmdCArPSB3aWR0aCAvIDI7XG4gICAgICAgICAgICBlQXR0YWNobWVudC5sZWZ0ID0gJ2xlZnQnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsZWZ0ICsgd2lkdGggPiBib3VuZHNbMl0pIHtcbiAgICAgICAgICBpZiAoZUF0dGFjaG1lbnQubGVmdCA9PT0gJ2xlZnQnKSB7XG4gICAgICAgICAgICBsZWZ0IC09IHdpZHRoO1xuICAgICAgICAgICAgZUF0dGFjaG1lbnQubGVmdCA9ICdyaWdodCc7XG4gICAgICAgICAgfSBlbHNlIGlmIChlQXR0YWNobWVudC5sZWZ0ID09PSAnY2VudGVyJykge1xuICAgICAgICAgICAgbGVmdCAtPSB3aWR0aCAvIDI7XG4gICAgICAgICAgICBlQXR0YWNobWVudC5sZWZ0ID0gJ3JpZ2h0JztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBwaW4gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHBpbiA9IHBpbi5zcGxpdCgnLCcpLm1hcChmdW5jdGlvbiAocCkge1xuICAgICAgICAgIHJldHVybiBwLnRyaW0oKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHBpbiA9PT0gdHJ1ZSkge1xuICAgICAgICBwaW4gPSBbJ3RvcCcsICdsZWZ0JywgJ3JpZ2h0JywgJ2JvdHRvbSddO1xuICAgICAgfVxuXG4gICAgICBwaW4gPSBwaW4gfHwgW107XG5cbiAgICAgIHZhciBwaW5uZWQgPSBbXTtcbiAgICAgIHZhciBvb2IgPSBbXTtcblxuICAgICAgaWYgKHRvcCA8IGJvdW5kc1sxXSkge1xuICAgICAgICBpZiAocGluLmluZGV4T2YoJ3RvcCcpID49IDApIHtcbiAgICAgICAgICB0b3AgPSBib3VuZHNbMV07XG4gICAgICAgICAgcGlubmVkLnB1c2goJ3RvcCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9vYi5wdXNoKCd0b3AnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAodG9wICsgaGVpZ2h0ID4gYm91bmRzWzNdKSB7XG4gICAgICAgIGlmIChwaW4uaW5kZXhPZignYm90dG9tJykgPj0gMCkge1xuICAgICAgICAgIHRvcCA9IGJvdW5kc1szXSAtIGhlaWdodDtcbiAgICAgICAgICBwaW5uZWQucHVzaCgnYm90dG9tJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb29iLnB1c2goJ2JvdHRvbScpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChsZWZ0IDwgYm91bmRzWzBdKSB7XG4gICAgICAgIGlmIChwaW4uaW5kZXhPZignbGVmdCcpID49IDApIHtcbiAgICAgICAgICBsZWZ0ID0gYm91bmRzWzBdO1xuICAgICAgICAgIHBpbm5lZC5wdXNoKCdsZWZ0Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb29iLnB1c2goJ2xlZnQnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAobGVmdCArIHdpZHRoID4gYm91bmRzWzJdKSB7XG4gICAgICAgIGlmIChwaW4uaW5kZXhPZigncmlnaHQnKSA+PSAwKSB7XG4gICAgICAgICAgbGVmdCA9IGJvdW5kc1syXSAtIHdpZHRoO1xuICAgICAgICAgIHBpbm5lZC5wdXNoKCdyaWdodCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9vYi5wdXNoKCdyaWdodCcpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChwaW5uZWQubGVuZ3RoKSB7XG4gICAgICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIHBpbm5lZENsYXNzID0gdW5kZWZpbmVkO1xuICAgICAgICAgIGlmICh0eXBlb2YgX3RoaXMub3B0aW9ucy5waW5uZWRDbGFzcyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHBpbm5lZENsYXNzID0gX3RoaXMub3B0aW9ucy5waW5uZWRDbGFzcztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGlubmVkQ2xhc3MgPSBfdGhpcy5nZXRDbGFzcygncGlubmVkJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYWRkQ2xhc3Nlcy5wdXNoKHBpbm5lZENsYXNzKTtcbiAgICAgICAgICBwaW5uZWQuZm9yRWFjaChmdW5jdGlvbiAoc2lkZSkge1xuICAgICAgICAgICAgYWRkQ2xhc3Nlcy5wdXNoKHBpbm5lZENsYXNzICsgJy0nICsgc2lkZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChvb2IubGVuZ3RoKSB7XG4gICAgICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIG9vYkNsYXNzID0gdW5kZWZpbmVkO1xuICAgICAgICAgIGlmICh0eXBlb2YgX3RoaXMub3B0aW9ucy5vdXRPZkJvdW5kc0NsYXNzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgb29iQ2xhc3MgPSBfdGhpcy5vcHRpb25zLm91dE9mQm91bmRzQ2xhc3M7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9vYkNsYXNzID0gX3RoaXMuZ2V0Q2xhc3MoJ291dC1vZi1ib3VuZHMnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBhZGRDbGFzc2VzLnB1c2gob29iQ2xhc3MpO1xuICAgICAgICAgIG9vYi5mb3JFYWNoKGZ1bmN0aW9uIChzaWRlKSB7XG4gICAgICAgICAgICBhZGRDbGFzc2VzLnB1c2gob29iQ2xhc3MgKyAnLScgKyBzaWRlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSkoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHBpbm5lZC5pbmRleE9mKCdsZWZ0JykgPj0gMCB8fCBwaW5uZWQuaW5kZXhPZigncmlnaHQnKSA+PSAwKSB7XG4gICAgICAgIGVBdHRhY2htZW50LmxlZnQgPSB0QXR0YWNobWVudC5sZWZ0ID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAocGlubmVkLmluZGV4T2YoJ3RvcCcpID49IDAgfHwgcGlubmVkLmluZGV4T2YoJ2JvdHRvbScpID49IDApIHtcbiAgICAgICAgZUF0dGFjaG1lbnQudG9wID0gdEF0dGFjaG1lbnQudG9wID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmICh0QXR0YWNobWVudC50b3AgIT09IHRhcmdldEF0dGFjaG1lbnQudG9wIHx8IHRBdHRhY2htZW50LmxlZnQgIT09IHRhcmdldEF0dGFjaG1lbnQubGVmdCB8fCBlQXR0YWNobWVudC50b3AgIT09IF90aGlzLmF0dGFjaG1lbnQudG9wIHx8IGVBdHRhY2htZW50LmxlZnQgIT09IF90aGlzLmF0dGFjaG1lbnQubGVmdCkge1xuICAgICAgICBfdGhpcy51cGRhdGVBdHRhY2hDbGFzc2VzKGVBdHRhY2htZW50LCB0QXR0YWNobWVudCk7XG4gICAgICAgIF90aGlzLnRyaWdnZXIoJ3VwZGF0ZScsIHtcbiAgICAgICAgICBhdHRhY2htZW50OiBlQXR0YWNobWVudCxcbiAgICAgICAgICB0YXJnZXRBdHRhY2htZW50OiB0QXR0YWNobWVudFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGRlZmVyKGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghKF90aGlzLm9wdGlvbnMuYWRkVGFyZ2V0Q2xhc3NlcyA9PT0gZmFsc2UpKSB7XG4gICAgICAgIHVwZGF0ZUNsYXNzZXMoX3RoaXMudGFyZ2V0LCBhZGRDbGFzc2VzLCBhbGxDbGFzc2VzKTtcbiAgICAgIH1cbiAgICAgIHVwZGF0ZUNsYXNzZXMoX3RoaXMuZWxlbWVudCwgYWRkQ2xhc3NlcywgYWxsQ2xhc3Nlcyk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4geyB0b3A6IHRvcCwgbGVmdDogbGVmdCB9O1xuICB9XG59KTtcbi8qIGdsb2JhbHMgVGV0aGVyQmFzZSAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBfVGV0aGVyQmFzZSRVdGlscyA9IFRldGhlckJhc2UuVXRpbHM7XG52YXIgZ2V0Qm91bmRzID0gX1RldGhlckJhc2UkVXRpbHMuZ2V0Qm91bmRzO1xudmFyIHVwZGF0ZUNsYXNzZXMgPSBfVGV0aGVyQmFzZSRVdGlscy51cGRhdGVDbGFzc2VzO1xudmFyIGRlZmVyID0gX1RldGhlckJhc2UkVXRpbHMuZGVmZXI7XG5cblRldGhlckJhc2UubW9kdWxlcy5wdXNoKHtcbiAgcG9zaXRpb246IGZ1bmN0aW9uIHBvc2l0aW9uKF9yZWYpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIHRvcCA9IF9yZWYudG9wO1xuICAgIHZhciBsZWZ0ID0gX3JlZi5sZWZ0O1xuXG4gICAgdmFyIF9jYWNoZSA9IHRoaXMuY2FjaGUoJ2VsZW1lbnQtYm91bmRzJywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGdldEJvdW5kcyhfdGhpcy5lbGVtZW50KTtcbiAgICB9KTtcblxuICAgIHZhciBoZWlnaHQgPSBfY2FjaGUuaGVpZ2h0O1xuICAgIHZhciB3aWR0aCA9IF9jYWNoZS53aWR0aDtcblxuICAgIHZhciB0YXJnZXRQb3MgPSB0aGlzLmdldFRhcmdldEJvdW5kcygpO1xuXG4gICAgdmFyIGJvdHRvbSA9IHRvcCArIGhlaWdodDtcbiAgICB2YXIgcmlnaHQgPSBsZWZ0ICsgd2lkdGg7XG5cbiAgICB2YXIgYWJ1dHRlZCA9IFtdO1xuICAgIGlmICh0b3AgPD0gdGFyZ2V0UG9zLmJvdHRvbSAmJiBib3R0b20gPj0gdGFyZ2V0UG9zLnRvcCkge1xuICAgICAgWydsZWZ0JywgJ3JpZ2h0J10uZm9yRWFjaChmdW5jdGlvbiAoc2lkZSkge1xuICAgICAgICB2YXIgdGFyZ2V0UG9zU2lkZSA9IHRhcmdldFBvc1tzaWRlXTtcbiAgICAgICAgaWYgKHRhcmdldFBvc1NpZGUgPT09IGxlZnQgfHwgdGFyZ2V0UG9zU2lkZSA9PT0gcmlnaHQpIHtcbiAgICAgICAgICBhYnV0dGVkLnB1c2goc2lkZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChsZWZ0IDw9IHRhcmdldFBvcy5yaWdodCAmJiByaWdodCA+PSB0YXJnZXRQb3MubGVmdCkge1xuICAgICAgWyd0b3AnLCAnYm90dG9tJ10uZm9yRWFjaChmdW5jdGlvbiAoc2lkZSkge1xuICAgICAgICB2YXIgdGFyZ2V0UG9zU2lkZSA9IHRhcmdldFBvc1tzaWRlXTtcbiAgICAgICAgaWYgKHRhcmdldFBvc1NpZGUgPT09IHRvcCB8fCB0YXJnZXRQb3NTaWRlID09PSBib3R0b20pIHtcbiAgICAgICAgICBhYnV0dGVkLnB1c2goc2lkZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhciBhbGxDbGFzc2VzID0gW107XG4gICAgdmFyIGFkZENsYXNzZXMgPSBbXTtcblxuICAgIHZhciBzaWRlcyA9IFsnbGVmdCcsICd0b3AnLCAncmlnaHQnLCAnYm90dG9tJ107XG4gICAgYWxsQ2xhc3Nlcy5wdXNoKHRoaXMuZ2V0Q2xhc3MoJ2FidXR0ZWQnKSk7XG4gICAgc2lkZXMuZm9yRWFjaChmdW5jdGlvbiAoc2lkZSkge1xuICAgICAgYWxsQ2xhc3Nlcy5wdXNoKF90aGlzLmdldENsYXNzKCdhYnV0dGVkJykgKyAnLScgKyBzaWRlKTtcbiAgICB9KTtcblxuICAgIGlmIChhYnV0dGVkLmxlbmd0aCkge1xuICAgICAgYWRkQ2xhc3Nlcy5wdXNoKHRoaXMuZ2V0Q2xhc3MoJ2FidXR0ZWQnKSk7XG4gICAgfVxuXG4gICAgYWJ1dHRlZC5mb3JFYWNoKGZ1bmN0aW9uIChzaWRlKSB7XG4gICAgICBhZGRDbGFzc2VzLnB1c2goX3RoaXMuZ2V0Q2xhc3MoJ2FidXR0ZWQnKSArICctJyArIHNpZGUpO1xuICAgIH0pO1xuXG4gICAgZGVmZXIoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCEoX3RoaXMub3B0aW9ucy5hZGRUYXJnZXRDbGFzc2VzID09PSBmYWxzZSkpIHtcbiAgICAgICAgdXBkYXRlQ2xhc3NlcyhfdGhpcy50YXJnZXQsIGFkZENsYXNzZXMsIGFsbENsYXNzZXMpO1xuICAgICAgfVxuICAgICAgdXBkYXRlQ2xhc3NlcyhfdGhpcy5lbGVtZW50LCBhZGRDbGFzc2VzLCBhbGxDbGFzc2VzKTtcbiAgICB9KTtcblxuICAgIHJldHVybiB0cnVlO1xuICB9XG59KTtcbi8qIGdsb2JhbHMgVGV0aGVyQmFzZSAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBfc2xpY2VkVG9BcnJheSA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIHNsaWNlSXRlcmF0b3IoYXJyLCBpKSB7IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX2UgPSB1bmRlZmluZWQ7IHRyeSB7IGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pWydyZXR1cm4nXSkgX2lbJ3JldHVybiddKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfSByZXR1cm4gZnVuY3Rpb24gKGFyciwgaSkgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IHJldHVybiBhcnI7IH0gZWxzZSBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSB7IHJldHVybiBzbGljZUl0ZXJhdG9yKGFyciwgaSk7IH0gZWxzZSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UnKTsgfSB9OyB9KSgpO1xuXG5UZXRoZXJCYXNlLm1vZHVsZXMucHVzaCh7XG4gIHBvc2l0aW9uOiBmdW5jdGlvbiBwb3NpdGlvbihfcmVmKSB7XG4gICAgdmFyIHRvcCA9IF9yZWYudG9wO1xuICAgIHZhciBsZWZ0ID0gX3JlZi5sZWZ0O1xuXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuc2hpZnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgc2hpZnQgPSB0aGlzLm9wdGlvbnMuc2hpZnQ7XG4gICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMuc2hpZnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHNoaWZ0ID0gdGhpcy5vcHRpb25zLnNoaWZ0LmNhbGwodGhpcywgeyB0b3A6IHRvcCwgbGVmdDogbGVmdCB9KTtcbiAgICB9XG5cbiAgICB2YXIgc2hpZnRUb3AgPSB1bmRlZmluZWQsXG4gICAgICAgIHNoaWZ0TGVmdCA9IHVuZGVmaW5lZDtcbiAgICBpZiAodHlwZW9mIHNoaWZ0ID09PSAnc3RyaW5nJykge1xuICAgICAgc2hpZnQgPSBzaGlmdC5zcGxpdCgnICcpO1xuICAgICAgc2hpZnRbMV0gPSBzaGlmdFsxXSB8fCBzaGlmdFswXTtcblxuICAgICAgdmFyIF9zaGlmdCA9IHNoaWZ0O1xuXG4gICAgICB2YXIgX3NoaWZ0MiA9IF9zbGljZWRUb0FycmF5KF9zaGlmdCwgMik7XG5cbiAgICAgIHNoaWZ0VG9wID0gX3NoaWZ0MlswXTtcbiAgICAgIHNoaWZ0TGVmdCA9IF9zaGlmdDJbMV07XG5cbiAgICAgIHNoaWZ0VG9wID0gcGFyc2VGbG9hdChzaGlmdFRvcCwgMTApO1xuICAgICAgc2hpZnRMZWZ0ID0gcGFyc2VGbG9hdChzaGlmdExlZnQsIDEwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2hpZnRUb3AgPSBzaGlmdC50b3A7XG4gICAgICBzaGlmdExlZnQgPSBzaGlmdC5sZWZ0O1xuICAgIH1cblxuICAgIHRvcCArPSBzaGlmdFRvcDtcbiAgICBsZWZ0ICs9IHNoaWZ0TGVmdDtcblxuICAgIHJldHVybiB7IHRvcDogdG9wLCBsZWZ0OiBsZWZ0IH07XG4gIH1cbn0pO1xucmV0dXJuIFRldGhlcjtcblxufSkpO1xuIiwiLyoqXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQm9vdHN0cmFwICh2NC4wLjAtYWxwaGEuNik6IHV0aWwuanNcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5cbnZhciBVdGlsID0gZnVuY3Rpb24gKCQpIHtcblxuICAvKipcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqIFByaXZhdGUgVHJhbnNpdGlvbkVuZCBIZWxwZXJzXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKi9cblxuICB2YXIgdHJhbnNpdGlvbiA9IGZhbHNlO1xuXG4gIHZhciBNQVhfVUlEID0gMTAwMDAwMDtcblxuICB2YXIgVHJhbnNpdGlvbkVuZEV2ZW50ID0ge1xuICAgIFdlYmtpdFRyYW5zaXRpb246ICd3ZWJraXRUcmFuc2l0aW9uRW5kJyxcbiAgICBNb3pUcmFuc2l0aW9uOiAndHJhbnNpdGlvbmVuZCcsXG4gICAgT1RyYW5zaXRpb246ICdvVHJhbnNpdGlvbkVuZCBvdHJhbnNpdGlvbmVuZCcsXG4gICAgdHJhbnNpdGlvbjogJ3RyYW5zaXRpb25lbmQnXG4gIH07XG5cbiAgLy8gc2hvdXRvdXQgQW5ndXNDcm9sbCAoaHR0cHM6Ly9nb28uZ2wvcHh3UUdwKVxuICBmdW5jdGlvbiB0b1R5cGUob2JqKSB7XG4gICAgcmV0dXJuIHt9LnRvU3RyaW5nLmNhbGwob2JqKS5tYXRjaCgvXFxzKFthLXpBLVpdKykvKVsxXS50b0xvd2VyQ2FzZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNFbGVtZW50KG9iaikge1xuICAgIHJldHVybiAob2JqWzBdIHx8IG9iaikubm9kZVR5cGU7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRTcGVjaWFsVHJhbnNpdGlvbkVuZEV2ZW50KCkge1xuICAgIHJldHVybiB7XG4gICAgICBiaW5kVHlwZTogdHJhbnNpdGlvbi5lbmQsXG4gICAgICBkZWxlZ2F0ZVR5cGU6IHRyYW5zaXRpb24uZW5kLFxuICAgICAgaGFuZGxlOiBmdW5jdGlvbiBoYW5kbGUoZXZlbnQpIHtcbiAgICAgICAgaWYgKCQoZXZlbnQudGFyZ2V0KS5pcyh0aGlzKSkge1xuICAgICAgICAgIHJldHVybiBldmVudC5oYW5kbGVPYmouaGFuZGxlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHByZWZlci1yZXN0LXBhcmFtc1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRyYW5zaXRpb25FbmRUZXN0KCkge1xuICAgIGlmICh3aW5kb3cuUVVuaXQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdib290c3RyYXAnKTtcblxuICAgIGZvciAodmFyIG5hbWUgaW4gVHJhbnNpdGlvbkVuZEV2ZW50KSB7XG4gICAgICBpZiAoZWwuc3R5bGVbbmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGVuZDogVHJhbnNpdGlvbkVuZEV2ZW50W25hbWVdXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gdHJhbnNpdGlvbkVuZEVtdWxhdG9yKGR1cmF0aW9uKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBjYWxsZWQgPSBmYWxzZTtcblxuICAgICQodGhpcykub25lKFV0aWwuVFJBTlNJVElPTl9FTkQsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNhbGxlZCA9IHRydWU7XG4gICAgfSk7XG5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghY2FsbGVkKSB7XG4gICAgICAgIFV0aWwudHJpZ2dlclRyYW5zaXRpb25FbmQoX3RoaXMpO1xuICAgICAgfVxuICAgIH0sIGR1cmF0aW9uKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0VHJhbnNpdGlvbkVuZFN1cHBvcnQoKSB7XG4gICAgdHJhbnNpdGlvbiA9IHRyYW5zaXRpb25FbmRUZXN0KCk7XG5cbiAgICAkLmZuLmVtdWxhdGVUcmFuc2l0aW9uRW5kID0gdHJhbnNpdGlvbkVuZEVtdWxhdG9yO1xuXG4gICAgaWYgKFV0aWwuc3VwcG9ydHNUcmFuc2l0aW9uRW5kKCkpIHtcbiAgICAgICQuZXZlbnQuc3BlY2lhbFtVdGlsLlRSQU5TSVRJT05fRU5EXSA9IGdldFNwZWNpYWxUcmFuc2l0aW9uRW5kRXZlbnQoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogUHVibGljIFV0aWwgQXBpXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG4gIHZhciBVdGlsID0ge1xuXG4gICAgVFJBTlNJVElPTl9FTkQ6ICdic1RyYW5zaXRpb25FbmQnLFxuXG4gICAgZ2V0VUlEOiBmdW5jdGlvbiBnZXRVSUQocHJlZml4KSB7XG4gICAgICBkbyB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1iaXR3aXNlXG4gICAgICAgIHByZWZpeCArPSB+fihNYXRoLnJhbmRvbSgpICogTUFYX1VJRCk7IC8vIFwifn5cIiBhY3RzIGxpa2UgYSBmYXN0ZXIgTWF0aC5mbG9vcigpIGhlcmVcbiAgICAgIH0gd2hpbGUgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHByZWZpeCkpO1xuICAgICAgcmV0dXJuIHByZWZpeDtcbiAgICB9LFxuICAgIGdldFNlbGVjdG9yRnJvbUVsZW1lbnQ6IGZ1bmN0aW9uIGdldFNlbGVjdG9yRnJvbUVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgdmFyIHNlbGVjdG9yID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGFyZ2V0Jyk7XG5cbiAgICAgIGlmICghc2VsZWN0b3IpIHtcbiAgICAgICAgc2VsZWN0b3IgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnaHJlZicpIHx8ICcnO1xuICAgICAgICBzZWxlY3RvciA9IC9eI1thLXpdL2kudGVzdChzZWxlY3RvcikgPyBzZWxlY3RvciA6IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxlY3RvcjtcbiAgICB9LFxuICAgIHJlZmxvdzogZnVuY3Rpb24gcmVmbG93KGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiBlbGVtZW50Lm9mZnNldEhlaWdodDtcbiAgICB9LFxuICAgIHRyaWdnZXJUcmFuc2l0aW9uRW5kOiBmdW5jdGlvbiB0cmlnZ2VyVHJhbnNpdGlvbkVuZChlbGVtZW50KSB7XG4gICAgICAkKGVsZW1lbnQpLnRyaWdnZXIodHJhbnNpdGlvbi5lbmQpO1xuICAgIH0sXG4gICAgc3VwcG9ydHNUcmFuc2l0aW9uRW5kOiBmdW5jdGlvbiBzdXBwb3J0c1RyYW5zaXRpb25FbmQoKSB7XG4gICAgICByZXR1cm4gQm9vbGVhbih0cmFuc2l0aW9uKTtcbiAgICB9LFxuICAgIHR5cGVDaGVja0NvbmZpZzogZnVuY3Rpb24gdHlwZUNoZWNrQ29uZmlnKGNvbXBvbmVudE5hbWUsIGNvbmZpZywgY29uZmlnVHlwZXMpIHtcbiAgICAgIGZvciAodmFyIHByb3BlcnR5IGluIGNvbmZpZ1R5cGVzKSB7XG4gICAgICAgIGlmIChjb25maWdUeXBlcy5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkpIHtcbiAgICAgICAgICB2YXIgZXhwZWN0ZWRUeXBlcyA9IGNvbmZpZ1R5cGVzW3Byb3BlcnR5XTtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBjb25maWdbcHJvcGVydHldO1xuICAgICAgICAgIHZhciB2YWx1ZVR5cGUgPSB2YWx1ZSAmJiBpc0VsZW1lbnQodmFsdWUpID8gJ2VsZW1lbnQnIDogdG9UeXBlKHZhbHVlKTtcblxuICAgICAgICAgIGlmICghbmV3IFJlZ0V4cChleHBlY3RlZFR5cGVzKS50ZXN0KHZhbHVlVHlwZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihjb21wb25lbnROYW1lLnRvVXBwZXJDYXNlKCkgKyAnOiAnICsgKCdPcHRpb24gXCInICsgcHJvcGVydHkgKyAnXCIgcHJvdmlkZWQgdHlwZSBcIicgKyB2YWx1ZVR5cGUgKyAnXCIgJykgKyAoJ2J1dCBleHBlY3RlZCB0eXBlIFwiJyArIGV4cGVjdGVkVHlwZXMgKyAnXCIuJykpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBzZXRUcmFuc2l0aW9uRW5kU3VwcG9ydCgpO1xuXG4gIHJldHVybiBVdGlsO1xufShqUXVlcnkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbC5qcy5tYXBcbiJdfQ==
