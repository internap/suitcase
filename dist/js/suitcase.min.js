function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}!function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e(require,exports,module):t.Tether=e()}(this,function(t,e,i){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t){var e=t.getBoundingClientRect(),i={};for(var o in e)i[o]=e[o];if(t.ownerDocument!==document){var r=t.ownerDocument.defaultView.frameElement;if(r){var s=n(r);i.top+=s.top,i.bottom+=s.top,i.left+=s.left,i.right+=s.left}}return i}function r(t){var e=getComputedStyle(t)||{},i=e.position,o=[];if("fixed"===i)return[t];for(var n=t;(n=n.parentNode)&&n&&1===n.nodeType;){var r=void 0;try{r=getComputedStyle(n)}catch(t){}if(void 0===r||null===r)return o.push(n),o;var s=r,a=s.overflow,l=s.overflowX;/(auto|scroll)/.test(a+s.overflowY+l)&&("absolute"!==i||["relative","absolute","fixed"].indexOf(r.position)>=0)&&o.push(n)}return o.push(t.ownerDocument.body),t.ownerDocument!==document&&o.push(t.ownerDocument.defaultView),o}function s(){O&&document.body.removeChild(O),O=null}function a(t){var e=void 0;t===document?(e=document,t=document.documentElement):e=t.ownerDocument;var i=e.documentElement,o=n(t),r=A();return o.top-=r.top,o.left-=r.left,void 0===o.width&&(o.width=document.body.scrollWidth-o.left-o.right),void 0===o.height&&(o.height=document.body.scrollHeight-o.top-o.bottom),o.top=o.top-i.clientTop,o.left=o.left-i.clientLeft,o.right=e.body.clientWidth-o.width-o.left,o.bottom=e.body.clientHeight-o.height-o.top,o}function l(t){return t.offsetParent||document.documentElement}function h(){if(D)return D;var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");f(e.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),e.appendChild(t),document.body.appendChild(e);var i=t.offsetWidth;e.style.overflow="scroll";var o=t.offsetWidth;i===o&&(o=e.clientWidth),document.body.removeChild(e);var n=i-o;return D={width:n,height:n}}function f(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=[];return Array.prototype.push.apply(e,arguments),e.slice(1).forEach(function(e){if(e)for(var i in e)({}).hasOwnProperty.call(e,i)&&(t[i]=e[i])}),t}function c(t,e){if(void 0!==t.classList)e.split(" ").forEach(function(e){e.trim()&&t.classList.remove(e)});else{var i=new RegExp("(^| )"+e.split(" ").join("|")+"( |$)","gi"),o=p(t).replace(i," ");g(t,o)}}function d(t,e){if(void 0!==t.classList)e.split(" ").forEach(function(e){e.trim()&&t.classList.add(e)});else{c(t,e);var i=p(t)+" "+e;g(t,i)}}function u(t,e){if(void 0!==t.classList)return t.classList.contains(e);var i=p(t);return new RegExp("(^| )"+e+"( |$)","gi").test(i)}function p(t){return t.className instanceof t.ownerDocument.defaultView.SVGAnimatedString?t.className.baseVal:t.className}function g(t,e){t.setAttribute("class",e)}function m(t,e,i){i.forEach(function(i){-1===e.indexOf(i)&&u(t,i)&&c(t,i)}),e.forEach(function(e){u(t,e)||d(t,e)})}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function b(t,e){var i=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return t+i>=e&&e>=t-i}function y(){return"undefined"!=typeof performance&&void 0!==performance.now?performance.now():+new Date}function _(){for(var t={top:0,left:0},e=arguments.length,i=Array(e),o=0;o<e;o++)i[o]=arguments[o];return i.forEach(function(e){var i=e.top,o=e.left;"string"==typeof i&&(i=parseFloat(i,10)),"string"==typeof o&&(o=parseFloat(o,10)),t.top+=i,t.left+=o}),t}function E(t,e){return"string"==typeof t.left&&-1!==t.left.indexOf("%")&&(t.left=parseFloat(t.left,10)/100*e.width),"string"==typeof t.top&&-1!==t.top.indexOf("%")&&(t.top=parseFloat(t.top,10)/100*e.height),t}function w(t,e){return"scrollParent"===e?e=t.scrollParents[0]:"window"===e&&(e=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),e===document&&(e=e.documentElement),void 0!==e.nodeType&&function(){var t=e,i=a(e),o=i,n=getComputedStyle(e);if(e=[o.left,o.top,i.width+o.left,i.height+o.top],t.ownerDocument!==document){var r=t.ownerDocument.defaultView;e[0]+=r.pageXOffset,e[1]+=r.pageYOffset,e[2]+=r.pageXOffset,e[3]+=r.pageYOffset}G.forEach(function(t,i){t=t[0].toUpperCase()+t.substr(1),"Top"===t||"Left"===t?e[i]+=parseFloat(n["border"+t+"Width"]):e[i]-=parseFloat(n["border"+t+"Width"])})}(),e}var C=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),T=void 0;void 0===T&&(T={modules:[]});var O=null,S=function(){var t=0;return function(){return++t}}(),I={},A=function(){var t=O;t&&document.body.contains(t)||(t=document.createElement("div"),t.setAttribute("data-tether-id",S()),f(t.style,{top:0,left:0,position:"absolute"}),document.body.appendChild(t),O=t);var e=t.getAttribute("data-tether-id");return void 0===I[e]&&(I[e]=n(t),k(function(){delete I[e]})),I[e]},D=null,N=[],k=function(t){N.push(t)},x=function(){for(var t=void 0;t=N.pop();)t()},U=function(){function t(){o(this,t)}return C(t,[{key:"on",value:function(t,e,i){var o=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];void 0===this.bindings&&(this.bindings={}),void 0===this.bindings[t]&&(this.bindings[t]=[]),this.bindings[t].push({handler:e,ctx:i,once:o})}},{key:"once",value:function(t,e,i){this.on(t,e,i,!0)}},{key:"off",value:function(t,e){if(void 0!==this.bindings&&void 0!==this.bindings[t])if(void 0===e)delete this.bindings[t];else for(var i=0;i<this.bindings[t].length;)this.bindings[t][i].handler===e?this.bindings[t].splice(i,1):++i}},{key:"trigger",value:function(t){if(void 0!==this.bindings&&this.bindings[t]){for(var e=0,i=arguments.length,o=Array(i>1?i-1:0),n=1;n<i;n++)o[n-1]=arguments[n];for(;e<this.bindings[t].length;){var r=this.bindings[t][e],s=r.handler,a=r.ctx,l=r.once,h=a;void 0===h&&(h=this),s.apply(h,o),l?this.bindings[t].splice(e,1):++e}}}}]),t}();T.Utils={getActualBoundingClientRect:n,getScrollParents:r,getBounds:a,getOffsetParent:l,extend:f,addClass:d,removeClass:c,hasClass:u,updateClasses:m,defer:k,flush:x,uniqueId:S,Evented:U,getScrollBarSize:h,removeUtilElements:s};var M=function(){function t(t,e){var i=[],o=!0,n=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(o=(s=a.next()).done)&&(i.push(s.value),!e||i.length!==e);o=!0);}catch(t){n=!0,r=t}finally{try{!o&&a.return&&a.return()}finally{if(n)throw r}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),C=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),W=function(t,e,i){for(var o=!0;o;){var n=t,r=e,s=i;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,r);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(s)}var h=Object.getPrototypeOf(n);if(null===h)return;t=h,e=r,i=s,o=!0,a=h=void 0}};if(void 0===T)throw new Error("You must include the utils.js file before tether.js");var P=T.Utils,r=P.getScrollParents,a=P.getBounds,l=P.getOffsetParent,f=P.extend,d=P.addClass,c=P.removeClass,m=P.updateClasses,k=P.defer,x=P.flush,h=P.getScrollBarSize,s=P.removeUtilElements,R=function(){if("undefined"==typeof document)return"";for(var t=document.createElement("div"),e=["transform","WebkitTransform","OTransform","MozTransform","msTransform"],i=0;i<e.length;++i){var o=e[i];if(void 0!==t.style[o])return o}}(),B=[],L=function(){B.forEach(function(t){t.position(!1)}),x()};!function(){var t=null,e=null,i=null,o=function o(){if(void 0!==e&&e>16)return e=Math.min(e-16,250),void(i=setTimeout(o,250));void 0!==t&&y()-t<10||(null!=i&&(clearTimeout(i),i=null),t=y(),L(),e=y()-t)};"undefined"!=typeof window&&void 0!==window.addEventListener&&["resize","scroll","touchmove"].forEach(function(t){window.addEventListener(t,o)})}();var F={center:"center",left:"right",right:"left"},H={middle:"middle",top:"bottom",bottom:"top"},j={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},Y=function(t,e){var i=t.left,o=t.top;return"auto"===i&&(i=F[e.left]),"auto"===o&&(o=H[e.top]),{left:i,top:o}},z=function(t){var e=t.left,i=t.top;return void 0!==j[t.left]&&(e=j[t.left]),void 0!==j[t.top]&&(i=j[t.top]),{left:e,top:i}},K=function(t){var e=t.split(" "),i=M(e,2);return{top:i[0],left:i[1]}},V=K,X=function(t){function e(t){var i=this;o(this,e),W(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.position=this.position.bind(this),B.push(this),this.history=[],this.setOptions(t,!1),T.modules.forEach(function(t){void 0!==t.initialize&&t.initialize.call(i)}),this.position()}return v(e,t),C(e,[{key:"getClass",value:function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],e=this.options.classes;return void 0!==e&&e[t]?this.options.classes[t]:this.options.classPrefix?this.options.classPrefix+"-"+t:t}},{key:"setOptions",value:function(t){var e=this,i=arguments.length<=1||void 0===arguments[1]||arguments[1],o={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"};this.options=f(o,t);var n=this.options,s=n.element,a=n.target,l=n.targetModifier;if(this.element=s,this.target=a,this.targetModifier=l,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(t){if(void 0===e[t])throw new Error("Tether Error: Both element and target must be defined");void 0!==e[t].jquery?e[t]=e[t][0]:"string"==typeof e[t]&&(e[t]=document.querySelector(e[t]))}),d(this.element,this.getClass("element")),!1!==this.options.addTargetClasses&&d(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=V(this.options.targetAttachment),this.attachment=V(this.options.attachment),this.offset=K(this.options.offset),this.targetOffset=K(this.options.targetOffset),void 0!==this.scrollParents&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParents=[this.target]:this.scrollParents=r(this.target),!1!==this.options.enabled&&this.enable(i)}},{key:"getTargetBounds",value:function(){if(void 0===this.targetModifier)return a(this.target);if("visible"===this.targetModifier){if(this.target===document.body)return{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth};var t=a(this.target),e={height:t.height,width:t.width,top:t.top,left:t.left};return e.height=Math.min(e.height,t.height-(pageYOffset-t.top)),e.height=Math.min(e.height,t.height-(t.top+t.height-(pageYOffset+innerHeight))),e.height=Math.min(innerHeight,e.height),e.height-=2,e.width=Math.min(e.width,t.width-(pageXOffset-t.left)),e.width=Math.min(e.width,t.width-(t.left+t.width-(pageXOffset+innerWidth))),e.width=Math.min(innerWidth,e.width),e.width-=2,e.top<pageYOffset&&(e.top=pageYOffset),e.left<pageXOffset&&(e.left=pageXOffset),e}if("scroll-handle"===this.targetModifier){var t=void 0,i=this.target;i===document.body?(i=document.documentElement,t={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):t=a(i);var o=getComputedStyle(i),n=i.scrollWidth>i.clientWidth||[o.overflow,o.overflowX].indexOf("scroll")>=0||this.target!==document.body,r=0;n&&(r=15);var s=t.height-parseFloat(o.borderTopWidth)-parseFloat(o.borderBottomWidth)-r,e={width:15,height:.975*s*(s/i.scrollHeight),left:t.left+t.width-parseFloat(o.borderLeftWidth)-15},l=0;s<408&&this.target===document.body&&(l=-11e-5*Math.pow(s,2)-.00727*s+22.58),this.target!==document.body&&(e.height=Math.max(e.height,24));var h=this.target.scrollTop/(i.scrollHeight-s);return e.top=h*(s-e.height-l)+t.top+parseFloat(o.borderTopWidth),this.target===document.body&&(e.height=Math.max(e.height,24)),e}}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(t,e){return void 0===this._cache&&(this._cache={}),void 0===this._cache[t]&&(this._cache[t]=e.call(this)),this._cache[t]}},{key:"enable",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]||arguments[0];!1!==this.options.addTargetClasses&&d(this.target,this.getClass("enabled")),d(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParents.forEach(function(e){e!==t.target.ownerDocument&&e.addEventListener("scroll",t.position)}),e&&this.position()}},{key:"disable",value:function(){var t=this;c(this.target,this.getClass("enabled")),c(this.element,this.getClass("enabled")),this.enabled=!1,void 0!==this.scrollParents&&this.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.position)})}},{key:"destroy",value:function(){var t=this;this.disable(),B.forEach(function(e,i){e===t&&B.splice(i,1)}),0===B.length&&s()}},{key:"updateAttachClasses",value:function(t,e){var i=this;t=t||this.attachment,e=e||this.targetAttachment;var o=["left","top","bottom","right","middle","center"];void 0!==this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),void 0===this._addAttachClasses&&(this._addAttachClasses=[]);var n=this._addAttachClasses;t.top&&n.push(this.getClass("element-attached")+"-"+t.top),t.left&&n.push(this.getClass("element-attached")+"-"+t.left),e.top&&n.push(this.getClass("target-attached")+"-"+e.top),e.left&&n.push(this.getClass("target-attached")+"-"+e.left);var r=[];o.forEach(function(t){r.push(i.getClass("element-attached")+"-"+t),r.push(i.getClass("target-attached")+"-"+t)}),k(function(){void 0!==i._addAttachClasses&&(m(i.element,i._addAttachClasses,r),!1!==i.options.addTargetClasses&&m(i.target,i._addAttachClasses,r),delete i._addAttachClasses)})}},{key:"position",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]||arguments[0];if(this.enabled){this.clearCache();var i=Y(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,i);var o=this.cache("element-bounds",function(){return a(t.element)}),n=o.width,r=o.height;if(0===n&&0===r&&void 0!==this.lastSize){var s=this.lastSize;n=s.width,r=s.height}else this.lastSize={width:n,height:r};var f=this.cache("target-bounds",function(){return t.getTargetBounds()}),c=f,d=E(z(this.attachment),{width:n,height:r}),u=E(z(i),c),p=E(this.offset,{width:n,height:r}),g=E(this.targetOffset,c);d=_(d,p),u=_(u,g);for(var m=f.left+u.left-d.left,v=f.top+u.top-d.top,b=0;b<T.modules.length;++b){var y=T.modules[b],w=y.position.call(this,{left:m,top:v,targetAttachment:i,targetPos:f,elementPos:o,offset:d,targetOffset:u,manualOffset:p,manualTargetOffset:g,scrollbarSize:I,attachment:this.attachment});if(!1===w)return!1;void 0!==w&&"object"==typeof w&&(v=w.top,m=w.left)}var C={page:{top:v,left:m},viewport:{top:v-pageYOffset,bottom:pageYOffset-v-r+innerHeight,left:m-pageXOffset,right:pageXOffset-m-n+innerWidth}},O=this.target.ownerDocument,S=O.defaultView,I=void 0;return S.innerHeight>O.documentElement.clientHeight&&(I=this.cache("scrollbar-size",h),C.viewport.bottom-=I.height),S.innerWidth>O.documentElement.clientWidth&&(I=this.cache("scrollbar-size",h),C.viewport.right-=I.width),-1!==["","static"].indexOf(O.body.style.position)&&-1!==["","static"].indexOf(O.body.parentElement.style.position)||(C.page.bottom=O.body.scrollHeight-v-r,C.page.right=O.body.scrollWidth-m-n),void 0!==this.options.optimizations&&!1!==this.options.optimizations.moveElement&&void 0===this.targetModifier&&function(){var e=t.cache("target-offsetparent",function(){return l(t.target)}),i=t.cache("target-offsetparent-bounds",function(){return a(e)}),o=getComputedStyle(e),n=i,r={};if(["Top","Left","Bottom","Right"].forEach(function(t){r[t.toLowerCase()]=parseFloat(o["border"+t+"Width"])}),i.right=O.body.scrollWidth-i.left-n.width+r.right,i.bottom=O.body.scrollHeight-i.top-n.height+r.bottom,C.page.top>=i.top+r.top&&C.page.bottom>=i.bottom&&C.page.left>=i.left+r.left&&C.page.right>=i.right){var s=e.scrollTop,h=e.scrollLeft;C.offset={top:C.page.top-i.top+s-r.top,left:C.page.left-i.left+h-r.left}}}(),this.move(C),this.history.unshift(C),this.history.length>3&&this.history.pop(),e&&x(),!0}}},{key:"move",value:function(t){var e=this;if(void 0!==this.element.parentNode){var i={};for(var o in t){i[o]={};for(var n in t[o]){for(var r=!1,s=0;s<this.history.length;++s){var a=this.history[s];if(void 0!==a[o]&&!b(a[o][n],t[o][n])){r=!0;break}}r||(i[o][n]=!0)}}var h={top:"",left:"",right:"",bottom:""},c=function(t,i){if(!1!==(void 0!==e.options.optimizations?e.options.optimizations.gpu:null)){var o=void 0,n=void 0;t.top?(h.top=0,o=i.top):(h.bottom=0,o=-i.bottom),t.left?(h.left=0,n=i.left):(h.right=0,n=-i.right),window.matchMedia&&(window.matchMedia("only screen and (min-resolution: 1.3dppx)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3)").matches||(n=Math.round(n),o=Math.round(o))),h[R]="translateX("+n+"px) translateY("+o+"px)","msTransform"!==R&&(h[R]+=" translateZ(0)")}else t.top?h.top=i.top+"px":h.bottom=i.bottom+"px",t.left?h.left=i.left+"px":h.right=i.right+"px"},d=!1;if((i.page.top||i.page.bottom)&&(i.page.left||i.page.right)?(h.position="absolute",c(i.page,t.page)):(i.viewport.top||i.viewport.bottom)&&(i.viewport.left||i.viewport.right)?(h.position="fixed",c(i.viewport,t.viewport)):void 0!==i.offset&&i.offset.top&&i.offset.left?function(){h.position="absolute";var o=e.cache("target-offsetparent",function(){return l(e.target)});l(e.element)!==o&&k(function(){e.element.parentNode.removeChild(e.element),o.appendChild(e.element)}),c(i.offset,t.offset),d=!0}():(h.position="absolute",c({top:!0,left:!0},t.page)),!d)if(this.options.bodyElement)this.options.bodyElement.appendChild(this.element);else{for(var u=!0,p=this.element.parentNode;p&&1===p.nodeType&&"BODY"!==p.tagName;){if("static"!==getComputedStyle(p).position){u=!1;break}p=p.parentNode}u||(this.element.parentNode.removeChild(this.element),this.element.ownerDocument.body.appendChild(this.element))}var g={},m=!1;for(var n in h){var v=h[n];this.element.style[n]!==v&&(m=!0,g[n]=v)}m&&k(function(){f(e.element.style,g),e.trigger("repositioned")})}}}]),e}(U);X.modules=[],T.position=L;var Q=f(X,T),M=function(){function t(t,e){var i=[],o=!0,n=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(o=(s=a.next()).done)&&(i.push(s.value),!e||i.length!==e);o=!0);}catch(t){n=!0,r=t}finally{try{!o&&a.return&&a.return()}finally{if(n)throw r}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),P=T.Utils,a=P.getBounds,f=P.extend,m=P.updateClasses,k=P.defer,G=["left","top","right","bottom"];T.modules.push({position:function(t){var e=this,i=t.top,o=t.left,n=t.targetAttachment;if(!this.options.constraints)return!0;var r=this.cache("element-bounds",function(){return a(e.element)}),s=r.height,l=r.width;if(0===l&&0===s&&void 0!==this.lastSize){var h=this.lastSize;l=h.width,s=h.height}var c=this.cache("target-bounds",function(){return e.getTargetBounds()}),d=c.height,u=c.width,p=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach(function(t){var e=t.outOfBoundsClass,i=t.pinnedClass;e&&p.push(e),i&&p.push(i)}),p.forEach(function(t){["left","top","right","bottom"].forEach(function(e){p.push(t+"-"+e)})});var g=[],v=f({},n),b=f({},this.attachment);return this.options.constraints.forEach(function(t){var r=t.to,a=t.attachment,h=t.pin;void 0===a&&(a="");var f=void 0,c=void 0;if(a.indexOf(" ")>=0){var p=a.split(" "),m=M(p,2);c=m[0],f=m[1]}else f=c=a;var y=w(e,r);"target"!==c&&"both"!==c||(i<y[1]&&"top"===v.top&&(i+=d,v.top="bottom"),i+s>y[3]&&"bottom"===v.top&&(i-=d,v.top="top")),"together"===c&&("top"===v.top&&("bottom"===b.top&&i<y[1]?(i+=d,v.top="bottom",i+=s,b.top="top"):"top"===b.top&&i+s>y[3]&&i-(s-d)>=y[1]&&(i-=s-d,v.top="bottom",b.top="bottom")),"bottom"===v.top&&("top"===b.top&&i+s>y[3]?(i-=d,v.top="top",i-=s,b.top="bottom"):"bottom"===b.top&&i<y[1]&&i+(2*s-d)<=y[3]&&(i+=s-d,v.top="top",b.top="top")),"middle"===v.top&&(i+s>y[3]&&"top"===b.top?(i-=s,b.top="bottom"):i<y[1]&&"bottom"===b.top&&(i+=s,b.top="top"))),"target"!==f&&"both"!==f||(o<y[0]&&"left"===v.left&&(o+=u,v.left="right"),o+l>y[2]&&"right"===v.left&&(o-=u,v.left="left")),"together"===f&&(o<y[0]&&"left"===v.left?"right"===b.left?(o+=u,v.left="right",o+=l,b.left="left"):"left"===b.left&&(o+=u,v.left="right",o-=l,b.left="right"):o+l>y[2]&&"right"===v.left?"left"===b.left?(o-=u,v.left="left",o-=l,b.left="right"):"right"===b.left&&(o-=u,v.left="left",o+=l,b.left="left"):"center"===v.left&&(o+l>y[2]&&"left"===b.left?(o-=l,b.left="right"):o<y[0]&&"right"===b.left&&(o+=l,b.left="left"))),"element"!==c&&"both"!==c||(i<y[1]&&"bottom"===b.top&&(i+=s,b.top="top"),i+s>y[3]&&"top"===b.top&&(i-=s,b.top="bottom")),"element"!==f&&"both"!==f||(o<y[0]&&("right"===b.left?(o+=l,b.left="left"):"center"===b.left&&(o+=l/2,b.left="left")),o+l>y[2]&&("left"===b.left?(o-=l,b.left="right"):"center"===b.left&&(o-=l/2,b.left="right"))),"string"==typeof h?h=h.split(",").map(function(t){return t.trim()}):!0===h&&(h=["top","left","right","bottom"]),h=h||[];var _=[],E=[];i<y[1]&&(h.indexOf("top")>=0?(i=y[1],_.push("top")):E.push("top")),i+s>y[3]&&(h.indexOf("bottom")>=0?(i=y[3]-s,_.push("bottom")):E.push("bottom")),o<y[0]&&(h.indexOf("left")>=0?(o=y[0],_.push("left")):E.push("left")),o+l>y[2]&&(h.indexOf("right")>=0?(o=y[2]-l,_.push("right")):E.push("right")),_.length&&function(){var t=void 0;t=void 0!==e.options.pinnedClass?e.options.pinnedClass:e.getClass("pinned"),g.push(t),_.forEach(function(e){g.push(t+"-"+e)})}(),E.length&&function(){var t=void 0;t=void 0!==e.options.outOfBoundsClass?e.options.outOfBoundsClass:e.getClass("out-of-bounds"),g.push(t),E.forEach(function(e){g.push(t+"-"+e)})}(),(_.indexOf("left")>=0||_.indexOf("right")>=0)&&(b.left=v.left=!1),(_.indexOf("top")>=0||_.indexOf("bottom")>=0)&&(b.top=v.top=!1),v.top===n.top&&v.left===n.left&&b.top===e.attachment.top&&b.left===e.attachment.left||(e.updateAttachClasses(b,v),e.trigger("update",{attachment:b,targetAttachment:v}))}),k(function(){!1!==e.options.addTargetClasses&&m(e.target,g,p),m(e.element,g,p)}),{top:i,left:o}}});var P=T.Utils,a=P.getBounds,m=P.updateClasses,k=P.defer;T.modules.push({position:function(t){var e=this,i=t.top,o=t.left,n=this.cache("element-bounds",function(){return a(e.element)}),r=n.height,s=n.width,l=this.getTargetBounds(),h=i+r,f=o+s,c=[];i<=l.bottom&&h>=l.top&&["left","right"].forEach(function(t){var e=l[t];e!==o&&e!==f||c.push(t)}),o<=l.right&&f>=l.left&&["top","bottom"].forEach(function(t){var e=l[t];e!==i&&e!==h||c.push(t)});var d=[],u=[],p=["left","top","right","bottom"];return d.push(this.getClass("abutted")),p.forEach(function(t){d.push(e.getClass("abutted")+"-"+t)}),c.length&&u.push(this.getClass("abutted")),c.forEach(function(t){u.push(e.getClass("abutted")+"-"+t)}),k(function(){!1!==e.options.addTargetClasses&&m(e.target,u,d),m(e.element,u,d)}),!0}});var M=function(){function t(t,e){var i=[],o=!0,n=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(o=(s=a.next()).done)&&(i.push(s.value),!e||i.length!==e);o=!0);}catch(t){n=!0,r=t}finally{try{!o&&a.return&&a.return()}finally{if(n)throw r}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();return T.modules.push({position:function(t){var e=t.top,i=t.left;if(this.options.shift){var o=this.options.shift;"function"==typeof this.options.shift&&(o=this.options.shift.call(this,{top:e,left:i}));var n=void 0,r=void 0;if("string"==typeof o){o=o.split(" "),o[1]=o[1]||o[0];var s=o,a=M(s,2);n=a[0],r=a[1],n=parseFloat(n,10),r=parseFloat(r,10)}else n=o.top,r=o.left;return e+=n,i+=r,{top:e,left:i}}}}),Q});var Util=function(t){function e(t){return{}.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function i(t){return(t[0]||t).nodeType}function o(){return{bindType:s.end,delegateType:s.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}}}function n(){if(window.QUnit)return!1;var t=document.createElement("bootstrap");for(var e in a)if(void 0!==t.style[e])return{end:a[e]};return!1}function r(e){var i=this,o=!1;return t(this).one(l.TRANSITION_END,function(){o=!0}),setTimeout(function(){o||l.triggerTransitionEnd(i)},e),this}var s=!1,a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},l={TRANSITION_END:"bsTransitionEnd",getUID:function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");return e||(e=t.getAttribute("href")||"",e=/^#[a-z]/i.test(e)?e:null),e},reflow:function(t){new Function("bs","return bs")(t.offsetHeight)},triggerTransitionEnd:function(e){t(e).trigger(s.end)},supportsTransitionEnd:function(){return Boolean(s)},typeCheckConfig:function(t,o,n){for(var r in n)if(n.hasOwnProperty(r)){var s=n[r],a=o[r],l=void 0;if(l=a&&i(a)?"element":e(a),!new RegExp(s).test(l))throw new Error(t.toUpperCase()+': Option "'+r+'" provided type "'+l+'" but expected type "'+s+'".')}}};return function(){s=n(),t.fn.emulateTransitionEnd=r,l.supportsTransitionEnd()&&(t.event.special[l.TRANSITION_END]=o())}(),l}(jQuery),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),Modal=function(t){var e="modal",i=".bs.modal",o=t.fn[e],n={backdrop:!0,keyboard:!0,focus:!0,show:!0},r={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},s={HIDE:"hide.bs.modal",HIDDEN:"hidden.bs.modal",SHOW:"show.bs.modal",SHOWN:"shown.bs.modal",FOCUSIN:"focusin.bs.modal",RESIZE:"resize.bs.modal",CLICK_DISMISS:"click.dismiss.bs.modal",KEYDOWN_DISMISS:"keydown.dismiss.bs.modal",MOUSEUP_DISMISS:"mouseup.dismiss.bs.modal",MOUSEDOWN_DISMISS:"mousedown.dismiss.bs.modal",CLICK_DATA_API:"click.bs.modal.data-api"},a={SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",IN:"in"},l={DIALOG:".modal-dialog",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".navbar-fixed-top, .navbar-fixed-bottom, .is-fixed"},h=function(){function o(e,i){_classCallCheck(this,o),this._config=this._getConfig(i),this._element=e,this._dialog=t(e).find(l.DIALOG)[0],this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._originalBodyPadding=0,this._scrollbarWidth=0}return o.prototype.toggle=function(t){return this._isShown?this.hide():this.show(t)},o.prototype.show=function(e){var i=this,o=t.Event(s.SHOW,{relatedTarget:e});t(this._element).trigger(o),this._isShown||o.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),t(document.body).addClass(a.OPEN),this._setEscapeEvent(),this._setResizeEvent(),t(this._element).on(s.CLICK_DISMISS,l.DATA_DISMISS,t.proxy(this.hide,this)),t(this._dialog).on(s.MOUSEDOWN_DISMISS,function(){t(i._element).one(s.MOUSEUP_DISMISS,function(e){t(e.target).is(i._element)&&(i._ignoreBackdropClick=!0)})}),this._showBackdrop(t.proxy(this._showElement,this,e)))},o.prototype.hide=function(e){e&&e.preventDefault();var i=t.Event(s.HIDE);t(this._element).trigger(i),this._isShown&&!i.isDefaultPrevented()&&(this._isShown=!1,this._setEscapeEvent(),this._setResizeEvent(),t(document).off(s.FOCUSIN),t(this._element).removeClass(a.IN),t(this._element).off(s.CLICK_DISMISS),t(this._dialog).off(s.MOUSEDOWN_DISMISS),Util.supportsTransitionEnd()&&t(this._element).hasClass(a.FADE)?t(this._element).one(Util.TRANSITION_END,t.proxy(this._hideModal,this)).emulateTransitionEnd(300):this._hideModal())},o.prototype.dispose=function(){t.removeData(this._element,"bs.modal"),t(window).off(i),t(document).off(i),t(this._element).off(i),t(this._backdrop).off(i),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._originalBodyPadding=null,this._scrollbarWidth=null},o.prototype._getConfig=function(i){return i=t.extend({},n,i),Util.typeCheckConfig(e,i,r),i},o.prototype._showElement=function(e){var i=this,o=Util.supportsTransitionEnd()&&t(this._element).hasClass(a.FADE);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.scrollTop=0,o&&Util.reflow(this._element),t(this._element).addClass(a.IN),this._config.focus&&this._enforceFocus();var n=t.Event(s.SHOWN,{relatedTarget:e}),r=function(){i._config.focus&&i._element.focus(),t(i._element).trigger(n)};o?t(this._dialog).one(Util.TRANSITION_END,r).emulateTransitionEnd(300):r()},o.prototype._enforceFocus=function(){var e=this;t(document).off(s.FOCUSIN).on(s.FOCUSIN,function(i){document===i.target||e._element===i.target||t(e._element).has(i.target).length||e._element.focus()})},o.prototype._setEscapeEvent=function(){var e=this;this._isShown&&this._config.keyboard?t(this._element).on(s.KEYDOWN_DISMISS,function(t){27===t.which&&e.hide()}):this._isShown||t(this._element).off(s.KEYDOWN_DISMISS)},o.prototype._setResizeEvent=function(){this._isShown?t(window).on(s.RESIZE,t.proxy(this._handleUpdate,this)):t(window).off(s.RESIZE)},o.prototype._hideModal=function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden","true"),this._showBackdrop(function(){t(document.body).removeClass(a.OPEN),e._resetAdjustments(),e._resetScrollbar(),t(e._element).trigger(s.HIDDEN)})},o.prototype._removeBackdrop=function(){this._backdrop&&(t(this._backdrop).remove(),this._backdrop=null)},o.prototype._showBackdrop=function(e){var i=this,o=t(this._element).hasClass(a.FADE)?a.FADE:"";if(this._isShown&&this._config.backdrop){var n=Util.supportsTransitionEnd()&&o;if(this._backdrop=document.createElement("div"),this._backdrop.className=a.BACKDROP,o&&t(this._backdrop).addClass(o),t(this._backdrop).appendTo(document.body),t(this._element).on(s.CLICK_DISMISS,function(t){if(i._ignoreBackdropClick)return void(i._ignoreBackdropClick=!1);t.target===t.currentTarget&&("static"===i._config.backdrop?i._element.focus():i.hide())}),n&&Util.reflow(this._backdrop),t(this._backdrop).addClass(a.IN),!e)return;if(!n)return void e();t(this._backdrop).one(Util.TRANSITION_END,e).emulateTransitionEnd(150)}else if(!this._isShown&&this._backdrop){t(this._backdrop).removeClass(a.IN);var r=function(){i._removeBackdrop(),e&&e()};Util.supportsTransitionEnd()&&t(this._element).hasClass(a.FADE)?t(this._backdrop).one(Util.TRANSITION_END,r).emulateTransitionEnd(150):r()}else e&&e()},o.prototype._handleUpdate=function(){
this._adjustDialog()},o.prototype._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},o.prototype._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},o.prototype._checkScrollbar=function(){this._isBodyOverflowing=document.body.clientWidth<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},o.prototype._setScrollbar=function(){var e=parseInt(t(l.FIXED_CONTENT).css("padding-right")||0,10);this._originalBodyPadding=document.body.style.paddingRight||"",this._isBodyOverflowing&&(document.body.style.paddingRight=e+this._scrollbarWidth+"px")},o.prototype._resetScrollbar=function(){document.body.style.paddingRight=this._originalBodyPadding},o.prototype._getScrollbarWidth=function(){var t=document.createElement("div");t.className=a.SCROLLBAR_MEASURER,document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e},o._jQueryInterface=function(e,i){return this.each(function(){var n=t(this).data("bs.modal"),r=t.extend({},o.Default,t(this).data(),"object"===(void 0===e?"undefined":_typeof(e))&&e);if(n||(n=new o(this,r),t(this).data("bs.modal",n)),"string"==typeof e){if(void 0===n[e])throw new Error('No method named "'+e+'"');n[e](i)}else r.show&&n.show(i)})},_createClass(o,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.5"}},{key:"Default",get:function(){return n}}]),o}();return t(document).on(s.CLICK_DATA_API,l.DATA_TOGGLE,function(e){var i=this,o=void 0,n=Util.getSelectorFromElement(this);n&&(o=t(n)[0]);var r=t(o).data("bs.modal")?"toggle":t.extend({},t(o).data(),t(this).data());"A"===this.tagName&&e.preventDefault();var a=t(o).one(s.SHOW,function(e){e.isDefaultPrevented()||a.one(s.HIDDEN,function(){t(i).is(":visible")&&i.focus()})});h._jQueryInterface.call(t(o),r,this)}),t.fn[e]=h._jQueryInterface,t.fn[e].Constructor=h,t.fn[e].noConflict=function(){return t.fn[e]=o,h._jQueryInterface},h}(jQuery),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),Tooltip=function(t){if(void 0===window.Tether)throw new Error("Bootstrap tooltips require Tether (http://tether.io/)");var e="tooltip",i=".bs.tooltip",o=t.fn[e],n={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:"0 0",constraints:[]},r={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"string",constraints:"array"},s={TOP:"bottom center",RIGHT:"middle left",BOTTOM:"top center",LEFT:"middle right"},a={IN:"in",OUT:"out"},l={HIDE:"hide"+i,HIDDEN:"hidden"+i,SHOW:"show"+i,SHOWN:"shown"+i,INSERTED:"inserted"+i,CLICK:"click"+i,FOCUSIN:"focusin"+i,FOCUSOUT:"focusout"+i,MOUSEENTER:"mouseenter"+i,MOUSELEAVE:"mouseleave"+i},h={FADE:"fade",IN:"in"},f={TOOLTIP:".tooltip",TOOLTIP_INNER:".tooltip-inner"},c={element:!1,enabled:!1},d={HOVER:"hover",FOCUS:"focus",CLICK:"click",MANUAL:"manual"},u=function(){function o(t,e){_classCallCheck(this,o),this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._tether=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}return o.prototype.enable=function(){this._isEnabled=!0},o.prototype.disable=function(){this._isEnabled=!1},o.prototype.toggleEnabled=function(){this._isEnabled=!this._isEnabled},o.prototype.toggle=function(e){if(e){var i=this.constructor.DATA_KEY,o=t(e.currentTarget).data(i);o||(o=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(i,o)),o._activeTrigger.click=!o._activeTrigger.click,o._isWithActiveTrigger()?o._enter(null,o):o._leave(null,o)}else{if(t(this.getTipElement()).hasClass(h.IN))return void this._leave(null,this);this._enter(null,this)}},o.prototype.dispose=function(){clearTimeout(this._timeout),this.cleanupTether(),t.removeData(this.element,this.constructor.DATA_KEY),t(this.element).off(this.constructor.EVENT_KEY),this.tip&&t(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._tether=null,this.element=null,this.config=null,this.tip=null},o.prototype.show=function(){var e=this,i=t.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){t(this.element).trigger(i);var n=t.contains(this.element.ownerDocument.documentElement,this.element);if(i.isDefaultPrevented()||!n)return;var r=this.getTipElement(),s=Util.getUID(this.constructor.NAME);r.setAttribute("id",s),this.element.setAttribute("aria-describedby",s),this.setContent(),this.config.animation&&t(r).addClass(h.FADE);var l="function"==typeof this.config.placement?this.config.placement.call(this,r,this.element):this.config.placement,f=this._getAttachment(l);t(r).data(this.constructor.DATA_KEY,this).appendTo(document.body),t(this.element).trigger(this.constructor.Event.INSERTED),this._tether=new Tether({attachment:f,element:r,target:this.element,classes:c,classPrefix:"bs-tether",offset:this.config.offset,constraints:this.config.constraints,addTargetClasses:!1}),Util.reflow(r),this._tether.position(),t(r).addClass(h.IN);var d=function(){var i=e._hoverState;e._hoverState=null,t(e.element).trigger(e.constructor.Event.SHOWN),i===a.OUT&&e._leave(null,e)};if(Util.supportsTransitionEnd()&&t(this.tip).hasClass(h.FADE))return void t(this.tip).one(Util.TRANSITION_END,d).emulateTransitionEnd(o._TRANSITION_DURATION);d()}},o.prototype.hide=function(e){var i=this,o=this.getTipElement(),n=t.Event(this.constructor.Event.HIDE),r=function(){i._hoverState!==a.IN&&o.parentNode&&o.parentNode.removeChild(o),i.element.removeAttribute("aria-describedby"),t(i.element).trigger(i.constructor.Event.HIDDEN),i.cleanupTether(),e&&e()};t(this.element).trigger(n),n.isDefaultPrevented()||(t(o).removeClass(h.IN),Util.supportsTransitionEnd()&&t(this.tip).hasClass(h.FADE)?t(o).one(Util.TRANSITION_END,r).emulateTransitionEnd(150):r(),this._hoverState="")},o.prototype.isWithContent=function(){return Boolean(this.getTitle())},o.prototype.getTipElement=function(){return this.tip=this.tip||t(this.config.template)[0]},o.prototype.setContent=function(){var e=t(this.getTipElement());this.setElementContent(e.find(f.TOOLTIP_INNER),this.getTitle()),e.removeClass(h.FADE).removeClass(h.IN),this.cleanupTether()},o.prototype.setElementContent=function(e,i){var o=this.config.html;"object"===(void 0===i?"undefined":_typeof(i))&&(i.nodeType||i.jquery)?o?t(i).parent().is(e)||e.empty().append(i):e.text(t(i).text()):e[o?"html":"text"](i)},o.prototype.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},o.prototype.cleanupTether=function(){this._tether&&this._tether.destroy()},o.prototype._getAttachment=function(t){return s[t.toUpperCase()]},o.prototype._setListeners=function(){var e=this;this.config.trigger.split(" ").forEach(function(i){if("click"===i)t(e.element).on(e.constructor.Event.CLICK,e.config.selector,t.proxy(e.toggle,e));else if(i!==d.MANUAL){var o=i===d.HOVER?e.constructor.Event.MOUSEENTER:e.constructor.Event.FOCUSIN,n=i===d.HOVER?e.constructor.Event.MOUSELEAVE:e.constructor.Event.FOCUSOUT;t(e.element).on(o,e.config.selector,t.proxy(e._enter,e)).on(n,e.config.selector,t.proxy(e._leave,e))}}),this.config.selector?this.config=t.extend({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},o.prototype._fixTitle=function(){var t=_typeof(this.element.getAttribute("data-original-title"));(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},o.prototype._enter=function(e,i){var o=this.constructor.DATA_KEY;return i=i||t(e.currentTarget).data(o),i||(i=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(o,i)),e&&(i._activeTrigger["focusin"===e.type?d.FOCUS:d.HOVER]=!0),t(i.getTipElement()).hasClass(h.IN)||i._hoverState===a.IN?void(i._hoverState=a.IN):(clearTimeout(i._timeout),i._hoverState=a.IN,i.config.delay&&i.config.delay.show?void(i._timeout=setTimeout(function(){i._hoverState===a.IN&&i.show()},i.config.delay.show)):void i.show())},o.prototype._leave=function(e,i){var o=this.constructor.DATA_KEY;if(i=i||t(e.currentTarget).data(o),i||(i=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(o,i)),e&&(i._activeTrigger["focusout"===e.type?d.FOCUS:d.HOVER]=!1),!i._isWithActiveTrigger()){if(clearTimeout(i._timeout),i._hoverState=a.OUT,!i.config.delay||!i.config.delay.hide)return void i.hide();i._timeout=setTimeout(function(){i._hoverState===a.OUT&&i.hide()},i.config.delay.hide)}},o.prototype._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},o.prototype._getConfig=function(i){return i=t.extend({},this.constructor.Default,t(this.element).data(),i),i.delay&&"number"==typeof i.delay&&(i.delay={show:i.delay,hide:i.delay}),Util.typeCheckConfig(e,i,this.constructor.DefaultType),i},o.prototype._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},o._jQueryInterface=function(e){return this.each(function(){var i=t(this).data("bs.tooltip"),n="object"===(void 0===e?"undefined":_typeof(e))?e:null;if((i||!/dispose|hide/.test(e))&&(i||(i=new o(this,n),t(this).data("bs.tooltip",i)),"string"==typeof e)){if(void 0===i[e])throw new Error('No method named "'+e+'"');i[e]()}})},_createClass(o,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.5"}},{key:"Default",get:function(){return n}},{key:"NAME",get:function(){return e}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},{key:"Event",get:function(){return l}},{key:"EVENT_KEY",get:function(){return i}},{key:"DefaultType",get:function(){return r}}]),o}();return t.fn[e]=u._jQueryInterface,t.fn[e].Constructor=u,t.fn[e].noConflict=function(){return t.fn[e]=o,u._jQueryInterface},u}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZGFsLmpzIiwidG9vbHRpcC5qcyIsInRldGhlci5qcyIsInV0aWwuanMiXSwibmFtZXMiOlsiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsInJvb3QiLCJmYWN0b3J5IiwiZGVmaW5lIiwiYW1kIiwiZXhwb3J0cyIsIm1vZHVsZSIsInJlcXVpcmUiLCJUZXRoZXIiLCJ0aGlzIiwiZ2V0QWN0dWFsQm91bmRpbmdDbGllbnRSZWN0Iiwibm9kZSIsImJvdW5kaW5nUmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInJlY3QiLCJrIiwib3duZXJEb2N1bWVudCIsImRvY3VtZW50IiwiX2ZyYW1lRWxlbWVudCIsImRlZmF1bHRWaWV3IiwiZnJhbWVFbGVtZW50IiwiZnJhbWVSZWN0IiwidG9wIiwiYm90dG9tIiwibGVmdCIsInJpZ2h0IiwiZ2V0U2Nyb2xsUGFyZW50cyIsImVsIiwiY29tcHV0ZWRTdHlsZSIsImdldENvbXB1dGVkU3R5bGUiLCJwb3NpdGlvbiIsInBhcmVudHMiLCJwYXJlbnQiLCJwYXJlbnROb2RlIiwibm9kZVR5cGUiLCJzdHlsZSIsInVuZGVmaW5lZCIsImVyciIsInB1c2giLCJfc3R5bGUiLCJvdmVyZmxvdyIsIm92ZXJmbG93WCIsInRlc3QiLCJvdmVyZmxvd1kiLCJpbmRleE9mIiwiYm9keSIsInJlbW92ZVV0aWxFbGVtZW50cyIsInplcm9FbGVtZW50IiwicmVtb3ZlQ2hpbGQiLCJnZXRCb3VuZHMiLCJkb2MiLCJkb2N1bWVudEVsZW1lbnQiLCJkb2NFbCIsImJveCIsIm9yaWdpbiIsImdldE9yaWdpbiIsIndpZHRoIiwic2Nyb2xsV2lkdGgiLCJoZWlnaHQiLCJzY3JvbGxIZWlnaHQiLCJjbGllbnRUb3AiLCJjbGllbnRMZWZ0IiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJnZXRPZmZzZXRQYXJlbnQiLCJvZmZzZXRQYXJlbnQiLCJnZXRTY3JvbGxCYXJTaXplIiwiX3Njcm9sbEJhclNpemUiLCJpbm5lciIsImNyZWF0ZUVsZW1lbnQiLCJvdXRlciIsImV4dGVuZCIsInBvaW50ZXJFdmVudHMiLCJ2aXNpYmlsaXR5IiwiYXBwZW5kQ2hpbGQiLCJ3aWR0aENvbnRhaW5lZCIsIm9mZnNldFdpZHRoIiwid2lkdGhTY3JvbGwiLCJvdXQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJhcmdzIiwiQXJyYXkiLCJwcm90b3R5cGUiLCJhcHBseSIsInNsaWNlIiwiZm9yRWFjaCIsIm9iaiIsImtleSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsInJlbW92ZUNsYXNzIiwibmFtZSIsImNsYXNzTGlzdCIsInNwbGl0IiwiY2xzIiwidHJpbSIsInJlbW92ZSIsInJlZ2V4IiwiUmVnRXhwIiwiam9pbiIsImNsYXNzTmFtZSIsImdldENsYXNzTmFtZSIsInJlcGxhY2UiLCJzZXRDbGFzc05hbWUiLCJhZGRDbGFzcyIsImFkZCIsImhhc0NsYXNzIiwiY29udGFpbnMiLCJTVkdBbmltYXRlZFN0cmluZyIsImJhc2VWYWwiLCJzZXRBdHRyaWJ1dGUiLCJ1cGRhdGVDbGFzc2VzIiwiYWxsIiwiX2luaGVyaXRzIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwiT2JqZWN0IiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJ2YWx1ZSIsImVudW1lcmFibGUiLCJ3cml0YWJsZSIsImNvbmZpZ3VyYWJsZSIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwid2l0aGluIiwiYSIsImIiLCJkaWZmIiwibm93IiwicGVyZm9ybWFuY2UiLCJEYXRlIiwiYWRkT2Zmc2V0IiwiX2xlbiIsIm9mZnNldHMiLCJfa2V5IiwiX3JlZiIsInBhcnNlRmxvYXQiLCJvZmZzZXRUb1B4Iiwib2Zmc2V0Iiwic2l6ZSIsImdldEJvdW5kaW5nUmVjdCIsInRldGhlciIsInRvIiwic2Nyb2xsUGFyZW50cyIsInBhZ2VYT2Zmc2V0IiwicGFnZVlPZmZzZXQiLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJwb3MiLCJ3aW4iLCJCT1VORFNfRk9STUFUIiwic2lkZSIsImkiLCJ0b1VwcGVyQ2FzZSIsInN1YnN0ciIsIl9jcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImRlc2NyaXB0b3IiLCJkZWZpbmVQcm9wZXJ0eSIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIlRldGhlckJhc2UiLCJtb2R1bGVzIiwidW5pcXVlSWQiLCJpZCIsInplcm9Qb3NDYWNoZSIsImdldEF0dHJpYnV0ZSIsImRlZmVyIiwiZGVmZXJyZWQiLCJmbiIsImZsdXNoIiwicG9wIiwiRXZlbnRlZCIsImV2ZW50IiwiaGFuZGxlciIsImN0eCIsIm9uY2UiLCJiaW5kaW5ncyIsIm9uIiwic3BsaWNlIiwiX2JpbmRpbmdzJGV2ZW50JGkiLCJjb250ZXh0IiwiVXRpbHMiLCJfc2xpY2VkVG9BcnJheSIsInNsaWNlSXRlcmF0b3IiLCJhcnIiLCJfYXJyIiwiX24iLCJfZCIsIl9lIiwiX3MiLCJfaSIsIlN5bWJvbCIsIml0ZXJhdG9yIiwibmV4dCIsImRvbmUiLCJpc0FycmF5IiwiX2dldCIsIl94NiIsIl94NyIsIl94OCIsIl9hZ2FpbiIsIm9iamVjdCIsInByb3BlcnR5IiwicmVjZWl2ZXIiLCJGdW5jdGlvbiIsImRlc2MiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJnZXR0ZXIiLCJnZXQiLCJnZXRQcm90b3R5cGVPZiIsIkVycm9yIiwiX1RldGhlckJhc2UkVXRpbHMiLCJ0cmFuc2Zvcm1LZXkiLCJ0cmFuc2Zvcm1zIiwidGV0aGVycyIsImxhc3RDYWxsIiwibGFzdER1cmF0aW9uIiwicGVuZGluZ1RpbWVvdXQiLCJ0aWNrIiwiTWF0aCIsIm1pbiIsInNldFRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiTUlSUk9SX0xSIiwiY2VudGVyIiwiTUlSUk9SX1RCIiwibWlkZGxlIiwiT0ZGU0VUX01BUCIsImF1dG9Ub0ZpeGVkQXR0YWNobWVudCIsImF0dGFjaG1lbnQiLCJyZWxhdGl2ZVRvQXR0YWNobWVudCIsImF0dGFjaG1lbnRUb09mZnNldCIsInBhcnNlT2Zmc2V0IiwiX3ZhbHVlJHNwbGl0IiwiX3ZhbHVlJHNwbGl0MiIsInBhcnNlQXR0YWNobWVudCIsIlRldGhlckNsYXNzIiwiX0V2ZW50ZWQiLCJvcHRpb25zIiwiX3RoaXMiLCJiaW5kIiwiaGlzdG9yeSIsInNldE9wdGlvbnMiLCJpbml0aWFsaXplIiwiY2xhc3NlcyIsImNsYXNzUHJlZml4IiwiX3RoaXMyIiwiZGVmYXVsdHMiLCJ0YXJnZXRPZmZzZXQiLCJ0YXJnZXRBdHRhY2htZW50IiwiX29wdGlvbnMiLCJlbGVtZW50IiwidGFyZ2V0TW9kaWZpZXIiLCJqcXVlcnkiLCJxdWVyeVNlbGVjdG9yIiwiZ2V0Q2xhc3MiLCJhZGRUYXJnZXRDbGFzc2VzIiwiZGlzYWJsZSIsImVuYWJsZWQiLCJlbmFibGUiLCJib3VuZHMiLCJoYXNCb3R0b21TY3JvbGwiLCJzY3JvbGxCb3R0b20iLCJib3JkZXJUb3BXaWR0aCIsImJvcmRlckJvdHRvbVdpZHRoIiwiYm9yZGVyTGVmdFdpZHRoIiwiZml0QWRqIiwicG93IiwibWF4Iiwic2Nyb2xsUGVyY2VudGFnZSIsInNjcm9sbFRvcCIsIl9jYWNoZSIsIl90aGlzMyIsIl90aGlzNCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfdGhpczUiLCJlbGVtZW50QXR0YWNoIiwidGFyZ2V0QXR0YWNoIiwiX3RoaXM2Iiwic2lkZXMiLCJfYWRkQXR0YWNoQ2xhc3NlcyIsIl90aGlzNyIsImZsdXNoQ2hhbmdlcyIsImNsZWFyQ2FjaGUiLCJ1cGRhdGVBdHRhY2hDbGFzc2VzIiwiZWxlbWVudFBvcyIsImNhY2hlIiwibGFzdFNpemUiLCJfbGFzdFNpemUiLCJ0YXJnZXRQb3MiLCJnZXRUYXJnZXRCb3VuZHMiLCJ0YXJnZXRTaXplIiwibWFudWFsT2Zmc2V0IiwibWFudWFsVGFyZ2V0T2Zmc2V0IiwiX21vZHVsZTIiLCJyZXQiLCJzY3JvbGxiYXJTaXplIiwicGFnZSIsInZpZXdwb3J0IiwicGFyZW50RWxlbWVudCIsIm9wdGltaXphdGlvbnMiLCJtb3ZlRWxlbWVudCIsIm9mZnNldFBvc2l0aW9uIiwib2Zmc2V0UGFyZW50U3R5bGUiLCJvZmZzZXRQYXJlbnRTaXplIiwib2Zmc2V0Qm9yZGVyIiwidG9Mb3dlckNhc2UiLCJzY3JvbGxMZWZ0IiwibW92ZSIsInVuc2hpZnQiLCJfdGhpczgiLCJzYW1lIiwidHlwZSIsImZvdW5kIiwicG9pbnQiLCJjc3MiLCJ0cmFuc2NyaWJlIiwiX3NhbWUiLCJfcG9zIiwiZ3B1IiwieVBvcyIsInhQb3MiLCJtYXRjaE1lZGlhIiwibWF0Y2hlcyIsInJvdW5kIiwibW92ZWQiLCJib2R5RWxlbWVudCIsIm9mZnNldFBhcmVudElzQm9keSIsImN1cnJlbnROb2RlIiwidGFnTmFtZSIsIndyaXRlQ1NTIiwid3JpdGUiLCJ2YWwiLCJ0cmlnZ2VyIiwiY29uc3RyYWludHMiLCJ0YXJnZXRIZWlnaHQiLCJ0YXJnZXRXaWR0aCIsImFsbENsYXNzZXMiLCJjb25zdHJhaW50Iiwib3V0T2ZCb3VuZHNDbGFzcyIsInBpbm5lZENsYXNzIiwiYWRkQ2xhc3NlcyIsInRBdHRhY2htZW50IiwiZUF0dGFjaG1lbnQiLCJwaW4iLCJjaGFuZ2VBdHRhY2hYIiwiY2hhbmdlQXR0YWNoWSIsIl9hdHRhY2htZW50JHNwbGl0IiwiX2F0dGFjaG1lbnQkc3BsaXQyIiwibWFwIiwicCIsInBpbm5lZCIsIm9vYiIsIm9vYkNsYXNzIiwiYWJ1dHRlZCIsInRhcmdldFBvc1NpZGUiLCJzaGlmdCIsInNoaWZ0VG9wIiwic2hpZnRMZWZ0IiwiX3NoaWZ0IiwiX3NoaWZ0MiIsIlV0aWwiLCIkIiwidG9UeXBlIiwidG9TdHJpbmciLCJtYXRjaCIsImlzRWxlbWVudCIsImdldFNwZWNpYWxUcmFuc2l0aW9uRW5kRXZlbnQiLCJiaW5kVHlwZSIsInRyYW5zaXRpb24iLCJlbmQiLCJkZWxlZ2F0ZVR5cGUiLCJoYW5kbGUiLCJpcyIsImhhbmRsZU9iaiIsInRyYW5zaXRpb25FbmRUZXN0IiwiUVVuaXQiLCJUcmFuc2l0aW9uRW5kRXZlbnQiLCJ0cmFuc2l0aW9uRW5kRW11bGF0b3IiLCJkdXJhdGlvbiIsImNhbGxlZCIsIm9uZSIsIlRSQU5TSVRJT05fRU5EIiwidHJpZ2dlclRyYW5zaXRpb25FbmQiLCJXZWJraXRUcmFuc2l0aW9uIiwiTW96VHJhbnNpdGlvbiIsIk9UcmFuc2l0aW9uIiwiZ2V0VUlEIiwicHJlZml4IiwicmFuZG9tIiwiZ2V0RWxlbWVudEJ5SWQiLCJnZXRTZWxlY3RvckZyb21FbGVtZW50Iiwic2VsZWN0b3IiLCJyZWZsb3ciLCJvZmZzZXRIZWlnaHQiLCJzdXBwb3J0c1RyYW5zaXRpb25FbmQiLCJCb29sZWFuIiwidHlwZUNoZWNrQ29uZmlnIiwiY29tcG9uZW50TmFtZSIsImNvbmZpZyIsImNvbmZpZ1R5cGVzIiwiZXhwZWN0ZWRUeXBlcyIsInZhbHVlVHlwZSIsImVtdWxhdGVUcmFuc2l0aW9uRW5kIiwic3BlY2lhbCIsImpRdWVyeSIsIl90eXBlb2YiLCJNb2RhbCIsIk5BTUUiLCJFVkVOVF9LRVkiLCJKUVVFUllfTk9fQ09ORkxJQ1QiLCJEZWZhdWx0IiwiYmFja2Ryb3AiLCJrZXlib2FyZCIsImZvY3VzIiwic2hvdyIsIkRlZmF1bHRUeXBlIiwiRXZlbnQiLCJISURFIiwiSElEREVOIiwiU0hPVyIsIlNIT1dOIiwiRk9DVVNJTiIsIlJFU0laRSIsIkNMSUNLX0RJU01JU1MiLCJLRVlET1dOX0RJU01JU1MiLCJNT1VTRVVQX0RJU01JU1MiLCJNT1VTRURPV05fRElTTUlTUyIsIkNMSUNLX0RBVEFfQVBJIiwiQ2xhc3NOYW1lIiwiU0NST0xMQkFSX01FQVNVUkVSIiwiQkFDS0RST1AiLCJPUEVOIiwiRkFERSIsIklOIiwiU2VsZWN0b3IiLCJESUFMT0ciLCJEQVRBX1RPR0dMRSIsIkRBVEFfRElTTUlTUyIsIkZJWEVEX0NPTlRFTlQiLCJfY29uZmlnIiwiX2dldENvbmZpZyIsIl9lbGVtZW50IiwiX2RpYWxvZyIsImZpbmQiLCJfYmFja2Ryb3AiLCJfaXNTaG93biIsIl9pc0JvZHlPdmVyZmxvd2luZyIsIl9pZ25vcmVCYWNrZHJvcENsaWNrIiwiX29yaWdpbmFsQm9keVBhZGRpbmciLCJfc2Nyb2xsYmFyV2lkdGgiLCJ0b2dnbGUiLCJyZWxhdGVkVGFyZ2V0IiwiaGlkZSIsInNob3dFdmVudCIsImlzRGVmYXVsdFByZXZlbnRlZCIsIl9jaGVja1Njcm9sbGJhciIsIl9zZXRTY3JvbGxiYXIiLCJfc2V0RXNjYXBlRXZlbnQiLCJfc2V0UmVzaXplRXZlbnQiLCJwcm94eSIsIl9zaG93QmFja2Ryb3AiLCJfc2hvd0VsZW1lbnQiLCJwcmV2ZW50RGVmYXVsdCIsImhpZGVFdmVudCIsIm9mZiIsIl9oaWRlTW9kYWwiLCJkaXNwb3NlIiwicmVtb3ZlRGF0YSIsIk5vZGUiLCJFTEVNRU5UX05PREUiLCJkaXNwbGF5IiwicmVtb3ZlQXR0cmlidXRlIiwiX2VuZm9yY2VGb2N1cyIsInNob3duRXZlbnQiLCJ0cmFuc2l0aW9uQ29tcGxldGUiLCJoYXMiLCJ3aGljaCIsIl9oYW5kbGVVcGRhdGUiLCJfcmVzZXRBZGp1c3RtZW50cyIsIl9yZXNldFNjcm9sbGJhciIsIl9yZW1vdmVCYWNrZHJvcCIsImNhbGxiYWNrIiwiYW5pbWF0ZSIsImRvQW5pbWF0ZSIsImFwcGVuZFRvIiwiY3VycmVudFRhcmdldCIsImNhbGxiYWNrUmVtb3ZlIiwiX2FkanVzdERpYWxvZyIsImlzTW9kYWxPdmVyZmxvd2luZyIsInBhZGRpbmdMZWZ0IiwicGFkZGluZ1JpZ2h0IiwiX2dldFNjcm9sbGJhcldpZHRoIiwiYm9keVBhZGRpbmciLCJwYXJzZUludCIsInNjcm9sbERpdiIsInNjcm9sbGJhcldpZHRoIiwiX2pRdWVyeUludGVyZmFjZSIsImVhY2giLCJkYXRhIiwiJHRhcmdldCIsIm5vQ29uZmxpY3QiLCJUb29sdGlwIiwiYW5pbWF0aW9uIiwidGVtcGxhdGUiLCJ0aXRsZSIsImRlbGF5IiwiaHRtbCIsInBsYWNlbWVudCIsIkF0dGFjaG1lbnRNYXAiLCJUT1AiLCJSSUdIVCIsIkJPVFRPTSIsIkxFRlQiLCJIb3ZlclN0YXRlIiwiT1VUIiwiSU5TRVJURUQiLCJDTElDSyIsIkZPQ1VTT1VUIiwiTU9VU0VFTlRFUiIsIk1PVVNFTEVBVkUiLCJUT09MVElQIiwiVE9PTFRJUF9JTk5FUiIsIlRyaWdnZXIiLCJIT1ZFUiIsIkZPQ1VTIiwiTUFOVUFMIiwiX2lzRW5hYmxlZCIsIl90aW1lb3V0IiwiX2hvdmVyU3RhdGUiLCJfYWN0aXZlVHJpZ2dlciIsIl90ZXRoZXIiLCJ0aXAiLCJfc2V0TGlzdGVuZXJzIiwidG9nZ2xlRW5hYmxlZCIsImRhdGFLZXkiLCJEQVRBX0tFWSIsIl9nZXREZWxlZ2F0ZUNvbmZpZyIsImNsaWNrIiwiX2lzV2l0aEFjdGl2ZVRyaWdnZXIiLCJfZW50ZXIiLCJfbGVhdmUiLCJnZXRUaXBFbGVtZW50IiwiY2xlYW51cFRldGhlciIsImlzV2l0aENvbnRlbnQiLCJpc0luVGhlRG9tIiwidGlwSWQiLCJzZXRDb250ZW50IiwiX2dldEF0dGFjaG1lbnQiLCJjb21wbGV0ZSIsInByZXZIb3ZlclN0YXRlIiwiX1RSQU5TSVRJT05fRFVSQVRJT04iLCJnZXRUaXRsZSIsIiR0aXAiLCJzZXRFbGVtZW50Q29udGVudCIsIiRlbGVtZW50IiwiY29udGVudCIsImVtcHR5IiwiYXBwZW5kIiwidGV4dCIsImRlc3Ryb3kiLCJldmVudEluIiwiZXZlbnRPdXQiLCJfZml4VGl0bGUiLCJ0aXRsZVR5cGUiXSwibWFwcGluZ3MiOiJBQUlBLFFBQUFBLGlCQUFBQyxFQUFBQyxHQUFBLEtBQUFELFlBQUFDLElBQUEsS0FBQSxJQUFBQyxXQUFBLHFDQ0FBLFFBQUFILGlCQUFBQyxFQUFBQyxHQUFBLEtBQUFELFlBQUFDLElBQUEsS0FBQSxJQUFBQyxXQUFBLHNDQ0ZBLFNBQUFDLEVBQUFDLEdBQ0Esa0JBQUFDLFNBQUFBLE9BQUFDLElBQ0FELE9BQUFELEdBQ0EsZ0JBQUFHLFNBQ0FDLE9BQUFELFFBQUFILEVBQUFLLFFBQUFGLFFBQUFDLFFBRUFMLEVBQUFPLE9BQUFOLEtBRUFPLEtBQUEsU0FBQUYsRUFB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QSxHQUFBRyxHQUFBcGYsS0FBQXNiLEdBQ0E5RSxFQUFBeFcsTUFBQWlmLEtBNWVBLGFBNGVBQSxJQUdBLGdCQUFBcEcsSUFBQSxDQUNBLE9BQUFsWCxLQUFBc2QsRUFBQXBHLEdBQ0EsS0FBQSxJQUFBL0wsT0FBQSxvQkFBQStMLEVBQUEsSUFFQW9HLEdBQUFwRyxTQUtBelAsYUFBQWdXLEVBQUEsT0FDQXJhLElBQUEsVUFDQTZILElBQUEsV0FDQSxNQTVmQSxtQkErZkE3SCxJQUFBLFVBQ0E2SCxJQUFBLFdBQ0EsTUFBQTZNLE1BR0ExVSxJQUFBLE9BQ0E2SCxJQUFBLFdBQ0EsTUFBQTBNLE1BR0F2VSxJQUFBLFdBQ0E2SCxJQUFBLFdBQ0EsTUExZ0JBLGdCQTZnQkE3SCxJQUFBLFFBQ0E2SCxJQUFBLFdBQ0EsTUFBQW1OLE1BR0FoVixJQUFBLFlBQ0E2SCxJQUFBLFdBQ0EsTUFBQTJNLE1BR0F4VSxJQUFBLGNBQ0E2SCxJQUFBLFdBQ0EsTUFBQWtOLE9BSUFzRixJQWdCQSxPQVBBNUksR0FBQXBNLEdBQUFrUCxHQUFBOEYsRUFBQUwsaUJBQ0F2SSxFQUFBcE0sR0FBQWtQLEdBQUFoYSxZQUFBOGYsRUFDQTVJLEVBQUFwTSxHQUFBa1AsR0FBQTZGLFdBQUEsV0FFQSxNQURBM0ksR0FBQXBNLEdBQUFrUCxHQUFBRSxFQUNBNEYsRUFBQUwsa0JBR0FLLEdBQ0FqRyIsImZpbGUiOiJzdWl0Y2FzZS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEJvb3RzdHJhcCAodjQuMC4wLWFscGhhLjUpOiBtb2RhbC5qc1xuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cblxudmFyIE1vZGFsID0gZnVuY3Rpb24gKCQpIHtcblxuICAvKipcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqIENvbnN0YW50c1xuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cbiAgdmFyIE5BTUUgPSAnbW9kYWwnO1xuICB2YXIgVkVSU0lPTiA9ICc0LjAuMC1hbHBoYS41JztcbiAgdmFyIERBVEFfS0VZID0gJ2JzLm1vZGFsJztcbiAgdmFyIEVWRU5UX0tFWSA9ICcuJyArIERBVEFfS0VZO1xuICB2YXIgREFUQV9BUElfS0VZID0gJy5kYXRhLWFwaSc7XG4gIHZhciBKUVVFUllfTk9fQ09ORkxJQ1QgPSAkLmZuW05BTUVdO1xuICB2YXIgVFJBTlNJVElPTl9EVVJBVElPTiA9IDMwMDtcbiAgdmFyIEJBQ0tEUk9QX1RSQU5TSVRJT05fRFVSQVRJT04gPSAxNTA7XG4gIHZhciBFU0NBUEVfS0VZQ09ERSA9IDI3OyAvLyBLZXlib2FyZEV2ZW50LndoaWNoIHZhbHVlIGZvciBFc2NhcGUgKEVzYykga2V5XG5cbiAgdmFyIERlZmF1bHQgPSB7XG4gICAgYmFja2Ryb3A6IHRydWUsXG4gICAga2V5Ym9hcmQ6IHRydWUsXG4gICAgZm9jdXM6IHRydWUsXG4gICAgc2hvdzogdHJ1ZVxuICB9O1xuXG4gIHZhciBEZWZhdWx0VHlwZSA9IHtcbiAgICBiYWNrZHJvcDogJyhib29sZWFufHN0cmluZyknLFxuICAgIGtleWJvYXJkOiAnYm9vbGVhbicsXG4gICAgZm9jdXM6ICdib29sZWFuJyxcbiAgICBzaG93OiAnYm9vbGVhbidcbiAgfTtcblxuICB2YXIgRXZlbnQgPSB7XG4gICAgSElERTogJ2hpZGUnICsgRVZFTlRfS0VZLFxuICAgIEhJRERFTjogJ2hpZGRlbicgKyBFVkVOVF9LRVksXG4gICAgU0hPVzogJ3Nob3cnICsgRVZFTlRfS0VZLFxuICAgIFNIT1dOOiAnc2hvd24nICsgRVZFTlRfS0VZLFxuICAgIEZPQ1VTSU46ICdmb2N1c2luJyArIEVWRU5UX0tFWSxcbiAgICBSRVNJWkU6ICdyZXNpemUnICsgRVZFTlRfS0VZLFxuICAgIENMSUNLX0RJU01JU1M6ICdjbGljay5kaXNtaXNzJyArIEVWRU5UX0tFWSxcbiAgICBLRVlET1dOX0RJU01JU1M6ICdrZXlkb3duLmRpc21pc3MnICsgRVZFTlRfS0VZLFxuICAgIE1PVVNFVVBfRElTTUlTUzogJ21vdXNldXAuZGlzbWlzcycgKyBFVkVOVF9LRVksXG4gICAgTU9VU0VET1dOX0RJU01JU1M6ICdtb3VzZWRvd24uZGlzbWlzcycgKyBFVkVOVF9LRVksXG4gICAgQ0xJQ0tfREFUQV9BUEk6ICdjbGljaycgKyBFVkVOVF9LRVkgKyBEQVRBX0FQSV9LRVlcbiAgfTtcblxuICB2YXIgQ2xhc3NOYW1lID0ge1xuICAgIFNDUk9MTEJBUl9NRUFTVVJFUjogJ21vZGFsLXNjcm9sbGJhci1tZWFzdXJlJyxcbiAgICBCQUNLRFJPUDogJ21vZGFsLWJhY2tkcm9wJyxcbiAgICBPUEVOOiAnbW9kYWwtb3BlbicsXG4gICAgRkFERTogJ2ZhZGUnLFxuICAgIElOOiAnaW4nXG4gIH07XG5cbiAgdmFyIFNlbGVjdG9yID0ge1xuICAgIERJQUxPRzogJy5tb2RhbC1kaWFsb2cnLFxuICAgIERBVEFfVE9HR0xFOiAnW2RhdGEtdG9nZ2xlPVwibW9kYWxcIl0nLFxuICAgIERBVEFfRElTTUlTUzogJ1tkYXRhLWRpc21pc3M9XCJtb2RhbFwiXScsXG4gICAgRklYRURfQ09OVEVOVDogJy5uYXZiYXItZml4ZWQtdG9wLCAubmF2YmFyLWZpeGVkLWJvdHRvbSwgLmlzLWZpeGVkJ1xuICB9O1xuXG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogQ2xhc3MgRGVmaW5pdGlvblxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cbiAgdmFyIE1vZGFsID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1vZGFsKGVsZW1lbnQsIGNvbmZpZykge1xuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1vZGFsKTtcblxuICAgICAgdGhpcy5fY29uZmlnID0gdGhpcy5fZ2V0Q29uZmlnKGNvbmZpZyk7XG4gICAgICB0aGlzLl9lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgIHRoaXMuX2RpYWxvZyA9ICQoZWxlbWVudCkuZmluZChTZWxlY3Rvci5ESUFMT0cpWzBdO1xuICAgICAgdGhpcy5fYmFja2Ryb3AgPSBudWxsO1xuICAgICAgdGhpcy5faXNTaG93biA9IGZhbHNlO1xuICAgICAgdGhpcy5faXNCb2R5T3ZlcmZsb3dpbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMuX2lnbm9yZUJhY2tkcm9wQ2xpY2sgPSBmYWxzZTtcbiAgICAgIHRoaXMuX29yaWdpbmFsQm9keVBhZGRpbmcgPSAwO1xuICAgICAgdGhpcy5fc2Nyb2xsYmFyV2lkdGggPSAwO1xuICAgIH1cblxuICAgIC8vIGdldHRlcnNcblxuICAgIC8vIHB1YmxpY1xuXG4gICAgTW9kYWwucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uIHRvZ2dsZShyZWxhdGVkVGFyZ2V0KSB7XG4gICAgICByZXR1cm4gdGhpcy5faXNTaG93biA/IHRoaXMuaGlkZSgpIDogdGhpcy5zaG93KHJlbGF0ZWRUYXJnZXQpO1xuICAgIH07XG5cbiAgICBNb2RhbC5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uIHNob3cocmVsYXRlZFRhcmdldCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIHNob3dFdmVudCA9ICQuRXZlbnQoRXZlbnQuU0hPVywge1xuICAgICAgICByZWxhdGVkVGFyZ2V0OiByZWxhdGVkVGFyZ2V0XG4gICAgICB9KTtcblxuICAgICAgJCh0aGlzLl9lbGVtZW50KS50cmlnZ2VyKHNob3dFdmVudCk7XG5cbiAgICAgIGlmICh0aGlzLl9pc1Nob3duIHx8IHNob3dFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2lzU2hvd24gPSB0cnVlO1xuXG4gICAgICB0aGlzLl9jaGVja1Njcm9sbGJhcigpO1xuICAgICAgdGhpcy5fc2V0U2Nyb2xsYmFyKCk7XG5cbiAgICAgICQoZG9jdW1lbnQuYm9keSkuYWRkQ2xhc3MoQ2xhc3NOYW1lLk9QRU4pO1xuXG4gICAgICB0aGlzLl9zZXRFc2NhcGVFdmVudCgpO1xuICAgICAgdGhpcy5fc2V0UmVzaXplRXZlbnQoKTtcblxuICAgICAgJCh0aGlzLl9lbGVtZW50KS5vbihFdmVudC5DTElDS19ESVNNSVNTLCBTZWxlY3Rvci5EQVRBX0RJU01JU1MsICQucHJveHkodGhpcy5oaWRlLCB0aGlzKSk7XG5cbiAgICAgICQodGhpcy5fZGlhbG9nKS5vbihFdmVudC5NT1VTRURPV05fRElTTUlTUywgZnVuY3Rpb24gKCkge1xuICAgICAgICAkKF90aGlzLl9lbGVtZW50KS5vbmUoRXZlbnQuTU9VU0VVUF9ESVNNSVNTLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICBpZiAoJChldmVudC50YXJnZXQpLmlzKF90aGlzLl9lbGVtZW50KSkge1xuICAgICAgICAgICAgX3RoaXMuX2lnbm9yZUJhY2tkcm9wQ2xpY2sgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5fc2hvd0JhY2tkcm9wKCQucHJveHkodGhpcy5fc2hvd0VsZW1lbnQsIHRoaXMsIHJlbGF0ZWRUYXJnZXQpKTtcbiAgICB9O1xuXG4gICAgTW9kYWwucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbiBoaWRlKGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGhpZGVFdmVudCA9ICQuRXZlbnQoRXZlbnQuSElERSk7XG5cbiAgICAgICQodGhpcy5fZWxlbWVudCkudHJpZ2dlcihoaWRlRXZlbnQpO1xuXG4gICAgICBpZiAoIXRoaXMuX2lzU2hvd24gfHwgaGlkZUV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5faXNTaG93biA9IGZhbHNlO1xuXG4gICAgICB0aGlzLl9zZXRFc2NhcGVFdmVudCgpO1xuICAgICAgdGhpcy5fc2V0UmVzaXplRXZlbnQoKTtcblxuICAgICAgJChkb2N1bWVudCkub2ZmKEV2ZW50LkZPQ1VTSU4pO1xuXG4gICAgICAkKHRoaXMuX2VsZW1lbnQpLnJlbW92ZUNsYXNzKENsYXNzTmFtZS5JTik7XG5cbiAgICAgICQodGhpcy5fZWxlbWVudCkub2ZmKEV2ZW50LkNMSUNLX0RJU01JU1MpO1xuICAgICAgJCh0aGlzLl9kaWFsb2cpLm9mZihFdmVudC5NT1VTRURPV05fRElTTUlTUyk7XG5cbiAgICAgIGlmIChVdGlsLnN1cHBvcnRzVHJhbnNpdGlvbkVuZCgpICYmICQodGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MoQ2xhc3NOYW1lLkZBREUpKSB7XG5cbiAgICAgICAgJCh0aGlzLl9lbGVtZW50KS5vbmUoVXRpbC5UUkFOU0lUSU9OX0VORCwgJC5wcm94eSh0aGlzLl9oaWRlTW9kYWwsIHRoaXMpKS5lbXVsYXRlVHJhbnNpdGlvbkVuZChUUkFOU0lUSU9OX0RVUkFUSU9OKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2hpZGVNb2RhbCgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBNb2RhbC5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG4gICAgICAkLnJlbW92ZURhdGEodGhpcy5fZWxlbWVudCwgREFUQV9LRVkpO1xuXG4gICAgICAkKHdpbmRvdykub2ZmKEVWRU5UX0tFWSk7XG4gICAgICAkKGRvY3VtZW50KS5vZmYoRVZFTlRfS0VZKTtcbiAgICAgICQodGhpcy5fZWxlbWVudCkub2ZmKEVWRU5UX0tFWSk7XG4gICAgICAkKHRoaXMuX2JhY2tkcm9wKS5vZmYoRVZFTlRfS0VZKTtcblxuICAgICAgdGhpcy5fY29uZmlnID0gbnVsbDtcbiAgICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xuICAgICAgdGhpcy5fZGlhbG9nID0gbnVsbDtcbiAgICAgIHRoaXMuX2JhY2tkcm9wID0gbnVsbDtcbiAgICAgIHRoaXMuX2lzU2hvd24gPSBudWxsO1xuICAgICAgdGhpcy5faXNCb2R5T3ZlcmZsb3dpbmcgPSBudWxsO1xuICAgICAgdGhpcy5faWdub3JlQmFja2Ryb3BDbGljayA9IG51bGw7XG4gICAgICB0aGlzLl9vcmlnaW5hbEJvZHlQYWRkaW5nID0gbnVsbDtcbiAgICAgIHRoaXMuX3Njcm9sbGJhcldpZHRoID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gcHJpdmF0ZVxuXG4gICAgTW9kYWwucHJvdG90eXBlLl9nZXRDb25maWcgPSBmdW5jdGlvbiBfZ2V0Q29uZmlnKGNvbmZpZykge1xuICAgICAgY29uZmlnID0gJC5leHRlbmQoe30sIERlZmF1bHQsIGNvbmZpZyk7XG4gICAgICBVdGlsLnR5cGVDaGVja0NvbmZpZyhOQU1FLCBjb25maWcsIERlZmF1bHRUeXBlKTtcbiAgICAgIHJldHVybiBjb25maWc7XG4gICAgfTtcblxuICAgIE1vZGFsLnByb3RvdHlwZS5fc2hvd0VsZW1lbnQgPSBmdW5jdGlvbiBfc2hvd0VsZW1lbnQocmVsYXRlZFRhcmdldCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciB0cmFuc2l0aW9uID0gVXRpbC5zdXBwb3J0c1RyYW5zaXRpb25FbmQoKSAmJiAkKHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKENsYXNzTmFtZS5GQURFKTtcblxuICAgICAgaWYgKCF0aGlzLl9lbGVtZW50LnBhcmVudE5vZGUgfHwgdGhpcy5fZWxlbWVudC5wYXJlbnROb2RlLm5vZGVUeXBlICE9PSBOb2RlLkVMRU1FTlRfTk9ERSkge1xuICAgICAgICAvLyBkb24ndCBtb3ZlIG1vZGFscyBkb20gcG9zaXRpb25cbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLl9lbGVtZW50KTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWhpZGRlbicpO1xuICAgICAgdGhpcy5fZWxlbWVudC5zY3JvbGxUb3AgPSAwO1xuXG4gICAgICBpZiAodHJhbnNpdGlvbikge1xuICAgICAgICBVdGlsLnJlZmxvdyh0aGlzLl9lbGVtZW50KTtcbiAgICAgIH1cblxuICAgICAgJCh0aGlzLl9lbGVtZW50KS5hZGRDbGFzcyhDbGFzc05hbWUuSU4pO1xuXG4gICAgICBpZiAodGhpcy5fY29uZmlnLmZvY3VzKSB7XG4gICAgICAgIHRoaXMuX2VuZm9yY2VGb2N1cygpO1xuICAgICAgfVxuXG4gICAgICB2YXIgc2hvd25FdmVudCA9ICQuRXZlbnQoRXZlbnQuU0hPV04sIHtcbiAgICAgICAgcmVsYXRlZFRhcmdldDogcmVsYXRlZFRhcmdldFxuICAgICAgfSk7XG5cbiAgICAgIHZhciB0cmFuc2l0aW9uQ29tcGxldGUgPSBmdW5jdGlvbiB0cmFuc2l0aW9uQ29tcGxldGUoKSB7XG4gICAgICAgIGlmIChfdGhpczIuX2NvbmZpZy5mb2N1cykge1xuICAgICAgICAgIF90aGlzMi5fZWxlbWVudC5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICAgICQoX3RoaXMyLl9lbGVtZW50KS50cmlnZ2VyKHNob3duRXZlbnQpO1xuICAgICAgfTtcblxuICAgICAgaWYgKHRyYW5zaXRpb24pIHtcbiAgICAgICAgJCh0aGlzLl9kaWFsb2cpLm9uZShVdGlsLlRSQU5TSVRJT05fRU5ELCB0cmFuc2l0aW9uQ29tcGxldGUpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKFRSQU5TSVRJT05fRFVSQVRJT04pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHJhbnNpdGlvbkNvbXBsZXRlKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIE1vZGFsLnByb3RvdHlwZS5fZW5mb3JjZUZvY3VzID0gZnVuY3Rpb24gX2VuZm9yY2VGb2N1cygpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICAkKGRvY3VtZW50KS5vZmYoRXZlbnQuRk9DVVNJTikgLy8gZ3VhcmQgYWdhaW5zdCBpbmZpbml0ZSBmb2N1cyBsb29wXG4gICAgICAub24oRXZlbnQuRk9DVVNJTiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmIChkb2N1bWVudCAhPT0gZXZlbnQudGFyZ2V0ICYmIF90aGlzMy5fZWxlbWVudCAhPT0gZXZlbnQudGFyZ2V0ICYmICEkKF90aGlzMy5fZWxlbWVudCkuaGFzKGV2ZW50LnRhcmdldCkubGVuZ3RoKSB7XG4gICAgICAgICAgX3RoaXMzLl9lbGVtZW50LmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBNb2RhbC5wcm90b3R5cGUuX3NldEVzY2FwZUV2ZW50ID0gZnVuY3Rpb24gX3NldEVzY2FwZUV2ZW50KCkge1xuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLl9pc1Nob3duICYmIHRoaXMuX2NvbmZpZy5rZXlib2FyZCkge1xuICAgICAgICAkKHRoaXMuX2VsZW1lbnQpLm9uKEV2ZW50LktFWURPV05fRElTTUlTUywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgaWYgKGV2ZW50LndoaWNoID09PSBFU0NBUEVfS0VZQ09ERSkge1xuICAgICAgICAgICAgX3RoaXM0LmhpZGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmICghdGhpcy5faXNTaG93bikge1xuICAgICAgICAkKHRoaXMuX2VsZW1lbnQpLm9mZihFdmVudC5LRVlET1dOX0RJU01JU1MpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBNb2RhbC5wcm90b3R5cGUuX3NldFJlc2l6ZUV2ZW50ID0gZnVuY3Rpb24gX3NldFJlc2l6ZUV2ZW50KCkge1xuICAgICAgaWYgKHRoaXMuX2lzU2hvd24pIHtcbiAgICAgICAgJCh3aW5kb3cpLm9uKEV2ZW50LlJFU0laRSwgJC5wcm94eSh0aGlzLl9oYW5kbGVVcGRhdGUsIHRoaXMpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICQod2luZG93KS5vZmYoRXZlbnQuUkVTSVpFKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgTW9kYWwucHJvdG90eXBlLl9oaWRlTW9kYWwgPSBmdW5jdGlvbiBfaGlkZU1vZGFsKCkge1xuICAgICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgICB0aGlzLl9zaG93QmFja2Ryb3AoZnVuY3Rpb24gKCkge1xuICAgICAgICAkKGRvY3VtZW50LmJvZHkpLnJlbW92ZUNsYXNzKENsYXNzTmFtZS5PUEVOKTtcbiAgICAgICAgX3RoaXM1Ll9yZXNldEFkanVzdG1lbnRzKCk7XG4gICAgICAgIF90aGlzNS5fcmVzZXRTY3JvbGxiYXIoKTtcbiAgICAgICAgJChfdGhpczUuX2VsZW1lbnQpLnRyaWdnZXIoRXZlbnQuSElEREVOKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBNb2RhbC5wcm90b3R5cGUuX3JlbW92ZUJhY2tkcm9wID0gZnVuY3Rpb24gX3JlbW92ZUJhY2tkcm9wKCkge1xuICAgICAgaWYgKHRoaXMuX2JhY2tkcm9wKSB7XG4gICAgICAgICQodGhpcy5fYmFja2Ryb3ApLnJlbW92ZSgpO1xuICAgICAgICB0aGlzLl9iYWNrZHJvcCA9IG51bGw7XG4gICAgICB9XG4gICAgfTtcblxuICAgIE1vZGFsLnByb3RvdHlwZS5fc2hvd0JhY2tkcm9wID0gZnVuY3Rpb24gX3Nob3dCYWNrZHJvcChjYWxsYmFjaykge1xuICAgICAgdmFyIF90aGlzNiA9IHRoaXM7XG5cbiAgICAgIHZhciBhbmltYXRlID0gJCh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhDbGFzc05hbWUuRkFERSkgPyBDbGFzc05hbWUuRkFERSA6ICcnO1xuXG4gICAgICBpZiAodGhpcy5faXNTaG93biAmJiB0aGlzLl9jb25maWcuYmFja2Ryb3ApIHtcbiAgICAgICAgdmFyIGRvQW5pbWF0ZSA9IFV0aWwuc3VwcG9ydHNUcmFuc2l0aW9uRW5kKCkgJiYgYW5pbWF0ZTtcblxuICAgICAgICB0aGlzLl9iYWNrZHJvcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLl9iYWNrZHJvcC5jbGFzc05hbWUgPSBDbGFzc05hbWUuQkFDS0RST1A7XG5cbiAgICAgICAgaWYgKGFuaW1hdGUpIHtcbiAgICAgICAgICAkKHRoaXMuX2JhY2tkcm9wKS5hZGRDbGFzcyhhbmltYXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgICQodGhpcy5fYmFja2Ryb3ApLmFwcGVuZFRvKGRvY3VtZW50LmJvZHkpO1xuXG4gICAgICAgICQodGhpcy5fZWxlbWVudCkub24oRXZlbnQuQ0xJQ0tfRElTTUlTUywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgaWYgKF90aGlzNi5faWdub3JlQmFja2Ryb3BDbGljaykge1xuICAgICAgICAgICAgX3RoaXM2Ll9pZ25vcmVCYWNrZHJvcENsaWNrID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChldmVudC50YXJnZXQgIT09IGV2ZW50LmN1cnJlbnRUYXJnZXQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKF90aGlzNi5fY29uZmlnLmJhY2tkcm9wID09PSAnc3RhdGljJykge1xuICAgICAgICAgICAgX3RoaXM2Ll9lbGVtZW50LmZvY3VzKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzNi5oaWRlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoZG9BbmltYXRlKSB7XG4gICAgICAgICAgVXRpbC5yZWZsb3codGhpcy5fYmFja2Ryb3ApO1xuICAgICAgICB9XG5cbiAgICAgICAgJCh0aGlzLl9iYWNrZHJvcCkuYWRkQ2xhc3MoQ2xhc3NOYW1lLklOKTtcblxuICAgICAgICBpZiAoIWNhbGxiYWNrKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFkb0FuaW1hdGUpIHtcbiAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgICQodGhpcy5fYmFja2Ryb3ApLm9uZShVdGlsLlRSQU5TSVRJT05fRU5ELCBjYWxsYmFjaykuZW11bGF0ZVRyYW5zaXRpb25FbmQoQkFDS0RST1BfVFJBTlNJVElPTl9EVVJBVElPTik7XG4gICAgICB9IGVsc2UgaWYgKCF0aGlzLl9pc1Nob3duICYmIHRoaXMuX2JhY2tkcm9wKSB7XG4gICAgICAgICQodGhpcy5fYmFja2Ryb3ApLnJlbW92ZUNsYXNzKENsYXNzTmFtZS5JTik7XG5cbiAgICAgICAgdmFyIGNhbGxiYWNrUmVtb3ZlID0gZnVuY3Rpb24gY2FsbGJhY2tSZW1vdmUoKSB7XG4gICAgICAgICAgX3RoaXM2Ll9yZW1vdmVCYWNrZHJvcCgpO1xuICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKFV0aWwuc3VwcG9ydHNUcmFuc2l0aW9uRW5kKCkgJiYgJCh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhDbGFzc05hbWUuRkFERSkpIHtcbiAgICAgICAgICAkKHRoaXMuX2JhY2tkcm9wKS5vbmUoVXRpbC5UUkFOU0lUSU9OX0VORCwgY2FsbGJhY2tSZW1vdmUpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKEJBQ0tEUk9QX1RSQU5TSVRJT05fRFVSQVRJT04pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNhbGxiYWNrUmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIHRoZSBmb2xsb3dpbmcgbWV0aG9kcyBhcmUgdXNlZCB0byBoYW5kbGUgb3ZlcmZsb3dpbmcgbW9kYWxzXG4gICAgLy8gdG9kbyAoZmF0KTogdGhlc2Ugc2hvdWxkIHByb2JhYmx5IGJlIHJlZmFjdG9yZWQgb3V0IG9mIG1vZGFsLmpzXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgTW9kYWwucHJvdG90eXBlLl9oYW5kbGVVcGRhdGUgPSBmdW5jdGlvbiBfaGFuZGxlVXBkYXRlKCkge1xuICAgICAgdGhpcy5fYWRqdXN0RGlhbG9nKCk7XG4gICAgfTtcblxuICAgIE1vZGFsLnByb3RvdHlwZS5fYWRqdXN0RGlhbG9nID0gZnVuY3Rpb24gX2FkanVzdERpYWxvZygpIHtcbiAgICAgIHZhciBpc01vZGFsT3ZlcmZsb3dpbmcgPSB0aGlzLl9lbGVtZW50LnNjcm9sbEhlaWdodCA+IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7XG5cbiAgICAgIGlmICghdGhpcy5faXNCb2R5T3ZlcmZsb3dpbmcgJiYgaXNNb2RhbE92ZXJmbG93aW5nKSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUucGFkZGluZ0xlZnQgPSB0aGlzLl9zY3JvbGxiYXJXaWR0aCArICdweCc7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9pc0JvZHlPdmVyZmxvd2luZyAmJiAhaXNNb2RhbE92ZXJmbG93aW5nKSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUucGFkZGluZ1JpZ2h0ID0gdGhpcy5fc2Nyb2xsYmFyV2lkdGggKyAncHgnO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBNb2RhbC5wcm90b3R5cGUuX3Jlc2V0QWRqdXN0bWVudHMgPSBmdW5jdGlvbiBfcmVzZXRBZGp1c3RtZW50cygpIHtcbiAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUucGFkZGluZ0xlZnQgPSAnJztcbiAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUucGFkZGluZ1JpZ2h0ID0gJyc7XG4gICAgfTtcblxuICAgIE1vZGFsLnByb3RvdHlwZS5fY2hlY2tTY3JvbGxiYXIgPSBmdW5jdGlvbiBfY2hlY2tTY3JvbGxiYXIoKSB7XG4gICAgICB0aGlzLl9pc0JvZHlPdmVyZmxvd2luZyA9IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGggPCB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgIHRoaXMuX3Njcm9sbGJhcldpZHRoID0gdGhpcy5fZ2V0U2Nyb2xsYmFyV2lkdGgoKTtcbiAgICB9O1xuXG4gICAgTW9kYWwucHJvdG90eXBlLl9zZXRTY3JvbGxiYXIgPSBmdW5jdGlvbiBfc2V0U2Nyb2xsYmFyKCkge1xuICAgICAgdmFyIGJvZHlQYWRkaW5nID0gcGFyc2VJbnQoJChTZWxlY3Rvci5GSVhFRF9DT05URU5UKS5jc3MoJ3BhZGRpbmctcmlnaHQnKSB8fCAwLCAxMCk7XG5cbiAgICAgIHRoaXMuX29yaWdpbmFsQm9keVBhZGRpbmcgPSBkb2N1bWVudC5ib2R5LnN0eWxlLnBhZGRpbmdSaWdodCB8fCAnJztcblxuICAgICAgaWYgKHRoaXMuX2lzQm9keU92ZXJmbG93aW5nKSB7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucGFkZGluZ1JpZ2h0ID0gYm9keVBhZGRpbmcgKyB0aGlzLl9zY3JvbGxiYXJXaWR0aCArICdweCc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIE1vZGFsLnByb3RvdHlwZS5fcmVzZXRTY3JvbGxiYXIgPSBmdW5jdGlvbiBfcmVzZXRTY3JvbGxiYXIoKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnBhZGRpbmdSaWdodCA9IHRoaXMuX29yaWdpbmFsQm9keVBhZGRpbmc7XG4gICAgfTtcblxuICAgIE1vZGFsLnByb3RvdHlwZS5fZ2V0U2Nyb2xsYmFyV2lkdGggPSBmdW5jdGlvbiBfZ2V0U2Nyb2xsYmFyV2lkdGgoKSB7XG4gICAgICAvLyB0aHggZC53YWxzaFxuICAgICAgdmFyIHNjcm9sbERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgc2Nyb2xsRGl2LmNsYXNzTmFtZSA9IENsYXNzTmFtZS5TQ1JPTExCQVJfTUVBU1VSRVI7XG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcm9sbERpdik7XG4gICAgICB2YXIgc2Nyb2xsYmFyV2lkdGggPSBzY3JvbGxEaXYub2Zmc2V0V2lkdGggLSBzY3JvbGxEaXYuY2xpZW50V2lkdGg7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHNjcm9sbERpdik7XG4gICAgICByZXR1cm4gc2Nyb2xsYmFyV2lkdGg7XG4gICAgfTtcblxuICAgIC8vIHN0YXRpY1xuXG4gICAgTW9kYWwuX2pRdWVyeUludGVyZmFjZSA9IGZ1bmN0aW9uIF9qUXVlcnlJbnRlcmZhY2UoY29uZmlnLCByZWxhdGVkVGFyZ2V0KSB7XG4gICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRhdGEgPSAkKHRoaXMpLmRhdGEoREFUQV9LRVkpO1xuICAgICAgICB2YXIgX2NvbmZpZyA9ICQuZXh0ZW5kKHt9LCBNb2RhbC5EZWZhdWx0LCAkKHRoaXMpLmRhdGEoKSwgKHR5cGVvZiBjb25maWcgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGNvbmZpZykpID09PSAnb2JqZWN0JyAmJiBjb25maWcpO1xuXG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgIGRhdGEgPSBuZXcgTW9kYWwodGhpcywgX2NvbmZpZyk7XG4gICAgICAgICAgJCh0aGlzKS5kYXRhKERBVEFfS0VZLCBkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGlmIChkYXRhW2NvbmZpZ10gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBtZXRob2QgbmFtZWQgXCInICsgY29uZmlnICsgJ1wiJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRhdGFbY29uZmlnXShyZWxhdGVkVGFyZ2V0KTtcbiAgICAgICAgfSBlbHNlIGlmIChfY29uZmlnLnNob3cpIHtcbiAgICAgICAgICBkYXRhLnNob3cocmVsYXRlZFRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfY3JlYXRlQ2xhc3MoTW9kYWwsIG51bGwsIFt7XG4gICAgICBrZXk6ICdWRVJTSU9OJyxcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gVkVSU0lPTjtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6ICdEZWZhdWx0JyxcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gRGVmYXVsdDtcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gTW9kYWw7XG4gIH0oKTtcblxuICAvKipcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqIERhdGEgQXBpIGltcGxlbWVudGF0aW9uXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKi9cblxuICAkKGRvY3VtZW50KS5vbihFdmVudC5DTElDS19EQVRBX0FQSSwgU2VsZWN0b3IuREFUQV9UT0dHTEUsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIHZhciBfdGhpczcgPSB0aGlzO1xuXG4gICAgdmFyIHRhcmdldCA9IHZvaWQgMDtcbiAgICB2YXIgc2VsZWN0b3IgPSBVdGlsLmdldFNlbGVjdG9yRnJvbUVsZW1lbnQodGhpcyk7XG5cbiAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgIHRhcmdldCA9ICQoc2VsZWN0b3IpWzBdO1xuICAgIH1cblxuICAgIHZhciBjb25maWcgPSAkKHRhcmdldCkuZGF0YShEQVRBX0tFWSkgPyAndG9nZ2xlJyA6ICQuZXh0ZW5kKHt9LCAkKHRhcmdldCkuZGF0YSgpLCAkKHRoaXMpLmRhdGEoKSk7XG5cbiAgICBpZiAodGhpcy50YWdOYW1lID09PSAnQScpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgdmFyICR0YXJnZXQgPSAkKHRhcmdldCkub25lKEV2ZW50LlNIT1csIGZ1bmN0aW9uIChzaG93RXZlbnQpIHtcbiAgICAgIGlmIChzaG93RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgLy8gb25seSByZWdpc3RlciBmb2N1cyByZXN0b3JlciBpZiBtb2RhbCB3aWxsIGFjdHVhbGx5IGdldCBzaG93blxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgICR0YXJnZXQub25lKEV2ZW50LkhJRERFTiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoJChfdGhpczcpLmlzKCc6dmlzaWJsZScpKSB7XG4gICAgICAgICAgX3RoaXM3LmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgTW9kYWwuX2pRdWVyeUludGVyZmFjZS5jYWxsKCQodGFyZ2V0KSwgY29uZmlnLCB0aGlzKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBqUXVlcnlcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG4gICQuZm5bTkFNRV0gPSBNb2RhbC5falF1ZXJ5SW50ZXJmYWNlO1xuICAkLmZuW05BTUVdLkNvbnN0cnVjdG9yID0gTW9kYWw7XG4gICQuZm5bTkFNRV0ubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuW05BTUVdID0gSlFVRVJZX05PX0NPTkZMSUNUO1xuICAgIHJldHVybiBNb2RhbC5falF1ZXJ5SW50ZXJmYWNlO1xuICB9O1xuXG4gIHJldHVybiBNb2RhbDtcbn0oalF1ZXJ5KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1vZGFsLmpzLm1hcFxuIiwidmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBCb290c3RyYXAgKHY0LjAuMC1hbHBoYS41KTogdG9vbHRpcC5qc1xuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cblxudmFyIFRvb2x0aXAgPSBmdW5jdGlvbiAoJCkge1xuXG4gIC8qKlxuICAgKiBDaGVjayBmb3IgVGV0aGVyIGRlcGVuZGVuY3lcbiAgICogVGV0aGVyIC0gaHR0cDovL3RldGhlci5pby9cbiAgICovXG4gIGlmICh3aW5kb3cuVGV0aGVyID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Jvb3RzdHJhcCB0b29sdGlwcyByZXF1aXJlIFRldGhlciAoaHR0cDovL3RldGhlci5pby8pJyk7XG4gIH1cblxuICAvKipcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqIENvbnN0YW50c1xuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cbiAgdmFyIE5BTUUgPSAndG9vbHRpcCc7XG4gIHZhciBWRVJTSU9OID0gJzQuMC4wLWFscGhhLjUnO1xuICB2YXIgREFUQV9LRVkgPSAnYnMudG9vbHRpcCc7XG4gIHZhciBFVkVOVF9LRVkgPSAnLicgKyBEQVRBX0tFWTtcbiAgdmFyIEpRVUVSWV9OT19DT05GTElDVCA9ICQuZm5bTkFNRV07XG4gIHZhciBUUkFOU0lUSU9OX0RVUkFUSU9OID0gMTUwO1xuICB2YXIgQ0xBU1NfUFJFRklYID0gJ2JzLXRldGhlcic7XG5cbiAgdmFyIERlZmF1bHQgPSB7XG4gICAgYW5pbWF0aW9uOiB0cnVlLFxuICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cInRvb2x0aXBcIiByb2xlPVwidG9vbHRpcFwiPicgKyAnPGRpdiBjbGFzcz1cInRvb2x0aXAtaW5uZXJcIj48L2Rpdj48L2Rpdj4nLFxuICAgIHRyaWdnZXI6ICdob3ZlciBmb2N1cycsXG4gICAgdGl0bGU6ICcnLFxuICAgIGRlbGF5OiAwLFxuICAgIGh0bWw6IGZhbHNlLFxuICAgIHNlbGVjdG9yOiBmYWxzZSxcbiAgICBwbGFjZW1lbnQ6ICd0b3AnLFxuICAgIG9mZnNldDogJzAgMCcsXG4gICAgY29uc3RyYWludHM6IFtdXG4gIH07XG5cbiAgdmFyIERlZmF1bHRUeXBlID0ge1xuICAgIGFuaW1hdGlvbjogJ2Jvb2xlYW4nLFxuICAgIHRlbXBsYXRlOiAnc3RyaW5nJyxcbiAgICB0aXRsZTogJyhzdHJpbmd8ZWxlbWVudHxmdW5jdGlvbiknLFxuICAgIHRyaWdnZXI6ICdzdHJpbmcnLFxuICAgIGRlbGF5OiAnKG51bWJlcnxvYmplY3QpJyxcbiAgICBodG1sOiAnYm9vbGVhbicsXG4gICAgc2VsZWN0b3I6ICcoc3RyaW5nfGJvb2xlYW4pJyxcbiAgICBwbGFjZW1lbnQ6ICcoc3RyaW5nfGZ1bmN0aW9uKScsXG4gICAgb2Zmc2V0OiAnc3RyaW5nJyxcbiAgICBjb25zdHJhaW50czogJ2FycmF5J1xuICB9O1xuXG4gIHZhciBBdHRhY2htZW50TWFwID0ge1xuICAgIFRPUDogJ2JvdHRvbSBjZW50ZXInLFxuICAgIFJJR0hUOiAnbWlkZGxlIGxlZnQnLFxuICAgIEJPVFRPTTogJ3RvcCBjZW50ZXInLFxuICAgIExFRlQ6ICdtaWRkbGUgcmlnaHQnXG4gIH07XG5cbiAgdmFyIEhvdmVyU3RhdGUgPSB7XG4gICAgSU46ICdpbicsXG4gICAgT1VUOiAnb3V0J1xuICB9O1xuXG4gIHZhciBFdmVudCA9IHtcbiAgICBISURFOiAnaGlkZScgKyBFVkVOVF9LRVksXG4gICAgSElEREVOOiAnaGlkZGVuJyArIEVWRU5UX0tFWSxcbiAgICBTSE9XOiAnc2hvdycgKyBFVkVOVF9LRVksXG4gICAgU0hPV046ICdzaG93bicgKyBFVkVOVF9LRVksXG4gICAgSU5TRVJURUQ6ICdpbnNlcnRlZCcgKyBFVkVOVF9LRVksXG4gICAgQ0xJQ0s6ICdjbGljaycgKyBFVkVOVF9LRVksXG4gICAgRk9DVVNJTjogJ2ZvY3VzaW4nICsgRVZFTlRfS0VZLFxuICAgIEZPQ1VTT1VUOiAnZm9jdXNvdXQnICsgRVZFTlRfS0VZLFxuICAgIE1PVVNFRU5URVI6ICdtb3VzZWVudGVyJyArIEVWRU5UX0tFWSxcbiAgICBNT1VTRUxFQVZFOiAnbW91c2VsZWF2ZScgKyBFVkVOVF9LRVlcbiAgfTtcblxuICB2YXIgQ2xhc3NOYW1lID0ge1xuICAgIEZBREU6ICdmYWRlJyxcbiAgICBJTjogJ2luJ1xuICB9O1xuXG4gIHZhciBTZWxlY3RvciA9IHtcbiAgICBUT09MVElQOiAnLnRvb2x0aXAnLFxuICAgIFRPT0xUSVBfSU5ORVI6ICcudG9vbHRpcC1pbm5lcidcbiAgfTtcblxuICB2YXIgVGV0aGVyQ2xhc3MgPSB7XG4gICAgZWxlbWVudDogZmFsc2UsXG4gICAgZW5hYmxlZDogZmFsc2VcbiAgfTtcblxuICB2YXIgVHJpZ2dlciA9IHtcbiAgICBIT1ZFUjogJ2hvdmVyJyxcbiAgICBGT0NVUzogJ2ZvY3VzJyxcbiAgICBDTElDSzogJ2NsaWNrJyxcbiAgICBNQU5VQUw6ICdtYW51YWwnXG4gIH07XG5cbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBDbGFzcyBEZWZpbml0aW9uXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKi9cblxuICB2YXIgVG9vbHRpcCA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUb29sdGlwKGVsZW1lbnQsIGNvbmZpZykge1xuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRvb2x0aXApO1xuXG4gICAgICAvLyBwcml2YXRlXG4gICAgICB0aGlzLl9pc0VuYWJsZWQgPSB0cnVlO1xuICAgICAgdGhpcy5fdGltZW91dCA9IDA7XG4gICAgICB0aGlzLl9ob3ZlclN0YXRlID0gJyc7XG4gICAgICB0aGlzLl9hY3RpdmVUcmlnZ2VyID0ge307XG4gICAgICB0aGlzLl90ZXRoZXIgPSBudWxsO1xuXG4gICAgICAvLyBwcm90ZWN0ZWRcbiAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICB0aGlzLmNvbmZpZyA9IHRoaXMuX2dldENvbmZpZyhjb25maWcpO1xuICAgICAgdGhpcy50aXAgPSBudWxsO1xuXG4gICAgICB0aGlzLl9zZXRMaXN0ZW5lcnMoKTtcbiAgICB9XG5cbiAgICAvLyBnZXR0ZXJzXG5cbiAgICAvLyBwdWJsaWNcblxuICAgIFRvb2x0aXAucHJvdG90eXBlLmVuYWJsZSA9IGZ1bmN0aW9uIGVuYWJsZSgpIHtcbiAgICAgIHRoaXMuX2lzRW5hYmxlZCA9IHRydWU7XG4gICAgfTtcblxuICAgIFRvb2x0aXAucHJvdG90eXBlLmRpc2FibGUgPSBmdW5jdGlvbiBkaXNhYmxlKCkge1xuICAgICAgdGhpcy5faXNFbmFibGVkID0gZmFsc2U7XG4gICAgfTtcblxuICAgIFRvb2x0aXAucHJvdG90eXBlLnRvZ2dsZUVuYWJsZWQgPSBmdW5jdGlvbiB0b2dnbGVFbmFibGVkKCkge1xuICAgICAgdGhpcy5faXNFbmFibGVkID0gIXRoaXMuX2lzRW5hYmxlZDtcbiAgICB9O1xuXG4gICAgVG9vbHRpcC5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gdG9nZ2xlKGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIGRhdGFLZXkgPSB0aGlzLmNvbnN0cnVjdG9yLkRBVEFfS0VZO1xuICAgICAgICB2YXIgY29udGV4dCA9ICQoZXZlbnQuY3VycmVudFRhcmdldCkuZGF0YShkYXRhS2V5KTtcblxuICAgICAgICBpZiAoIWNvbnRleHQpIHtcbiAgICAgICAgICBjb250ZXh0ID0gbmV3IHRoaXMuY29uc3RydWN0b3IoZXZlbnQuY3VycmVudFRhcmdldCwgdGhpcy5fZ2V0RGVsZWdhdGVDb25maWcoKSk7XG4gICAgICAgICAgJChldmVudC5jdXJyZW50VGFyZ2V0KS5kYXRhKGRhdGFLZXksIGNvbnRleHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5fYWN0aXZlVHJpZ2dlci5jbGljayA9ICFjb250ZXh0Ll9hY3RpdmVUcmlnZ2VyLmNsaWNrO1xuXG4gICAgICAgIGlmIChjb250ZXh0Ll9pc1dpdGhBY3RpdmVUcmlnZ2VyKCkpIHtcbiAgICAgICAgICBjb250ZXh0Ll9lbnRlcihudWxsLCBjb250ZXh0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb250ZXh0Ll9sZWF2ZShudWxsLCBjb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcblxuICAgICAgICBpZiAoJCh0aGlzLmdldFRpcEVsZW1lbnQoKSkuaGFzQ2xhc3MoQ2xhc3NOYW1lLklOKSkge1xuICAgICAgICAgIHRoaXMuX2xlYXZlKG51bGwsIHRoaXMpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2VudGVyKG51bGwsIHRoaXMpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBUb29sdGlwLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gZGlzcG9zZSgpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0KTtcblxuICAgICAgdGhpcy5jbGVhbnVwVGV0aGVyKCk7XG5cbiAgICAgICQucmVtb3ZlRGF0YSh0aGlzLmVsZW1lbnQsIHRoaXMuY29uc3RydWN0b3IuREFUQV9LRVkpO1xuXG4gICAgICAkKHRoaXMuZWxlbWVudCkub2ZmKHRoaXMuY29uc3RydWN0b3IuRVZFTlRfS0VZKTtcblxuICAgICAgaWYgKHRoaXMudGlwKSB7XG4gICAgICAgICQodGhpcy50aXApLnJlbW92ZSgpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9pc0VuYWJsZWQgPSBudWxsO1xuICAgICAgdGhpcy5fdGltZW91dCA9IG51bGw7XG4gICAgICB0aGlzLl9ob3ZlclN0YXRlID0gbnVsbDtcbiAgICAgIHRoaXMuX2FjdGl2ZVRyaWdnZXIgPSBudWxsO1xuICAgICAgdGhpcy5fdGV0aGVyID0gbnVsbDtcblxuICAgICAgdGhpcy5lbGVtZW50ID0gbnVsbDtcbiAgICAgIHRoaXMuY29uZmlnID0gbnVsbDtcbiAgICAgIHRoaXMudGlwID0gbnVsbDtcbiAgICB9O1xuXG4gICAgVG9vbHRpcC5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uIHNob3coKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgc2hvd0V2ZW50ID0gJC5FdmVudCh0aGlzLmNvbnN0cnVjdG9yLkV2ZW50LlNIT1cpO1xuXG4gICAgICBpZiAodGhpcy5pc1dpdGhDb250ZW50KCkgJiYgdGhpcy5faXNFbmFibGVkKSB7XG4gICAgICAgICQodGhpcy5lbGVtZW50KS50cmlnZ2VyKHNob3dFdmVudCk7XG5cbiAgICAgICAgdmFyIGlzSW5UaGVEb20gPSAkLmNvbnRhaW5zKHRoaXMuZWxlbWVudC5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgdGhpcy5lbGVtZW50KTtcblxuICAgICAgICBpZiAoc2hvd0V2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpIHx8ICFpc0luVGhlRG9tKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRpcCA9IHRoaXMuZ2V0VGlwRWxlbWVudCgpO1xuICAgICAgICB2YXIgdGlwSWQgPSBVdGlsLmdldFVJRCh0aGlzLmNvbnN0cnVjdG9yLk5BTUUpO1xuXG4gICAgICAgIHRpcC5zZXRBdHRyaWJ1dGUoJ2lkJywgdGlwSWQpO1xuICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLWRlc2NyaWJlZGJ5JywgdGlwSWQpO1xuXG4gICAgICAgIHRoaXMuc2V0Q29udGVudCgpO1xuXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5hbmltYXRpb24pIHtcbiAgICAgICAgICAkKHRpcCkuYWRkQ2xhc3MoQ2xhc3NOYW1lLkZBREUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBsYWNlbWVudCA9IHR5cGVvZiB0aGlzLmNvbmZpZy5wbGFjZW1lbnQgPT09ICdmdW5jdGlvbicgPyB0aGlzLmNvbmZpZy5wbGFjZW1lbnQuY2FsbCh0aGlzLCB0aXAsIHRoaXMuZWxlbWVudCkgOiB0aGlzLmNvbmZpZy5wbGFjZW1lbnQ7XG5cbiAgICAgICAgdmFyIGF0dGFjaG1lbnQgPSB0aGlzLl9nZXRBdHRhY2htZW50KHBsYWNlbWVudCk7XG5cbiAgICAgICAgJCh0aXApLmRhdGEodGhpcy5jb25zdHJ1Y3Rvci5EQVRBX0tFWSwgdGhpcykuYXBwZW5kVG8oZG9jdW1lbnQuYm9keSk7XG5cbiAgICAgICAgJCh0aGlzLmVsZW1lbnQpLnRyaWdnZXIodGhpcy5jb25zdHJ1Y3Rvci5FdmVudC5JTlNFUlRFRCk7XG5cbiAgICAgICAgdGhpcy5fdGV0aGVyID0gbmV3IFRldGhlcih7XG4gICAgICAgICAgYXR0YWNobWVudDogYXR0YWNobWVudCxcbiAgICAgICAgICBlbGVtZW50OiB0aXAsXG4gICAgICAgICAgdGFyZ2V0OiB0aGlzLmVsZW1lbnQsXG4gICAgICAgICAgY2xhc3NlczogVGV0aGVyQ2xhc3MsXG4gICAgICAgICAgY2xhc3NQcmVmaXg6IENMQVNTX1BSRUZJWCxcbiAgICAgICAgICBvZmZzZXQ6IHRoaXMuY29uZmlnLm9mZnNldCxcbiAgICAgICAgICBjb25zdHJhaW50czogdGhpcy5jb25maWcuY29uc3RyYWludHMsXG4gICAgICAgICAgYWRkVGFyZ2V0Q2xhc3NlczogZmFsc2VcbiAgICAgICAgfSk7XG5cbiAgICAgICAgVXRpbC5yZWZsb3codGlwKTtcbiAgICAgICAgdGhpcy5fdGV0aGVyLnBvc2l0aW9uKCk7XG5cbiAgICAgICAgJCh0aXApLmFkZENsYXNzKENsYXNzTmFtZS5JTik7XG5cbiAgICAgICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gY29tcGxldGUoKSB7XG4gICAgICAgICAgdmFyIHByZXZIb3ZlclN0YXRlID0gX3RoaXMuX2hvdmVyU3RhdGU7XG4gICAgICAgICAgX3RoaXMuX2hvdmVyU3RhdGUgPSBudWxsO1xuXG4gICAgICAgICAgJChfdGhpcy5lbGVtZW50KS50cmlnZ2VyKF90aGlzLmNvbnN0cnVjdG9yLkV2ZW50LlNIT1dOKTtcblxuICAgICAgICAgIGlmIChwcmV2SG92ZXJTdGF0ZSA9PT0gSG92ZXJTdGF0ZS5PVVQpIHtcbiAgICAgICAgICAgIF90aGlzLl9sZWF2ZShudWxsLCBfdGhpcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChVdGlsLnN1cHBvcnRzVHJhbnNpdGlvbkVuZCgpICYmICQodGhpcy50aXApLmhhc0NsYXNzKENsYXNzTmFtZS5GQURFKSkge1xuICAgICAgICAgICQodGhpcy50aXApLm9uZShVdGlsLlRSQU5TSVRJT05fRU5ELCBjb21wbGV0ZSkuZW11bGF0ZVRyYW5zaXRpb25FbmQoVG9vbHRpcC5fVFJBTlNJVElPTl9EVVJBVElPTik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29tcGxldGUoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgVG9vbHRpcC5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uIGhpZGUoY2FsbGJhY2spIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgdGlwID0gdGhpcy5nZXRUaXBFbGVtZW50KCk7XG4gICAgICB2YXIgaGlkZUV2ZW50ID0gJC5FdmVudCh0aGlzLmNvbnN0cnVjdG9yLkV2ZW50LkhJREUpO1xuICAgICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gY29tcGxldGUoKSB7XG4gICAgICAgIGlmIChfdGhpczIuX2hvdmVyU3RhdGUgIT09IEhvdmVyU3RhdGUuSU4gJiYgdGlwLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICB0aXAucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aXApO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMyLmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWRlc2NyaWJlZGJ5Jyk7XG4gICAgICAgICQoX3RoaXMyLmVsZW1lbnQpLnRyaWdnZXIoX3RoaXMyLmNvbnN0cnVjdG9yLkV2ZW50LkhJRERFTik7XG4gICAgICAgIF90aGlzMi5jbGVhbnVwVGV0aGVyKCk7XG5cbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgJCh0aGlzLmVsZW1lbnQpLnRyaWdnZXIoaGlkZUV2ZW50KTtcblxuICAgICAgaWYgKGhpZGVFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgICQodGlwKS5yZW1vdmVDbGFzcyhDbGFzc05hbWUuSU4pO1xuXG4gICAgICBpZiAoVXRpbC5zdXBwb3J0c1RyYW5zaXRpb25FbmQoKSAmJiAkKHRoaXMudGlwKS5oYXNDbGFzcyhDbGFzc05hbWUuRkFERSkpIHtcblxuICAgICAgICAkKHRpcCkub25lKFV0aWwuVFJBTlNJVElPTl9FTkQsIGNvbXBsZXRlKS5lbXVsYXRlVHJhbnNpdGlvbkVuZChUUkFOU0lUSU9OX0RVUkFUSU9OKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbXBsZXRlKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2hvdmVyU3RhdGUgPSAnJztcbiAgICB9O1xuXG4gICAgLy8gcHJvdGVjdGVkXG5cbiAgICBUb29sdGlwLnByb3RvdHlwZS5pc1dpdGhDb250ZW50ID0gZnVuY3Rpb24gaXNXaXRoQ29udGVudCgpIHtcbiAgICAgIHJldHVybiBCb29sZWFuKHRoaXMuZ2V0VGl0bGUoKSk7XG4gICAgfTtcblxuICAgIFRvb2x0aXAucHJvdG90eXBlLmdldFRpcEVsZW1lbnQgPSBmdW5jdGlvbiBnZXRUaXBFbGVtZW50KCkge1xuICAgICAgcmV0dXJuIHRoaXMudGlwID0gdGhpcy50aXAgfHwgJCh0aGlzLmNvbmZpZy50ZW1wbGF0ZSlbMF07XG4gICAgfTtcblxuICAgIFRvb2x0aXAucHJvdG90eXBlLnNldENvbnRlbnQgPSBmdW5jdGlvbiBzZXRDb250ZW50KCkge1xuICAgICAgdmFyICR0aXAgPSAkKHRoaXMuZ2V0VGlwRWxlbWVudCgpKTtcblxuICAgICAgdGhpcy5zZXRFbGVtZW50Q29udGVudCgkdGlwLmZpbmQoU2VsZWN0b3IuVE9PTFRJUF9JTk5FUiksIHRoaXMuZ2V0VGl0bGUoKSk7XG5cbiAgICAgICR0aXAucmVtb3ZlQ2xhc3MoQ2xhc3NOYW1lLkZBREUpLnJlbW92ZUNsYXNzKENsYXNzTmFtZS5JTik7XG5cbiAgICAgIHRoaXMuY2xlYW51cFRldGhlcigpO1xuICAgIH07XG5cbiAgICBUb29sdGlwLnByb3RvdHlwZS5zZXRFbGVtZW50Q29udGVudCA9IGZ1bmN0aW9uIHNldEVsZW1lbnRDb250ZW50KCRlbGVtZW50LCBjb250ZW50KSB7XG4gICAgICB2YXIgaHRtbCA9IHRoaXMuY29uZmlnLmh0bWw7XG4gICAgICBpZiAoKHR5cGVvZiBjb250ZW50ID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihjb250ZW50KSkgPT09ICdvYmplY3QnICYmIChjb250ZW50Lm5vZGVUeXBlIHx8IGNvbnRlbnQuanF1ZXJ5KSkge1xuICAgICAgICAvLyBjb250ZW50IGlzIGEgRE9NIG5vZGUgb3IgYSBqUXVlcnlcbiAgICAgICAgaWYgKGh0bWwpIHtcbiAgICAgICAgICBpZiAoISQoY29udGVudCkucGFyZW50KCkuaXMoJGVsZW1lbnQpKSB7XG4gICAgICAgICAgICAkZWxlbWVudC5lbXB0eSgpLmFwcGVuZChjb250ZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJGVsZW1lbnQudGV4dCgkKGNvbnRlbnQpLnRleHQoKSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICRlbGVtZW50W2h0bWwgPyAnaHRtbCcgOiAndGV4dCddKGNvbnRlbnQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBUb29sdGlwLnByb3RvdHlwZS5nZXRUaXRsZSA9IGZ1bmN0aW9uIGdldFRpdGxlKCkge1xuICAgICAgdmFyIHRpdGxlID0gdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1vcmlnaW5hbC10aXRsZScpO1xuXG4gICAgICBpZiAoIXRpdGxlKSB7XG4gICAgICAgIHRpdGxlID0gdHlwZW9mIHRoaXMuY29uZmlnLnRpdGxlID09PSAnZnVuY3Rpb24nID8gdGhpcy5jb25maWcudGl0bGUuY2FsbCh0aGlzLmVsZW1lbnQpIDogdGhpcy5jb25maWcudGl0bGU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aXRsZTtcbiAgICB9O1xuXG4gICAgVG9vbHRpcC5wcm90b3R5cGUuY2xlYW51cFRldGhlciA9IGZ1bmN0aW9uIGNsZWFudXBUZXRoZXIoKSB7XG4gICAgICBpZiAodGhpcy5fdGV0aGVyKSB7XG4gICAgICAgIHRoaXMuX3RldGhlci5kZXN0cm95KCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIHByaXZhdGVcblxuICAgIFRvb2x0aXAucHJvdG90eXBlLl9nZXRBdHRhY2htZW50ID0gZnVuY3Rpb24gX2dldEF0dGFjaG1lbnQocGxhY2VtZW50KSB7XG4gICAgICByZXR1cm4gQXR0YWNobWVudE1hcFtwbGFjZW1lbnQudG9VcHBlckNhc2UoKV07XG4gICAgfTtcblxuICAgIFRvb2x0aXAucHJvdG90eXBlLl9zZXRMaXN0ZW5lcnMgPSBmdW5jdGlvbiBfc2V0TGlzdGVuZXJzKCkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIHZhciB0cmlnZ2VycyA9IHRoaXMuY29uZmlnLnRyaWdnZXIuc3BsaXQoJyAnKTtcblxuICAgICAgdHJpZ2dlcnMuZm9yRWFjaChmdW5jdGlvbiAodHJpZ2dlcikge1xuICAgICAgICBpZiAodHJpZ2dlciA9PT0gJ2NsaWNrJykge1xuICAgICAgICAgICQoX3RoaXMzLmVsZW1lbnQpLm9uKF90aGlzMy5jb25zdHJ1Y3Rvci5FdmVudC5DTElDSywgX3RoaXMzLmNvbmZpZy5zZWxlY3RvciwgJC5wcm94eShfdGhpczMudG9nZ2xlLCBfdGhpczMpKTtcbiAgICAgICAgfSBlbHNlIGlmICh0cmlnZ2VyICE9PSBUcmlnZ2VyLk1BTlVBTCkge1xuICAgICAgICAgIHZhciBldmVudEluID0gdHJpZ2dlciA9PT0gVHJpZ2dlci5IT1ZFUiA/IF90aGlzMy5jb25zdHJ1Y3Rvci5FdmVudC5NT1VTRUVOVEVSIDogX3RoaXMzLmNvbnN0cnVjdG9yLkV2ZW50LkZPQ1VTSU47XG4gICAgICAgICAgdmFyIGV2ZW50T3V0ID0gdHJpZ2dlciA9PT0gVHJpZ2dlci5IT1ZFUiA/IF90aGlzMy5jb25zdHJ1Y3Rvci5FdmVudC5NT1VTRUxFQVZFIDogX3RoaXMzLmNvbnN0cnVjdG9yLkV2ZW50LkZPQ1VTT1VUO1xuXG4gICAgICAgICAgJChfdGhpczMuZWxlbWVudCkub24oZXZlbnRJbiwgX3RoaXMzLmNvbmZpZy5zZWxlY3RvciwgJC5wcm94eShfdGhpczMuX2VudGVyLCBfdGhpczMpKS5vbihldmVudE91dCwgX3RoaXMzLmNvbmZpZy5zZWxlY3RvciwgJC5wcm94eShfdGhpczMuX2xlYXZlLCBfdGhpczMpKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmICh0aGlzLmNvbmZpZy5zZWxlY3Rvcikge1xuICAgICAgICB0aGlzLmNvbmZpZyA9ICQuZXh0ZW5kKHt9LCB0aGlzLmNvbmZpZywge1xuICAgICAgICAgIHRyaWdnZXI6ICdtYW51YWwnLFxuICAgICAgICAgIHNlbGVjdG9yOiAnJ1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2ZpeFRpdGxlKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIFRvb2x0aXAucHJvdG90eXBlLl9maXhUaXRsZSA9IGZ1bmN0aW9uIF9maXhUaXRsZSgpIHtcbiAgICAgIHZhciB0aXRsZVR5cGUgPSBfdHlwZW9mKHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnKSk7XG4gICAgICBpZiAodGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZSgndGl0bGUnKSB8fCB0aXRsZVR5cGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnLCB0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKCd0aXRsZScpIHx8ICcnKTtcbiAgICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgndGl0bGUnLCAnJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIFRvb2x0aXAucHJvdG90eXBlLl9lbnRlciA9IGZ1bmN0aW9uIF9lbnRlcihldmVudCwgY29udGV4dCkge1xuICAgICAgdmFyIGRhdGFLZXkgPSB0aGlzLmNvbnN0cnVjdG9yLkRBVEFfS0VZO1xuXG4gICAgICBjb250ZXh0ID0gY29udGV4dCB8fCAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLmRhdGEoZGF0YUtleSk7XG5cbiAgICAgIGlmICghY29udGV4dCkge1xuICAgICAgICBjb250ZXh0ID0gbmV3IHRoaXMuY29uc3RydWN0b3IoZXZlbnQuY3VycmVudFRhcmdldCwgdGhpcy5fZ2V0RGVsZWdhdGVDb25maWcoKSk7XG4gICAgICAgICQoZXZlbnQuY3VycmVudFRhcmdldCkuZGF0YShkYXRhS2V5LCBjb250ZXh0KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGV2ZW50KSB7XG4gICAgICAgIGNvbnRleHQuX2FjdGl2ZVRyaWdnZXJbZXZlbnQudHlwZSA9PT0gJ2ZvY3VzaW4nID8gVHJpZ2dlci5GT0NVUyA6IFRyaWdnZXIuSE9WRVJdID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCQoY29udGV4dC5nZXRUaXBFbGVtZW50KCkpLmhhc0NsYXNzKENsYXNzTmFtZS5JTikgfHwgY29udGV4dC5faG92ZXJTdGF0ZSA9PT0gSG92ZXJTdGF0ZS5JTikge1xuICAgICAgICBjb250ZXh0Ll9ob3ZlclN0YXRlID0gSG92ZXJTdGF0ZS5JTjtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjbGVhclRpbWVvdXQoY29udGV4dC5fdGltZW91dCk7XG5cbiAgICAgIGNvbnRleHQuX2hvdmVyU3RhdGUgPSBIb3ZlclN0YXRlLklOO1xuXG4gICAgICBpZiAoIWNvbnRleHQuY29uZmlnLmRlbGF5IHx8ICFjb250ZXh0LmNvbmZpZy5kZWxheS5zaG93KSB7XG4gICAgICAgIGNvbnRleHQuc2hvdygpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnRleHQuX3RpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGNvbnRleHQuX2hvdmVyU3RhdGUgPT09IEhvdmVyU3RhdGUuSU4pIHtcbiAgICAgICAgICBjb250ZXh0LnNob3coKTtcbiAgICAgICAgfVxuICAgICAgfSwgY29udGV4dC5jb25maWcuZGVsYXkuc2hvdyk7XG4gICAgfTtcblxuICAgIFRvb2x0aXAucHJvdG90eXBlLl9sZWF2ZSA9IGZ1bmN0aW9uIF9sZWF2ZShldmVudCwgY29udGV4dCkge1xuICAgICAgdmFyIGRhdGFLZXkgPSB0aGlzLmNvbnN0cnVjdG9yLkRBVEFfS0VZO1xuXG4gICAgICBjb250ZXh0ID0gY29udGV4dCB8fCAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLmRhdGEoZGF0YUtleSk7XG5cbiAgICAgIGlmICghY29udGV4dCkge1xuICAgICAgICBjb250ZXh0ID0gbmV3IHRoaXMuY29uc3RydWN0b3IoZXZlbnQuY3VycmVudFRhcmdldCwgdGhpcy5fZ2V0RGVsZWdhdGVDb25maWcoKSk7XG4gICAgICAgICQoZXZlbnQuY3VycmVudFRhcmdldCkuZGF0YShkYXRhS2V5LCBjb250ZXh0KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGV2ZW50KSB7XG4gICAgICAgIGNvbnRleHQuX2FjdGl2ZVRyaWdnZXJbZXZlbnQudHlwZSA9PT0gJ2ZvY3Vzb3V0JyA/IFRyaWdnZXIuRk9DVVMgOiBUcmlnZ2VyLkhPVkVSXSA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAoY29udGV4dC5faXNXaXRoQWN0aXZlVHJpZ2dlcigpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY2xlYXJUaW1lb3V0KGNvbnRleHQuX3RpbWVvdXQpO1xuXG4gICAgICBjb250ZXh0Ll9ob3ZlclN0YXRlID0gSG92ZXJTdGF0ZS5PVVQ7XG5cbiAgICAgIGlmICghY29udGV4dC5jb25maWcuZGVsYXkgfHwgIWNvbnRleHQuY29uZmlnLmRlbGF5LmhpZGUpIHtcbiAgICAgICAgY29udGV4dC5oaWRlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29udGV4dC5fdGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoY29udGV4dC5faG92ZXJTdGF0ZSA9PT0gSG92ZXJTdGF0ZS5PVVQpIHtcbiAgICAgICAgICBjb250ZXh0LmhpZGUoKTtcbiAgICAgICAgfVxuICAgICAgfSwgY29udGV4dC5jb25maWcuZGVsYXkuaGlkZSk7XG4gICAgfTtcblxuICAgIFRvb2x0aXAucHJvdG90eXBlLl9pc1dpdGhBY3RpdmVUcmlnZ2VyID0gZnVuY3Rpb24gX2lzV2l0aEFjdGl2ZVRyaWdnZXIoKSB7XG4gICAgICBmb3IgKHZhciB0cmlnZ2VyIGluIHRoaXMuX2FjdGl2ZVRyaWdnZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZVRyaWdnZXJbdHJpZ2dlcl0pIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIFRvb2x0aXAucHJvdG90eXBlLl9nZXRDb25maWcgPSBmdW5jdGlvbiBfZ2V0Q29uZmlnKGNvbmZpZykge1xuICAgICAgY29uZmlnID0gJC5leHRlbmQoe30sIHRoaXMuY29uc3RydWN0b3IuRGVmYXVsdCwgJCh0aGlzLmVsZW1lbnQpLmRhdGEoKSwgY29uZmlnKTtcblxuICAgICAgaWYgKGNvbmZpZy5kZWxheSAmJiB0eXBlb2YgY29uZmlnLmRlbGF5ID09PSAnbnVtYmVyJykge1xuICAgICAgICBjb25maWcuZGVsYXkgPSB7XG4gICAgICAgICAgc2hvdzogY29uZmlnLmRlbGF5LFxuICAgICAgICAgIGhpZGU6IGNvbmZpZy5kZWxheVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBVdGlsLnR5cGVDaGVja0NvbmZpZyhOQU1FLCBjb25maWcsIHRoaXMuY29uc3RydWN0b3IuRGVmYXVsdFR5cGUpO1xuXG4gICAgICByZXR1cm4gY29uZmlnO1xuICAgIH07XG5cbiAgICBUb29sdGlwLnByb3RvdHlwZS5fZ2V0RGVsZWdhdGVDb25maWcgPSBmdW5jdGlvbiBfZ2V0RGVsZWdhdGVDb25maWcoKSB7XG4gICAgICB2YXIgY29uZmlnID0ge307XG5cbiAgICAgIGlmICh0aGlzLmNvbmZpZykge1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5jb25maWcpIHtcbiAgICAgICAgICBpZiAodGhpcy5jb25zdHJ1Y3Rvci5EZWZhdWx0W2tleV0gIT09IHRoaXMuY29uZmlnW2tleV0pIHtcbiAgICAgICAgICAgIGNvbmZpZ1trZXldID0gdGhpcy5jb25maWdba2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICB9O1xuXG4gICAgLy8gc3RhdGljXG5cbiAgICBUb29sdGlwLl9qUXVlcnlJbnRlcmZhY2UgPSBmdW5jdGlvbiBfalF1ZXJ5SW50ZXJmYWNlKGNvbmZpZykge1xuICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkYXRhID0gJCh0aGlzKS5kYXRhKERBVEFfS0VZKTtcbiAgICAgICAgdmFyIF9jb25maWcgPSAodHlwZW9mIGNvbmZpZyA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoY29uZmlnKSkgPT09ICdvYmplY3QnID8gY29uZmlnIDogbnVsbDtcblxuICAgICAgICBpZiAoIWRhdGEgJiYgL2Rpc3Bvc2V8aGlkZS8udGVzdChjb25maWcpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgZGF0YSA9IG5ldyBUb29sdGlwKHRoaXMsIF9jb25maWcpO1xuICAgICAgICAgICQodGhpcykuZGF0YShEQVRBX0tFWSwgZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIGNvbmZpZyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBpZiAoZGF0YVtjb25maWddID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gbWV0aG9kIG5hbWVkIFwiJyArIGNvbmZpZyArICdcIicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkYXRhW2NvbmZpZ10oKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF9jcmVhdGVDbGFzcyhUb29sdGlwLCBudWxsLCBbe1xuICAgICAga2V5OiAnVkVSU0lPTicsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIFZFUlNJT047XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiAnRGVmYXVsdCcsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIERlZmF1bHQ7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiAnTkFNRScsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIE5BTUU7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiAnREFUQV9LRVknLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBEQVRBX0tFWTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6ICdFdmVudCcsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIEV2ZW50O1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogJ0VWRU5UX0tFWScsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIEVWRU5UX0tFWTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6ICdEZWZhdWx0VHlwZScsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIERlZmF1bHRUeXBlO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBUb29sdGlwO1xuICB9KCk7XG5cbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBqUXVlcnlcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG4gICQuZm5bTkFNRV0gPSBUb29sdGlwLl9qUXVlcnlJbnRlcmZhY2U7XG4gICQuZm5bTkFNRV0uQ29uc3RydWN0b3IgPSBUb29sdGlwO1xuICAkLmZuW05BTUVdLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbltOQU1FXSA9IEpRVUVSWV9OT19DT05GTElDVDtcbiAgICByZXR1cm4gVG9vbHRpcC5falF1ZXJ5SW50ZXJmYWNlO1xuICB9O1xuXG4gIHJldHVybiBUb29sdGlwO1xufShqUXVlcnkpOyAvKiBnbG9iYWwgVGV0aGVyICovXG4vLyMgc291cmNlTWFwcGluZ1VSTD10b29sdGlwLmpzLm1hcFxuIiwiLyohIHRldGhlciAxLjQuMCAqL1xuXG4oZnVuY3Rpb24ocm9vdCwgZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgZGVmaW5lKGZhY3RvcnkpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpO1xuICB9IGVsc2Uge1xuICAgIHJvb3QuVGV0aGVyID0gZmFjdG9yeSgpO1xuICB9XG59KHRoaXMsIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7IH0gfVxuXG52YXIgVGV0aGVyQmFzZSA9IHVuZGVmaW5lZDtcbmlmICh0eXBlb2YgVGV0aGVyQmFzZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgVGV0aGVyQmFzZSA9IHsgbW9kdWxlczogW10gfTtcbn1cblxudmFyIHplcm9FbGVtZW50ID0gbnVsbDtcblxuLy8gU2FtZSBhcyBuYXRpdmUgZ2V0Qm91bmRpbmdDbGllbnRSZWN0LCBleGNlcHQgaXQgdGFrZXMgaW50byBhY2NvdW50IHBhcmVudCA8ZnJhbWU+IG9mZnNldHNcbi8vIGlmIHRoZSBlbGVtZW50IGxpZXMgd2l0aGluIGEgbmVzdGVkIGRvY3VtZW50ICg8ZnJhbWU+IG9yIDxpZnJhbWU+LWxpa2UpLlxuZnVuY3Rpb24gZ2V0QWN0dWFsQm91bmRpbmdDbGllbnRSZWN0KG5vZGUpIHtcbiAgdmFyIGJvdW5kaW5nUmVjdCA9IG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgLy8gVGhlIG9yaWdpbmFsIG9iamVjdCByZXR1cm5lZCBieSBnZXRCb3VuZGluZ0NsaWVudFJlY3QgaXMgaW1tdXRhYmxlLCBzbyB3ZSBjbG9uZSBpdFxuICAvLyBXZSBjYW4ndCB1c2UgZXh0ZW5kIGJlY2F1c2UgdGhlIHByb3BlcnRpZXMgYXJlIG5vdCBjb25zaWRlcmVkIHBhcnQgb2YgdGhlIG9iamVjdCBieSBoYXNPd25Qcm9wZXJ0eSBpbiBJRTlcbiAgdmFyIHJlY3QgPSB7fTtcbiAgZm9yICh2YXIgayBpbiBib3VuZGluZ1JlY3QpIHtcbiAgICByZWN0W2tdID0gYm91bmRpbmdSZWN0W2tdO1xuICB9XG5cbiAgaWYgKG5vZGUub3duZXJEb2N1bWVudCAhPT0gZG9jdW1lbnQpIHtcbiAgICB2YXIgX2ZyYW1lRWxlbWVudCA9IG5vZGUub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5mcmFtZUVsZW1lbnQ7XG4gICAgaWYgKF9mcmFtZUVsZW1lbnQpIHtcbiAgICAgIHZhciBmcmFtZVJlY3QgPSBnZXRBY3R1YWxCb3VuZGluZ0NsaWVudFJlY3QoX2ZyYW1lRWxlbWVudCk7XG4gICAgICByZWN0LnRvcCArPSBmcmFtZVJlY3QudG9wO1xuICAgICAgcmVjdC5ib3R0b20gKz0gZnJhbWVSZWN0LnRvcDtcbiAgICAgIHJlY3QubGVmdCArPSBmcmFtZVJlY3QubGVmdDtcbiAgICAgIHJlY3QucmlnaHQgKz0gZnJhbWVSZWN0LmxlZnQ7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlY3Q7XG59XG5cbmZ1bmN0aW9uIGdldFNjcm9sbFBhcmVudHMoZWwpIHtcbiAgLy8gSW4gZmlyZWZveCBpZiB0aGUgZWwgaXMgaW5zaWRlIGFuIGlmcmFtZSB3aXRoIGRpc3BsYXk6IG5vbmU7IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKCkgd2lsbCByZXR1cm4gbnVsbDtcbiAgLy8gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9NTQ4Mzk3XG4gIHZhciBjb21wdXRlZFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbCkgfHwge307XG4gIHZhciBwb3NpdGlvbiA9IGNvbXB1dGVkU3R5bGUucG9zaXRpb247XG4gIHZhciBwYXJlbnRzID0gW107XG5cbiAgaWYgKHBvc2l0aW9uID09PSAnZml4ZWQnKSB7XG4gICAgcmV0dXJuIFtlbF07XG4gIH1cblxuICB2YXIgcGFyZW50ID0gZWw7XG4gIHdoaWxlICgocGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGUpICYmIHBhcmVudCAmJiBwYXJlbnQubm9kZVR5cGUgPT09IDEpIHtcbiAgICB2YXIgc3R5bGUgPSB1bmRlZmluZWQ7XG4gICAgdHJ5IHtcbiAgICAgIHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShwYXJlbnQpO1xuICAgIH0gY2F0Y2ggKGVycikge31cblxuICAgIGlmICh0eXBlb2Ygc3R5bGUgPT09ICd1bmRlZmluZWQnIHx8IHN0eWxlID09PSBudWxsKSB7XG4gICAgICBwYXJlbnRzLnB1c2gocGFyZW50KTtcbiAgICAgIHJldHVybiBwYXJlbnRzO1xuICAgIH1cblxuICAgIHZhciBfc3R5bGUgPSBzdHlsZTtcbiAgICB2YXIgb3ZlcmZsb3cgPSBfc3R5bGUub3ZlcmZsb3c7XG4gICAgdmFyIG92ZXJmbG93WCA9IF9zdHlsZS5vdmVyZmxvd1g7XG4gICAgdmFyIG92ZXJmbG93WSA9IF9zdHlsZS5vdmVyZmxvd1k7XG5cbiAgICBpZiAoLyhhdXRvfHNjcm9sbCkvLnRlc3Qob3ZlcmZsb3cgKyBvdmVyZmxvd1kgKyBvdmVyZmxvd1gpKSB7XG4gICAgICBpZiAocG9zaXRpb24gIT09ICdhYnNvbHV0ZScgfHwgWydyZWxhdGl2ZScsICdhYnNvbHV0ZScsICdmaXhlZCddLmluZGV4T2Yoc3R5bGUucG9zaXRpb24pID49IDApIHtcbiAgICAgICAgcGFyZW50cy5wdXNoKHBhcmVudCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcGFyZW50cy5wdXNoKGVsLm93bmVyRG9jdW1lbnQuYm9keSk7XG5cbiAgLy8gSWYgdGhlIG5vZGUgaXMgd2l0aGluIGEgZnJhbWUsIGFjY291bnQgZm9yIHRoZSBwYXJlbnQgd2luZG93IHNjcm9sbFxuICBpZiAoZWwub3duZXJEb2N1bWVudCAhPT0gZG9jdW1lbnQpIHtcbiAgICBwYXJlbnRzLnB1c2goZWwub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldyk7XG4gIH1cblxuICByZXR1cm4gcGFyZW50cztcbn1cblxudmFyIHVuaXF1ZUlkID0gKGZ1bmN0aW9uICgpIHtcbiAgdmFyIGlkID0gMDtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKytpZDtcbiAgfTtcbn0pKCk7XG5cbnZhciB6ZXJvUG9zQ2FjaGUgPSB7fTtcbnZhciBnZXRPcmlnaW4gPSBmdW5jdGlvbiBnZXRPcmlnaW4oKSB7XG4gIC8vIGdldEJvdW5kaW5nQ2xpZW50UmVjdCBpcyB1bmZvcnR1bmF0ZWx5IHRvbyBhY2N1cmF0ZS4gIEl0IGludHJvZHVjZXMgYSBwaXhlbCBvciB0d28gb2ZcbiAgLy8gaml0dGVyIGFzIHRoZSB1c2VyIHNjcm9sbHMgdGhhdCBtZXNzZXMgd2l0aCBvdXIgYWJpbGl0eSB0byBkZXRlY3QgaWYgdHdvIHBvc2l0aW9uc1xuICAvLyBhcmUgZXF1aXZpbGFudCBvciBub3QuICBXZSBwbGFjZSBhbiBlbGVtZW50IGF0IHRoZSB0b3AgbGVmdCBvZiB0aGUgcGFnZSB0aGF0IHdpbGxcbiAgLy8gZ2V0IHRoZSBzYW1lIGppdHRlciwgc28gd2UgY2FuIGNhbmNlbCB0aGUgdHdvIG91dC5cbiAgdmFyIG5vZGUgPSB6ZXJvRWxlbWVudDtcbiAgaWYgKCFub2RlIHx8ICFkb2N1bWVudC5ib2R5LmNvbnRhaW5zKG5vZGUpKSB7XG4gICAgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIG5vZGUuc2V0QXR0cmlidXRlKCdkYXRhLXRldGhlci1pZCcsIHVuaXF1ZUlkKCkpO1xuICAgIGV4dGVuZChub2RlLnN0eWxlLCB7XG4gICAgICB0b3A6IDAsXG4gICAgICBsZWZ0OiAwLFxuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZSdcbiAgICB9KTtcblxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobm9kZSk7XG5cbiAgICB6ZXJvRWxlbWVudCA9IG5vZGU7XG4gIH1cblxuICB2YXIgaWQgPSBub2RlLmdldEF0dHJpYnV0ZSgnZGF0YS10ZXRoZXItaWQnKTtcbiAgaWYgKHR5cGVvZiB6ZXJvUG9zQ2FjaGVbaWRdID09PSAndW5kZWZpbmVkJykge1xuICAgIHplcm9Qb3NDYWNoZVtpZF0gPSBnZXRBY3R1YWxCb3VuZGluZ0NsaWVudFJlY3Qobm9kZSk7XG5cbiAgICAvLyBDbGVhciB0aGUgY2FjaGUgd2hlbiB0aGlzIHBvc2l0aW9uIGNhbGwgaXMgZG9uZVxuICAgIGRlZmVyKGZ1bmN0aW9uICgpIHtcbiAgICAgIGRlbGV0ZSB6ZXJvUG9zQ2FjaGVbaWRdO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHplcm9Qb3NDYWNoZVtpZF07XG59O1xuXG5mdW5jdGlvbiByZW1vdmVVdGlsRWxlbWVudHMoKSB7XG4gIGlmICh6ZXJvRWxlbWVudCkge1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoemVyb0VsZW1lbnQpO1xuICB9XG4gIHplcm9FbGVtZW50ID0gbnVsbDtcbn07XG5cbmZ1bmN0aW9uIGdldEJvdW5kcyhlbCkge1xuICB2YXIgZG9jID0gdW5kZWZpbmVkO1xuICBpZiAoZWwgPT09IGRvY3VtZW50KSB7XG4gICAgZG9jID0gZG9jdW1lbnQ7XG4gICAgZWwgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gIH0gZWxzZSB7XG4gICAgZG9jID0gZWwub3duZXJEb2N1bWVudDtcbiAgfVxuXG4gIHZhciBkb2NFbCA9IGRvYy5kb2N1bWVudEVsZW1lbnQ7XG5cbiAgdmFyIGJveCA9IGdldEFjdHVhbEJvdW5kaW5nQ2xpZW50UmVjdChlbCk7XG5cbiAgdmFyIG9yaWdpbiA9IGdldE9yaWdpbigpO1xuXG4gIGJveC50b3AgLT0gb3JpZ2luLnRvcDtcbiAgYm94LmxlZnQgLT0gb3JpZ2luLmxlZnQ7XG5cbiAgaWYgKHR5cGVvZiBib3gud2lkdGggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgYm94LndpZHRoID0gZG9jdW1lbnQuYm9keS5zY3JvbGxXaWR0aCAtIGJveC5sZWZ0IC0gYm94LnJpZ2h0O1xuICB9XG4gIGlmICh0eXBlb2YgYm94LmhlaWdodCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBib3guaGVpZ2h0ID0gZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQgLSBib3gudG9wIC0gYm94LmJvdHRvbTtcbiAgfVxuXG4gIGJveC50b3AgPSBib3gudG9wIC0gZG9jRWwuY2xpZW50VG9wO1xuICBib3gubGVmdCA9IGJveC5sZWZ0IC0gZG9jRWwuY2xpZW50TGVmdDtcbiAgYm94LnJpZ2h0ID0gZG9jLmJvZHkuY2xpZW50V2lkdGggLSBib3gud2lkdGggLSBib3gubGVmdDtcbiAgYm94LmJvdHRvbSA9IGRvYy5ib2R5LmNsaWVudEhlaWdodCAtIGJveC5oZWlnaHQgLSBib3gudG9wO1xuXG4gIHJldHVybiBib3g7XG59XG5cbmZ1bmN0aW9uIGdldE9mZnNldFBhcmVudChlbCkge1xuICByZXR1cm4gZWwub2Zmc2V0UGFyZW50IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbn1cblxudmFyIF9zY3JvbGxCYXJTaXplID0gbnVsbDtcbmZ1bmN0aW9uIGdldFNjcm9sbEJhclNpemUoKSB7XG4gIGlmIChfc2Nyb2xsQmFyU2l6ZSkge1xuICAgIHJldHVybiBfc2Nyb2xsQmFyU2l6ZTtcbiAgfVxuICB2YXIgaW5uZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgaW5uZXIuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gIGlubmVyLnN0eWxlLmhlaWdodCA9ICcyMDBweCc7XG5cbiAgdmFyIG91dGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGV4dGVuZChvdXRlci5zdHlsZSwge1xuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgIHRvcDogMCxcbiAgICBsZWZ0OiAwLFxuICAgIHBvaW50ZXJFdmVudHM6ICdub25lJyxcbiAgICB2aXNpYmlsaXR5OiAnaGlkZGVuJyxcbiAgICB3aWR0aDogJzIwMHB4JyxcbiAgICBoZWlnaHQ6ICcxNTBweCcsXG4gICAgb3ZlcmZsb3c6ICdoaWRkZW4nXG4gIH0pO1xuXG4gIG91dGVyLmFwcGVuZENoaWxkKGlubmVyKTtcblxuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG91dGVyKTtcblxuICB2YXIgd2lkdGhDb250YWluZWQgPSBpbm5lci5vZmZzZXRXaWR0aDtcbiAgb3V0ZXIuc3R5bGUub3ZlcmZsb3cgPSAnc2Nyb2xsJztcbiAgdmFyIHdpZHRoU2Nyb2xsID0gaW5uZXIub2Zmc2V0V2lkdGg7XG5cbiAgaWYgKHdpZHRoQ29udGFpbmVkID09PSB3aWR0aFNjcm9sbCkge1xuICAgIHdpZHRoU2Nyb2xsID0gb3V0ZXIuY2xpZW50V2lkdGg7XG4gIH1cblxuICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG91dGVyKTtcblxuICB2YXIgd2lkdGggPSB3aWR0aENvbnRhaW5lZCAtIHdpZHRoU2Nyb2xsO1xuXG4gIF9zY3JvbGxCYXJTaXplID0geyB3aWR0aDogd2lkdGgsIGhlaWdodDogd2lkdGggfTtcbiAgcmV0dXJuIF9zY3JvbGxCYXJTaXplO1xufVxuXG5mdW5jdGlvbiBleHRlbmQoKSB7XG4gIHZhciBvdXQgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1swXTtcblxuICB2YXIgYXJncyA9IFtdO1xuXG4gIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGFyZ3MsIGFyZ3VtZW50cyk7XG5cbiAgYXJncy5zbGljZSgxKS5mb3JFYWNoKGZ1bmN0aW9uIChvYmopIHtcbiAgICBpZiAob2JqKSB7XG4gICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICAgIGlmICgoe30pLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICAgICAgb3V0W2tleV0gPSBvYmpba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIG91dDtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoZWwsIG5hbWUpIHtcbiAgaWYgKHR5cGVvZiBlbC5jbGFzc0xpc3QgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgbmFtZS5zcGxpdCgnICcpLmZvckVhY2goZnVuY3Rpb24gKGNscykge1xuICAgICAgaWYgKGNscy50cmltKCkpIHtcbiAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZShjbHMpO1xuICAgICAgfVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHZhciByZWdleCA9IG5ldyBSZWdFeHAoJyhefCApJyArIG5hbWUuc3BsaXQoJyAnKS5qb2luKCd8JykgKyAnKCB8JCknLCAnZ2knKTtcbiAgICB2YXIgY2xhc3NOYW1lID0gZ2V0Q2xhc3NOYW1lKGVsKS5yZXBsYWNlKHJlZ2V4LCAnICcpO1xuICAgIHNldENsYXNzTmFtZShlbCwgY2xhc3NOYW1lKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhZGRDbGFzcyhlbCwgbmFtZSkge1xuICBpZiAodHlwZW9mIGVsLmNsYXNzTGlzdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBuYW1lLnNwbGl0KCcgJykuZm9yRWFjaChmdW5jdGlvbiAoY2xzKSB7XG4gICAgICBpZiAoY2xzLnRyaW0oKSkge1xuICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKGNscyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmVtb3ZlQ2xhc3MoZWwsIG5hbWUpO1xuICAgIHZhciBjbHMgPSBnZXRDbGFzc05hbWUoZWwpICsgKCcgJyArIG5hbWUpO1xuICAgIHNldENsYXNzTmFtZShlbCwgY2xzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBoYXNDbGFzcyhlbCwgbmFtZSkge1xuICBpZiAodHlwZW9mIGVsLmNsYXNzTGlzdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gZWwuY2xhc3NMaXN0LmNvbnRhaW5zKG5hbWUpO1xuICB9XG4gIHZhciBjbGFzc05hbWUgPSBnZXRDbGFzc05hbWUoZWwpO1xuICByZXR1cm4gbmV3IFJlZ0V4cCgnKF58ICknICsgbmFtZSArICcoIHwkKScsICdnaScpLnRlc3QoY2xhc3NOYW1lKTtcbn1cblxuZnVuY3Rpb24gZ2V0Q2xhc3NOYW1lKGVsKSB7XG4gIC8vIENhbid0IHVzZSBqdXN0IFNWR0FuaW1hdGVkU3RyaW5nIGhlcmUgc2luY2Ugbm9kZXMgd2l0aGluIGEgRnJhbWUgaW4gSUUgaGF2ZVxuICAvLyBjb21wbGV0ZWx5IHNlcGFyYXRlbHkgU1ZHQW5pbWF0ZWRTdHJpbmcgYmFzZSBjbGFzc2VzXG4gIGlmIChlbC5jbGFzc05hbWUgaW5zdGFuY2VvZiBlbC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LlNWR0FuaW1hdGVkU3RyaW5nKSB7XG4gICAgcmV0dXJuIGVsLmNsYXNzTmFtZS5iYXNlVmFsO1xuICB9XG4gIHJldHVybiBlbC5jbGFzc05hbWU7XG59XG5cbmZ1bmN0aW9uIHNldENsYXNzTmFtZShlbCwgY2xhc3NOYW1lKSB7XG4gIGVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBjbGFzc05hbWUpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVDbGFzc2VzKGVsLCBhZGQsIGFsbCkge1xuICAvLyBPZiB0aGUgc2V0IG9mICdhbGwnIGNsYXNzZXMsIHdlIG5lZWQgdGhlICdhZGQnIGNsYXNzZXMsIGFuZCBvbmx5IHRoZVxuICAvLyAnYWRkJyBjbGFzc2VzIHRvIGJlIHNldC5cbiAgYWxsLmZvckVhY2goZnVuY3Rpb24gKGNscykge1xuICAgIGlmIChhZGQuaW5kZXhPZihjbHMpID09PSAtMSAmJiBoYXNDbGFzcyhlbCwgY2xzKSkge1xuICAgICAgcmVtb3ZlQ2xhc3MoZWwsIGNscyk7XG4gICAgfVxuICB9KTtcblxuICBhZGQuZm9yRWFjaChmdW5jdGlvbiAoY2xzKSB7XG4gICAgaWYgKCFoYXNDbGFzcyhlbCwgY2xzKSkge1xuICAgICAgYWRkQ2xhc3MoZWwsIGNscyk7XG4gICAgfVxuICB9KTtcbn1cblxudmFyIGRlZmVycmVkID0gW107XG5cbnZhciBkZWZlciA9IGZ1bmN0aW9uIGRlZmVyKGZuKSB7XG4gIGRlZmVycmVkLnB1c2goZm4pO1xufTtcblxudmFyIGZsdXNoID0gZnVuY3Rpb24gZmx1c2goKSB7XG4gIHZhciBmbiA9IHVuZGVmaW5lZDtcbiAgd2hpbGUgKGZuID0gZGVmZXJyZWQucG9wKCkpIHtcbiAgICBmbigpO1xuICB9XG59O1xuXG52YXIgRXZlbnRlZCA9IChmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEV2ZW50ZWQoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEV2ZW50ZWQpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEV2ZW50ZWQsIFt7XG4gICAga2V5OiAnb24nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbihldmVudCwgaGFuZGxlciwgY3R4KSB7XG4gICAgICB2YXIgb25jZSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMyB8fCBhcmd1bWVudHNbM10gPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogYXJndW1lbnRzWzNdO1xuXG4gICAgICBpZiAodHlwZW9mIHRoaXMuYmluZGluZ3MgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRoaXMuYmluZGluZ3MgPSB7fTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgdGhpcy5iaW5kaW5nc1tldmVudF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRoaXMuYmluZGluZ3NbZXZlbnRdID0gW107XG4gICAgICB9XG4gICAgICB0aGlzLmJpbmRpbmdzW2V2ZW50XS5wdXNoKHsgaGFuZGxlcjogaGFuZGxlciwgY3R4OiBjdHgsIG9uY2U6IG9uY2UgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25jZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uY2UoZXZlbnQsIGhhbmRsZXIsIGN0eCkge1xuICAgICAgdGhpcy5vbihldmVudCwgaGFuZGxlciwgY3R4LCB0cnVlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvZmYnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvZmYoZXZlbnQsIGhhbmRsZXIpIHtcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5iaW5kaW5ncyA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIHRoaXMuYmluZGluZ3NbZXZlbnRdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgaGFuZGxlciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuYmluZGluZ3NbZXZlbnRdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IHRoaXMuYmluZGluZ3NbZXZlbnRdLmxlbmd0aCkge1xuICAgICAgICAgIGlmICh0aGlzLmJpbmRpbmdzW2V2ZW50XVtpXS5oYW5kbGVyID09PSBoYW5kbGVyKSB7XG4gICAgICAgICAgICB0aGlzLmJpbmRpbmdzW2V2ZW50XS5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICsraTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICd0cmlnZ2VyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdHJpZ2dlcihldmVudCkge1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLmJpbmRpbmdzICE9PSAndW5kZWZpbmVkJyAmJiB0aGlzLmJpbmRpbmdzW2V2ZW50XSkge1xuICAgICAgICB2YXIgaSA9IDA7XG5cbiAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgIH1cblxuICAgICAgICB3aGlsZSAoaSA8IHRoaXMuYmluZGluZ3NbZXZlbnRdLmxlbmd0aCkge1xuICAgICAgICAgIHZhciBfYmluZGluZ3MkZXZlbnQkaSA9IHRoaXMuYmluZGluZ3NbZXZlbnRdW2ldO1xuICAgICAgICAgIHZhciBoYW5kbGVyID0gX2JpbmRpbmdzJGV2ZW50JGkuaGFuZGxlcjtcbiAgICAgICAgICB2YXIgY3R4ID0gX2JpbmRpbmdzJGV2ZW50JGkuY3R4O1xuICAgICAgICAgIHZhciBvbmNlID0gX2JpbmRpbmdzJGV2ZW50JGkub25jZTtcblxuICAgICAgICAgIHZhciBjb250ZXh0ID0gY3R4O1xuICAgICAgICAgIGlmICh0eXBlb2YgY29udGV4dCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGNvbnRleHQgPSB0aGlzO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGhhbmRsZXIuYXBwbHkoY29udGV4dCwgYXJncyk7XG5cbiAgICAgICAgICBpZiAob25jZSkge1xuICAgICAgICAgICAgdGhpcy5iaW5kaW5nc1tldmVudF0uc3BsaWNlKGksIDEpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICArK2k7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEV2ZW50ZWQ7XG59KSgpO1xuXG5UZXRoZXJCYXNlLlV0aWxzID0ge1xuICBnZXRBY3R1YWxCb3VuZGluZ0NsaWVudFJlY3Q6IGdldEFjdHVhbEJvdW5kaW5nQ2xpZW50UmVjdCxcbiAgZ2V0U2Nyb2xsUGFyZW50czogZ2V0U2Nyb2xsUGFyZW50cyxcbiAgZ2V0Qm91bmRzOiBnZXRCb3VuZHMsXG4gIGdldE9mZnNldFBhcmVudDogZ2V0T2Zmc2V0UGFyZW50LFxuICBleHRlbmQ6IGV4dGVuZCxcbiAgYWRkQ2xhc3M6IGFkZENsYXNzLFxuICByZW1vdmVDbGFzczogcmVtb3ZlQ2xhc3MsXG4gIGhhc0NsYXNzOiBoYXNDbGFzcyxcbiAgdXBkYXRlQ2xhc3NlczogdXBkYXRlQ2xhc3NlcyxcbiAgZGVmZXI6IGRlZmVyLFxuICBmbHVzaDogZmx1c2gsXG4gIHVuaXF1ZUlkOiB1bmlxdWVJZCxcbiAgRXZlbnRlZDogRXZlbnRlZCxcbiAgZ2V0U2Nyb2xsQmFyU2l6ZTogZ2V0U2Nyb2xsQmFyU2l6ZSxcbiAgcmVtb3ZlVXRpbEVsZW1lbnRzOiByZW1vdmVVdGlsRWxlbWVudHNcbn07XG4vKiBnbG9iYWxzIFRldGhlckJhc2UsIHBlcmZvcm1hbmNlICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIF9zbGljZWRUb0FycmF5ID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gc2xpY2VJdGVyYXRvcihhcnIsIGkpIHsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfZSA9IHVuZGVmaW5lZDsgdHJ5IHsgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbJ3JldHVybiddKSBfaVsncmV0dXJuJ10oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9IHJldHVybiBmdW5jdGlvbiAoYXJyLCBpKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgcmV0dXJuIGFycjsgfSBlbHNlIGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpIHsgcmV0dXJuIHNsaWNlSXRlcmF0b3IoYXJyLCBpKTsgfSBlbHNlIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZScpOyB9IH07IH0pKCk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cbnZhciBfZ2V0ID0gZnVuY3Rpb24gZ2V0KF94NiwgX3g3LCBfeDgpIHsgdmFyIF9hZ2FpbiA9IHRydWU7IF9mdW5jdGlvbjogd2hpbGUgKF9hZ2FpbikgeyB2YXIgb2JqZWN0ID0gX3g2LCBwcm9wZXJ0eSA9IF94NywgcmVjZWl2ZXIgPSBfeDg7IF9hZ2FpbiA9IGZhbHNlOyBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgX3g2ID0gcGFyZW50OyBfeDcgPSBwcm9wZXJ0eTsgX3g4ID0gcmVjZWl2ZXI7IF9hZ2FpbiA9IHRydWU7IGRlc2MgPSBwYXJlbnQgPSB1bmRlZmluZWQ7IGNvbnRpbnVlIF9mdW5jdGlvbjsgfSB9IGVsc2UgaWYgKCd2YWx1ZScgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH0gfTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICdmdW5jdGlvbicgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICcgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbmlmICh0eXBlb2YgVGV0aGVyQmFzZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdZb3UgbXVzdCBpbmNsdWRlIHRoZSB1dGlscy5qcyBmaWxlIGJlZm9yZSB0ZXRoZXIuanMnKTtcbn1cblxudmFyIF9UZXRoZXJCYXNlJFV0aWxzID0gVGV0aGVyQmFzZS5VdGlscztcbnZhciBnZXRTY3JvbGxQYXJlbnRzID0gX1RldGhlckJhc2UkVXRpbHMuZ2V0U2Nyb2xsUGFyZW50cztcbnZhciBnZXRCb3VuZHMgPSBfVGV0aGVyQmFzZSRVdGlscy5nZXRCb3VuZHM7XG52YXIgZ2V0T2Zmc2V0UGFyZW50ID0gX1RldGhlckJhc2UkVXRpbHMuZ2V0T2Zmc2V0UGFyZW50O1xudmFyIGV4dGVuZCA9IF9UZXRoZXJCYXNlJFV0aWxzLmV4dGVuZDtcbnZhciBhZGRDbGFzcyA9IF9UZXRoZXJCYXNlJFV0aWxzLmFkZENsYXNzO1xudmFyIHJlbW92ZUNsYXNzID0gX1RldGhlckJhc2UkVXRpbHMucmVtb3ZlQ2xhc3M7XG52YXIgdXBkYXRlQ2xhc3NlcyA9IF9UZXRoZXJCYXNlJFV0aWxzLnVwZGF0ZUNsYXNzZXM7XG52YXIgZGVmZXIgPSBfVGV0aGVyQmFzZSRVdGlscy5kZWZlcjtcbnZhciBmbHVzaCA9IF9UZXRoZXJCYXNlJFV0aWxzLmZsdXNoO1xudmFyIGdldFNjcm9sbEJhclNpemUgPSBfVGV0aGVyQmFzZSRVdGlscy5nZXRTY3JvbGxCYXJTaXplO1xudmFyIHJlbW92ZVV0aWxFbGVtZW50cyA9IF9UZXRoZXJCYXNlJFV0aWxzLnJlbW92ZVV0aWxFbGVtZW50cztcblxuZnVuY3Rpb24gd2l0aGluKGEsIGIpIHtcbiAgdmFyIGRpZmYgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDIgfHwgYXJndW1lbnRzWzJdID09PSB1bmRlZmluZWQgPyAxIDogYXJndW1lbnRzWzJdO1xuXG4gIHJldHVybiBhICsgZGlmZiA+PSBiICYmIGIgPj0gYSAtIGRpZmY7XG59XG5cbnZhciB0cmFuc2Zvcm1LZXkgPSAoZnVuY3Rpb24gKCkge1xuICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiAnJztcbiAgfVxuICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICB2YXIgdHJhbnNmb3JtcyA9IFsndHJhbnNmb3JtJywgJ1dlYmtpdFRyYW5zZm9ybScsICdPVHJhbnNmb3JtJywgJ01velRyYW5zZm9ybScsICdtc1RyYW5zZm9ybSddO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHRyYW5zZm9ybXMubGVuZ3RoOyArK2kpIHtcbiAgICB2YXIga2V5ID0gdHJhbnNmb3Jtc1tpXTtcbiAgICBpZiAoZWwuc3R5bGVba2V5XSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4ga2V5O1xuICAgIH1cbiAgfVxufSkoKTtcblxudmFyIHRldGhlcnMgPSBbXTtcblxudmFyIHBvc2l0aW9uID0gZnVuY3Rpb24gcG9zaXRpb24oKSB7XG4gIHRldGhlcnMuZm9yRWFjaChmdW5jdGlvbiAodGV0aGVyKSB7XG4gICAgdGV0aGVyLnBvc2l0aW9uKGZhbHNlKTtcbiAgfSk7XG4gIGZsdXNoKCk7XG59O1xuXG5mdW5jdGlvbiBub3coKSB7XG4gIGlmICh0eXBlb2YgcGVyZm9ybWFuY2UgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBwZXJmb3JtYW5jZS5ub3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIHBlcmZvcm1hbmNlLm5vdygpO1xuICB9XG4gIHJldHVybiArbmV3IERhdGUoKTtcbn1cblxuKGZ1bmN0aW9uICgpIHtcbiAgdmFyIGxhc3RDYWxsID0gbnVsbDtcbiAgdmFyIGxhc3REdXJhdGlvbiA9IG51bGw7XG4gIHZhciBwZW5kaW5nVGltZW91dCA9IG51bGw7XG5cbiAgdmFyIHRpY2sgPSBmdW5jdGlvbiB0aWNrKCkge1xuICAgIGlmICh0eXBlb2YgbGFzdER1cmF0aW9uICE9PSAndW5kZWZpbmVkJyAmJiBsYXN0RHVyYXRpb24gPiAxNikge1xuICAgICAgLy8gV2Ugdm9sdW50YXJpbHkgdGhyb3R0bGUgb3Vyc2VsdmVzIGlmIHdlIGNhbid0IG1hbmFnZSA2MGZwc1xuICAgICAgbGFzdER1cmF0aW9uID0gTWF0aC5taW4obGFzdER1cmF0aW9uIC0gMTYsIDI1MCk7XG5cbiAgICAgIC8vIEp1c3QgaW4gY2FzZSB0aGlzIGlzIHRoZSBsYXN0IGV2ZW50LCByZW1lbWJlciB0byBwb3NpdGlvbiBqdXN0IG9uY2UgbW9yZVxuICAgICAgcGVuZGluZ1RpbWVvdXQgPSBzZXRUaW1lb3V0KHRpY2ssIDI1MCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBsYXN0Q2FsbCAhPT0gJ3VuZGVmaW5lZCcgJiYgbm93KCkgLSBsYXN0Q2FsbCA8IDEwKSB7XG4gICAgICAvLyBTb21lIGJyb3dzZXJzIGNhbGwgZXZlbnRzIGEgbGl0dGxlIHRvbyBmcmVxdWVudGx5LCByZWZ1c2UgdG8gcnVuIG1vcmUgdGhhbiBpcyByZWFzb25hYmxlXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHBlbmRpbmdUaW1lb3V0ICE9IG51bGwpIHtcbiAgICAgIGNsZWFyVGltZW91dChwZW5kaW5nVGltZW91dCk7XG4gICAgICBwZW5kaW5nVGltZW91dCA9IG51bGw7XG4gICAgfVxuXG4gICAgbGFzdENhbGwgPSBub3coKTtcbiAgICBwb3NpdGlvbigpO1xuICAgIGxhc3REdXJhdGlvbiA9IG5vdygpIC0gbGFzdENhbGw7XG4gIH07XG5cbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBbJ3Jlc2l6ZScsICdzY3JvbGwnLCAndG91Y2htb3ZlJ10uZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCB0aWNrKTtcbiAgICB9KTtcbiAgfVxufSkoKTtcblxudmFyIE1JUlJPUl9MUiA9IHtcbiAgY2VudGVyOiAnY2VudGVyJyxcbiAgbGVmdDogJ3JpZ2h0JyxcbiAgcmlnaHQ6ICdsZWZ0J1xufTtcblxudmFyIE1JUlJPUl9UQiA9IHtcbiAgbWlkZGxlOiAnbWlkZGxlJyxcbiAgdG9wOiAnYm90dG9tJyxcbiAgYm90dG9tOiAndG9wJ1xufTtcblxudmFyIE9GRlNFVF9NQVAgPSB7XG4gIHRvcDogMCxcbiAgbGVmdDogMCxcbiAgbWlkZGxlOiAnNTAlJyxcbiAgY2VudGVyOiAnNTAlJyxcbiAgYm90dG9tOiAnMTAwJScsXG4gIHJpZ2h0OiAnMTAwJSdcbn07XG5cbnZhciBhdXRvVG9GaXhlZEF0dGFjaG1lbnQgPSBmdW5jdGlvbiBhdXRvVG9GaXhlZEF0dGFjaG1lbnQoYXR0YWNobWVudCwgcmVsYXRpdmVUb0F0dGFjaG1lbnQpIHtcbiAgdmFyIGxlZnQgPSBhdHRhY2htZW50LmxlZnQ7XG4gIHZhciB0b3AgPSBhdHRhY2htZW50LnRvcDtcblxuICBpZiAobGVmdCA9PT0gJ2F1dG8nKSB7XG4gICAgbGVmdCA9IE1JUlJPUl9MUltyZWxhdGl2ZVRvQXR0YWNobWVudC5sZWZ0XTtcbiAgfVxuXG4gIGlmICh0b3AgPT09ICdhdXRvJykge1xuICAgIHRvcCA9IE1JUlJPUl9UQltyZWxhdGl2ZVRvQXR0YWNobWVudC50b3BdO1xuICB9XG5cbiAgcmV0dXJuIHsgbGVmdDogbGVmdCwgdG9wOiB0b3AgfTtcbn07XG5cbnZhciBhdHRhY2htZW50VG9PZmZzZXQgPSBmdW5jdGlvbiBhdHRhY2htZW50VG9PZmZzZXQoYXR0YWNobWVudCkge1xuICB2YXIgbGVmdCA9IGF0dGFjaG1lbnQubGVmdDtcbiAgdmFyIHRvcCA9IGF0dGFjaG1lbnQudG9wO1xuXG4gIGlmICh0eXBlb2YgT0ZGU0VUX01BUFthdHRhY2htZW50LmxlZnRdICE9PSAndW5kZWZpbmVkJykge1xuICAgIGxlZnQgPSBPRkZTRVRfTUFQW2F0dGFjaG1lbnQubGVmdF07XG4gIH1cblxuICBpZiAodHlwZW9mIE9GRlNFVF9NQVBbYXR0YWNobWVudC50b3BdICE9PSAndW5kZWZpbmVkJykge1xuICAgIHRvcCA9IE9GRlNFVF9NQVBbYXR0YWNobWVudC50b3BdO1xuICB9XG5cbiAgcmV0dXJuIHsgbGVmdDogbGVmdCwgdG9wOiB0b3AgfTtcbn07XG5cbmZ1bmN0aW9uIGFkZE9mZnNldCgpIHtcbiAgdmFyIG91dCA9IHsgdG9wOiAwLCBsZWZ0OiAwIH07XG5cbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIG9mZnNldHMgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBvZmZzZXRzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgb2Zmc2V0cy5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgdmFyIHRvcCA9IF9yZWYudG9wO1xuICAgIHZhciBsZWZ0ID0gX3JlZi5sZWZ0O1xuXG4gICAgaWYgKHR5cGVvZiB0b3AgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0b3AgPSBwYXJzZUZsb2F0KHRvcCwgMTApO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGxlZnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBsZWZ0ID0gcGFyc2VGbG9hdChsZWZ0LCAxMCk7XG4gICAgfVxuXG4gICAgb3V0LnRvcCArPSB0b3A7XG4gICAgb3V0LmxlZnQgKz0gbGVmdDtcbiAgfSk7XG5cbiAgcmV0dXJuIG91dDtcbn1cblxuZnVuY3Rpb24gb2Zmc2V0VG9QeChvZmZzZXQsIHNpemUpIHtcbiAgaWYgKHR5cGVvZiBvZmZzZXQubGVmdCA9PT0gJ3N0cmluZycgJiYgb2Zmc2V0LmxlZnQuaW5kZXhPZignJScpICE9PSAtMSkge1xuICAgIG9mZnNldC5sZWZ0ID0gcGFyc2VGbG9hdChvZmZzZXQubGVmdCwgMTApIC8gMTAwICogc2l6ZS53aWR0aDtcbiAgfVxuICBpZiAodHlwZW9mIG9mZnNldC50b3AgPT09ICdzdHJpbmcnICYmIG9mZnNldC50b3AuaW5kZXhPZignJScpICE9PSAtMSkge1xuICAgIG9mZnNldC50b3AgPSBwYXJzZUZsb2F0KG9mZnNldC50b3AsIDEwKSAvIDEwMCAqIHNpemUuaGVpZ2h0O1xuICB9XG5cbiAgcmV0dXJuIG9mZnNldDtcbn1cblxudmFyIHBhcnNlT2Zmc2V0ID0gZnVuY3Rpb24gcGFyc2VPZmZzZXQodmFsdWUpIHtcbiAgdmFyIF92YWx1ZSRzcGxpdCA9IHZhbHVlLnNwbGl0KCcgJyk7XG5cbiAgdmFyIF92YWx1ZSRzcGxpdDIgPSBfc2xpY2VkVG9BcnJheShfdmFsdWUkc3BsaXQsIDIpO1xuXG4gIHZhciB0b3AgPSBfdmFsdWUkc3BsaXQyWzBdO1xuICB2YXIgbGVmdCA9IF92YWx1ZSRzcGxpdDJbMV07XG5cbiAgcmV0dXJuIHsgdG9wOiB0b3AsIGxlZnQ6IGxlZnQgfTtcbn07XG52YXIgcGFyc2VBdHRhY2htZW50ID0gcGFyc2VPZmZzZXQ7XG5cbnZhciBUZXRoZXJDbGFzcyA9IChmdW5jdGlvbiAoX0V2ZW50ZWQpIHtcbiAgX2luaGVyaXRzKFRldGhlckNsYXNzLCBfRXZlbnRlZCk7XG5cbiAgZnVuY3Rpb24gVGV0aGVyQ2xhc3Mob3B0aW9ucykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGV0aGVyQ2xhc3MpO1xuXG4gICAgX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoVGV0aGVyQ2xhc3MucHJvdG90eXBlKSwgJ2NvbnN0cnVjdG9yJywgdGhpcykuY2FsbCh0aGlzKTtcbiAgICB0aGlzLnBvc2l0aW9uID0gdGhpcy5wb3NpdGlvbi5iaW5kKHRoaXMpO1xuXG4gICAgdGV0aGVycy5wdXNoKHRoaXMpO1xuXG4gICAgdGhpcy5oaXN0b3J5ID0gW107XG5cbiAgICB0aGlzLnNldE9wdGlvbnMob3B0aW9ucywgZmFsc2UpO1xuXG4gICAgVGV0aGVyQmFzZS5tb2R1bGVzLmZvckVhY2goZnVuY3Rpb24gKG1vZHVsZSkge1xuICAgICAgaWYgKHR5cGVvZiBtb2R1bGUuaW5pdGlhbGl6ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgbW9kdWxlLmluaXRpYWxpemUuY2FsbChfdGhpcyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLnBvc2l0aW9uKCk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoVGV0aGVyQ2xhc3MsIFt7XG4gICAga2V5OiAnZ2V0Q2xhc3MnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDbGFzcygpIHtcbiAgICAgIHZhciBrZXkgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyAnJyA6IGFyZ3VtZW50c1swXTtcbiAgICAgIHZhciBjbGFzc2VzID0gdGhpcy5vcHRpb25zLmNsYXNzZXM7XG5cbiAgICAgIGlmICh0eXBlb2YgY2xhc3NlcyAhPT0gJ3VuZGVmaW5lZCcgJiYgY2xhc3Nlc1trZXldKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuY2xhc3Nlc1trZXldO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMuY2xhc3NQcmVmaXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5jbGFzc1ByZWZpeCArICctJyArIGtleTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBrZXk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc2V0T3B0aW9ucycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldE9wdGlvbnMob3B0aW9ucykge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBwb3MgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyB0cnVlIDogYXJndW1lbnRzWzFdO1xuXG4gICAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgIG9mZnNldDogJzAgMCcsXG4gICAgICAgIHRhcmdldE9mZnNldDogJzAgMCcsXG4gICAgICAgIHRhcmdldEF0dGFjaG1lbnQ6ICdhdXRvIGF1dG8nLFxuICAgICAgICBjbGFzc1ByZWZpeDogJ3RldGhlcidcbiAgICAgIH07XG5cbiAgICAgIHRoaXMub3B0aW9ucyA9IGV4dGVuZChkZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgIHZhciBfb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgIHZhciBlbGVtZW50ID0gX29wdGlvbnMuZWxlbWVudDtcbiAgICAgIHZhciB0YXJnZXQgPSBfb3B0aW9ucy50YXJnZXQ7XG4gICAgICB2YXIgdGFyZ2V0TW9kaWZpZXIgPSBfb3B0aW9ucy50YXJnZXRNb2RpZmllcjtcblxuICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgdGhpcy50YXJnZXRNb2RpZmllciA9IHRhcmdldE1vZGlmaWVyO1xuXG4gICAgICBpZiAodGhpcy50YXJnZXQgPT09ICd2aWV3cG9ydCcpIHtcbiAgICAgICAgdGhpcy50YXJnZXQgPSBkb2N1bWVudC5ib2R5O1xuICAgICAgICB0aGlzLnRhcmdldE1vZGlmaWVyID0gJ3Zpc2libGUnO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnRhcmdldCA9PT0gJ3Njcm9sbC1oYW5kbGUnKSB7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gZG9jdW1lbnQuYm9keTtcbiAgICAgICAgdGhpcy50YXJnZXRNb2RpZmllciA9ICdzY3JvbGwtaGFuZGxlJztcbiAgICAgIH1cblxuICAgICAgWydlbGVtZW50JywgJ3RhcmdldCddLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAodHlwZW9mIF90aGlzMltrZXldID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGV0aGVyIEVycm9yOiBCb3RoIGVsZW1lbnQgYW5kIHRhcmdldCBtdXN0IGJlIGRlZmluZWQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgX3RoaXMyW2tleV0uanF1ZXJ5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIF90aGlzMltrZXldID0gX3RoaXMyW2tleV1bMF07XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIF90aGlzMltrZXldID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIF90aGlzMltrZXldID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihfdGhpczJba2V5XSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBhZGRDbGFzcyh0aGlzLmVsZW1lbnQsIHRoaXMuZ2V0Q2xhc3MoJ2VsZW1lbnQnKSk7XG4gICAgICBpZiAoISh0aGlzLm9wdGlvbnMuYWRkVGFyZ2V0Q2xhc3NlcyA9PT0gZmFsc2UpKSB7XG4gICAgICAgIGFkZENsYXNzKHRoaXMudGFyZ2V0LCB0aGlzLmdldENsYXNzKCd0YXJnZXQnKSk7XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5vcHRpb25zLmF0dGFjaG1lbnQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUZXRoZXIgRXJyb3I6IFlvdSBtdXN0IHByb3ZpZGUgYW4gYXR0YWNobWVudCcpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnRhcmdldEF0dGFjaG1lbnQgPSBwYXJzZUF0dGFjaG1lbnQodGhpcy5vcHRpb25zLnRhcmdldEF0dGFjaG1lbnQpO1xuICAgICAgdGhpcy5hdHRhY2htZW50ID0gcGFyc2VBdHRhY2htZW50KHRoaXMub3B0aW9ucy5hdHRhY2htZW50KTtcbiAgICAgIHRoaXMub2Zmc2V0ID0gcGFyc2VPZmZzZXQodGhpcy5vcHRpb25zLm9mZnNldCk7XG4gICAgICB0aGlzLnRhcmdldE9mZnNldCA9IHBhcnNlT2Zmc2V0KHRoaXMub3B0aW9ucy50YXJnZXRPZmZzZXQpO1xuXG4gICAgICBpZiAodHlwZW9mIHRoaXMuc2Nyb2xsUGFyZW50cyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhpcy5kaXNhYmxlKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnRhcmdldE1vZGlmaWVyID09PSAnc2Nyb2xsLWhhbmRsZScpIHtcbiAgICAgICAgdGhpcy5zY3JvbGxQYXJlbnRzID0gW3RoaXMudGFyZ2V0XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2Nyb2xsUGFyZW50cyA9IGdldFNjcm9sbFBhcmVudHModGhpcy50YXJnZXQpO1xuICAgICAgfVxuXG4gICAgICBpZiAoISh0aGlzLm9wdGlvbnMuZW5hYmxlZCA9PT0gZmFsc2UpKSB7XG4gICAgICAgIHRoaXMuZW5hYmxlKHBvcyk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0VGFyZ2V0Qm91bmRzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VGFyZ2V0Qm91bmRzKCkge1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLnRhcmdldE1vZGlmaWVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBpZiAodGhpcy50YXJnZXRNb2RpZmllciA9PT0gJ3Zpc2libGUnKSB7XG4gICAgICAgICAgaWYgKHRoaXMudGFyZ2V0ID09PSBkb2N1bWVudC5ib2R5KSB7XG4gICAgICAgICAgICByZXR1cm4geyB0b3A6IHBhZ2VZT2Zmc2V0LCBsZWZ0OiBwYWdlWE9mZnNldCwgaGVpZ2h0OiBpbm5lckhlaWdodCwgd2lkdGg6IGlubmVyV2lkdGggfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGJvdW5kcyA9IGdldEJvdW5kcyh0aGlzLnRhcmdldCk7XG5cbiAgICAgICAgICAgIHZhciBvdXQgPSB7XG4gICAgICAgICAgICAgIGhlaWdodDogYm91bmRzLmhlaWdodCxcbiAgICAgICAgICAgICAgd2lkdGg6IGJvdW5kcy53aWR0aCxcbiAgICAgICAgICAgICAgdG9wOiBib3VuZHMudG9wLFxuICAgICAgICAgICAgICBsZWZ0OiBib3VuZHMubGVmdFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgb3V0LmhlaWdodCA9IE1hdGgubWluKG91dC5oZWlnaHQsIGJvdW5kcy5oZWlnaHQgLSAocGFnZVlPZmZzZXQgLSBib3VuZHMudG9wKSk7XG4gICAgICAgICAgICBvdXQuaGVpZ2h0ID0gTWF0aC5taW4ob3V0LmhlaWdodCwgYm91bmRzLmhlaWdodCAtIChib3VuZHMudG9wICsgYm91bmRzLmhlaWdodCAtIChwYWdlWU9mZnNldCArIGlubmVySGVpZ2h0KSkpO1xuICAgICAgICAgICAgb3V0LmhlaWdodCA9IE1hdGgubWluKGlubmVySGVpZ2h0LCBvdXQuaGVpZ2h0KTtcbiAgICAgICAgICAgIG91dC5oZWlnaHQgLT0gMjtcblxuICAgICAgICAgICAgb3V0LndpZHRoID0gTWF0aC5taW4ob3V0LndpZHRoLCBib3VuZHMud2lkdGggLSAocGFnZVhPZmZzZXQgLSBib3VuZHMubGVmdCkpO1xuICAgICAgICAgICAgb3V0LndpZHRoID0gTWF0aC5taW4ob3V0LndpZHRoLCBib3VuZHMud2lkdGggLSAoYm91bmRzLmxlZnQgKyBib3VuZHMud2lkdGggLSAocGFnZVhPZmZzZXQgKyBpbm5lcldpZHRoKSkpO1xuICAgICAgICAgICAgb3V0LndpZHRoID0gTWF0aC5taW4oaW5uZXJXaWR0aCwgb3V0LndpZHRoKTtcbiAgICAgICAgICAgIG91dC53aWR0aCAtPSAyO1xuXG4gICAgICAgICAgICBpZiAob3V0LnRvcCA8IHBhZ2VZT2Zmc2V0KSB7XG4gICAgICAgICAgICAgIG91dC50b3AgPSBwYWdlWU9mZnNldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvdXQubGVmdCA8IHBhZ2VYT2Zmc2V0KSB7XG4gICAgICAgICAgICAgIG91dC5sZWZ0ID0gcGFnZVhPZmZzZXQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBvdXQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMudGFyZ2V0TW9kaWZpZXIgPT09ICdzY3JvbGwtaGFuZGxlJykge1xuICAgICAgICAgIHZhciBib3VuZHMgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgdmFyIHRhcmdldCA9IHRoaXMudGFyZ2V0O1xuICAgICAgICAgIGlmICh0YXJnZXQgPT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICAgICAgICAgIHRhcmdldCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblxuICAgICAgICAgICAgYm91bmRzID0ge1xuICAgICAgICAgICAgICBsZWZ0OiBwYWdlWE9mZnNldCxcbiAgICAgICAgICAgICAgdG9wOiBwYWdlWU9mZnNldCxcbiAgICAgICAgICAgICAgaGVpZ2h0OiBpbm5lckhlaWdodCxcbiAgICAgICAgICAgICAgd2lkdGg6IGlubmVyV2lkdGhcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJvdW5kcyA9IGdldEJvdW5kcyh0YXJnZXQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUodGFyZ2V0KTtcblxuICAgICAgICAgIHZhciBoYXNCb3R0b21TY3JvbGwgPSB0YXJnZXQuc2Nyb2xsV2lkdGggPiB0YXJnZXQuY2xpZW50V2lkdGggfHwgW3N0eWxlLm92ZXJmbG93LCBzdHlsZS5vdmVyZmxvd1hdLmluZGV4T2YoJ3Njcm9sbCcpID49IDAgfHwgdGhpcy50YXJnZXQgIT09IGRvY3VtZW50LmJvZHk7XG5cbiAgICAgICAgICB2YXIgc2Nyb2xsQm90dG9tID0gMDtcbiAgICAgICAgICBpZiAoaGFzQm90dG9tU2Nyb2xsKSB7XG4gICAgICAgICAgICBzY3JvbGxCb3R0b20gPSAxNTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgaGVpZ2h0ID0gYm91bmRzLmhlaWdodCAtIHBhcnNlRmxvYXQoc3R5bGUuYm9yZGVyVG9wV2lkdGgpIC0gcGFyc2VGbG9hdChzdHlsZS5ib3JkZXJCb3R0b21XaWR0aCkgLSBzY3JvbGxCb3R0b207XG5cbiAgICAgICAgICB2YXIgb3V0ID0ge1xuICAgICAgICAgICAgd2lkdGg6IDE1LFxuICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHQgKiAwLjk3NSAqIChoZWlnaHQgLyB0YXJnZXQuc2Nyb2xsSGVpZ2h0KSxcbiAgICAgICAgICAgIGxlZnQ6IGJvdW5kcy5sZWZ0ICsgYm91bmRzLndpZHRoIC0gcGFyc2VGbG9hdChzdHlsZS5ib3JkZXJMZWZ0V2lkdGgpIC0gMTVcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdmFyIGZpdEFkaiA9IDA7XG4gICAgICAgICAgaWYgKGhlaWdodCA8IDQwOCAmJiB0aGlzLnRhcmdldCA9PT0gZG9jdW1lbnQuYm9keSkge1xuICAgICAgICAgICAgZml0QWRqID0gLTAuMDAwMTEgKiBNYXRoLnBvdyhoZWlnaHQsIDIpIC0gMC4wMDcyNyAqIGhlaWdodCArIDIyLjU4O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh0aGlzLnRhcmdldCAhPT0gZG9jdW1lbnQuYm9keSkge1xuICAgICAgICAgICAgb3V0LmhlaWdodCA9IE1hdGgubWF4KG91dC5oZWlnaHQsIDI0KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgc2Nyb2xsUGVyY2VudGFnZSA9IHRoaXMudGFyZ2V0LnNjcm9sbFRvcCAvICh0YXJnZXQuc2Nyb2xsSGVpZ2h0IC0gaGVpZ2h0KTtcbiAgICAgICAgICBvdXQudG9wID0gc2Nyb2xsUGVyY2VudGFnZSAqIChoZWlnaHQgLSBvdXQuaGVpZ2h0IC0gZml0QWRqKSArIGJvdW5kcy50b3AgKyBwYXJzZUZsb2F0KHN0eWxlLmJvcmRlclRvcFdpZHRoKTtcblxuICAgICAgICAgIGlmICh0aGlzLnRhcmdldCA9PT0gZG9jdW1lbnQuYm9keSkge1xuICAgICAgICAgICAgb3V0LmhlaWdodCA9IE1hdGgubWF4KG91dC5oZWlnaHQsIDI0KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gb3V0O1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZ2V0Qm91bmRzKHRoaXMudGFyZ2V0KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjbGVhckNhY2hlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXJDYWNoZSgpIHtcbiAgICAgIHRoaXMuX2NhY2hlID0ge307XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY2FjaGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjYWNoZShrLCBnZXR0ZXIpIHtcbiAgICAgIC8vIE1vcmUgdGhhbiBvbmUgbW9kdWxlIHdpbGwgb2Z0ZW4gbmVlZCB0aGUgc2FtZSBET00gaW5mbywgc29cbiAgICAgIC8vIHdlIGtlZXAgYSBjYWNoZSB3aGljaCBpcyBjbGVhcmVkIG9uIGVhY2ggcG9zaXRpb24gY2FsbFxuICAgICAgaWYgKHR5cGVvZiB0aGlzLl9jYWNoZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhpcy5fY2FjaGUgPSB7fTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiB0aGlzLl9jYWNoZVtrXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhpcy5fY2FjaGVba10gPSBnZXR0ZXIuY2FsbCh0aGlzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlW2tdO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2VuYWJsZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGVuYWJsZSgpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB2YXIgcG9zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGFyZ3VtZW50c1swXTtcblxuICAgICAgaWYgKCEodGhpcy5vcHRpb25zLmFkZFRhcmdldENsYXNzZXMgPT09IGZhbHNlKSkge1xuICAgICAgICBhZGRDbGFzcyh0aGlzLnRhcmdldCwgdGhpcy5nZXRDbGFzcygnZW5hYmxlZCcpKTtcbiAgICAgIH1cbiAgICAgIGFkZENsYXNzKHRoaXMuZWxlbWVudCwgdGhpcy5nZXRDbGFzcygnZW5hYmxlZCcpKTtcbiAgICAgIHRoaXMuZW5hYmxlZCA9IHRydWU7XG5cbiAgICAgIHRoaXMuc2Nyb2xsUGFyZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChwYXJlbnQpIHtcbiAgICAgICAgaWYgKHBhcmVudCAhPT0gX3RoaXMzLnRhcmdldC5vd25lckRvY3VtZW50KSB7XG4gICAgICAgICAgcGFyZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIF90aGlzMy5wb3NpdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAocG9zKSB7XG4gICAgICAgIHRoaXMucG9zaXRpb24oKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdkaXNhYmxlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzYWJsZSgpIHtcbiAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICByZW1vdmVDbGFzcyh0aGlzLnRhcmdldCwgdGhpcy5nZXRDbGFzcygnZW5hYmxlZCcpKTtcbiAgICAgIHJlbW92ZUNsYXNzKHRoaXMuZWxlbWVudCwgdGhpcy5nZXRDbGFzcygnZW5hYmxlZCcpKTtcbiAgICAgIHRoaXMuZW5hYmxlZCA9IGZhbHNlO1xuXG4gICAgICBpZiAodHlwZW9mIHRoaXMuc2Nyb2xsUGFyZW50cyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhpcy5zY3JvbGxQYXJlbnRzLmZvckVhY2goZnVuY3Rpb24gKHBhcmVudCkge1xuICAgICAgICAgIHBhcmVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBfdGhpczQucG9zaXRpb24pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdkZXN0cm95JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gICAgICB0aGlzLmRpc2FibGUoKTtcblxuICAgICAgdGV0aGVycy5mb3JFYWNoKGZ1bmN0aW9uICh0ZXRoZXIsIGkpIHtcbiAgICAgICAgaWYgKHRldGhlciA9PT0gX3RoaXM1KSB7XG4gICAgICAgICAgdGV0aGVycy5zcGxpY2UoaSwgMSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBSZW1vdmUgYW55IGVsZW1lbnRzIHdlIHdlcmUgdXNpbmcgZm9yIGNvbnZlbmllbmNlIGZyb20gdGhlIERPTVxuICAgICAgaWYgKHRldGhlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJlbW92ZVV0aWxFbGVtZW50cygpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3VwZGF0ZUF0dGFjaENsYXNzZXMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVBdHRhY2hDbGFzc2VzKGVsZW1lbnRBdHRhY2gsIHRhcmdldEF0dGFjaCkge1xuICAgICAgdmFyIF90aGlzNiA9IHRoaXM7XG5cbiAgICAgIGVsZW1lbnRBdHRhY2ggPSBlbGVtZW50QXR0YWNoIHx8IHRoaXMuYXR0YWNobWVudDtcbiAgICAgIHRhcmdldEF0dGFjaCA9IHRhcmdldEF0dGFjaCB8fCB0aGlzLnRhcmdldEF0dGFjaG1lbnQ7XG4gICAgICB2YXIgc2lkZXMgPSBbJ2xlZnQnLCAndG9wJywgJ2JvdHRvbScsICdyaWdodCcsICdtaWRkbGUnLCAnY2VudGVyJ107XG5cbiAgICAgIGlmICh0eXBlb2YgdGhpcy5fYWRkQXR0YWNoQ2xhc3NlcyAhPT0gJ3VuZGVmaW5lZCcgJiYgdGhpcy5fYWRkQXR0YWNoQ2xhc3Nlcy5sZW5ndGgpIHtcbiAgICAgICAgLy8gdXBkYXRlQXR0YWNoQ2xhc3NlcyBjYW4gYmUgY2FsbGVkIG1vcmUgdGhhbiBvbmNlIGluIGEgcG9zaXRpb24gY2FsbCwgc29cbiAgICAgICAgLy8gd2UgbmVlZCB0byBjbGVhbiB1cCBhZnRlciBvdXJzZWx2ZXMgc3VjaCB0aGF0IHdoZW4gdGhlIGxhc3QgZGVmZXIgZ2V0c1xuICAgICAgICAvLyByYW4gaXQgZG9lc24ndCBhZGQgYW55IGV4dHJhIGNsYXNzZXMgZnJvbSBwcmV2aW91cyBjYWxscy5cbiAgICAgICAgdGhpcy5fYWRkQXR0YWNoQ2xhc3Nlcy5zcGxpY2UoMCwgdGhpcy5fYWRkQXR0YWNoQ2xhc3Nlcy5sZW5ndGgpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIHRoaXMuX2FkZEF0dGFjaENsYXNzZXMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRoaXMuX2FkZEF0dGFjaENsYXNzZXMgPSBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBhZGQgPSB0aGlzLl9hZGRBdHRhY2hDbGFzc2VzO1xuXG4gICAgICBpZiAoZWxlbWVudEF0dGFjaC50b3ApIHtcbiAgICAgICAgYWRkLnB1c2godGhpcy5nZXRDbGFzcygnZWxlbWVudC1hdHRhY2hlZCcpICsgJy0nICsgZWxlbWVudEF0dGFjaC50b3ApO1xuICAgICAgfVxuICAgICAgaWYgKGVsZW1lbnRBdHRhY2gubGVmdCkge1xuICAgICAgICBhZGQucHVzaCh0aGlzLmdldENsYXNzKCdlbGVtZW50LWF0dGFjaGVkJykgKyAnLScgKyBlbGVtZW50QXR0YWNoLmxlZnQpO1xuICAgICAgfVxuICAgICAgaWYgKHRhcmdldEF0dGFjaC50b3ApIHtcbiAgICAgICAgYWRkLnB1c2godGhpcy5nZXRDbGFzcygndGFyZ2V0LWF0dGFjaGVkJykgKyAnLScgKyB0YXJnZXRBdHRhY2gudG9wKTtcbiAgICAgIH1cbiAgICAgIGlmICh0YXJnZXRBdHRhY2gubGVmdCkge1xuICAgICAgICBhZGQucHVzaCh0aGlzLmdldENsYXNzKCd0YXJnZXQtYXR0YWNoZWQnKSArICctJyArIHRhcmdldEF0dGFjaC5sZWZ0KTtcbiAgICAgIH1cblxuICAgICAgdmFyIGFsbCA9IFtdO1xuICAgICAgc2lkZXMuZm9yRWFjaChmdW5jdGlvbiAoc2lkZSkge1xuICAgICAgICBhbGwucHVzaChfdGhpczYuZ2V0Q2xhc3MoJ2VsZW1lbnQtYXR0YWNoZWQnKSArICctJyArIHNpZGUpO1xuICAgICAgICBhbGwucHVzaChfdGhpczYuZ2V0Q2xhc3MoJ3RhcmdldC1hdHRhY2hlZCcpICsgJy0nICsgc2lkZSk7XG4gICAgICB9KTtcblxuICAgICAgZGVmZXIoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoISh0eXBlb2YgX3RoaXM2Ll9hZGRBdHRhY2hDbGFzc2VzICE9PSAndW5kZWZpbmVkJykpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB1cGRhdGVDbGFzc2VzKF90aGlzNi5lbGVtZW50LCBfdGhpczYuX2FkZEF0dGFjaENsYXNzZXMsIGFsbCk7XG4gICAgICAgIGlmICghKF90aGlzNi5vcHRpb25zLmFkZFRhcmdldENsYXNzZXMgPT09IGZhbHNlKSkge1xuICAgICAgICAgIHVwZGF0ZUNsYXNzZXMoX3RoaXM2LnRhcmdldCwgX3RoaXM2Ll9hZGRBdHRhY2hDbGFzc2VzLCBhbGwpO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVsZXRlIF90aGlzNi5fYWRkQXR0YWNoQ2xhc3NlcztcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3Bvc2l0aW9uJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcG9zaXRpb24oKSB7XG4gICAgICB2YXIgX3RoaXM3ID0gdGhpcztcblxuICAgICAgdmFyIGZsdXNoQ2hhbmdlcyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHRydWUgOiBhcmd1bWVudHNbMF07XG5cbiAgICAgIC8vIGZsdXNoQ2hhbmdlcyBjb21taXRzIHRoZSBjaGFuZ2VzIGltbWVkaWF0ZWx5LCBsZWF2ZSB0cnVlIHVubGVzcyB5b3UgYXJlIHBvc2l0aW9uaW5nIG11bHRpcGxlXG4gICAgICAvLyB0ZXRoZXJzIChpbiB3aGljaCBjYXNlIGNhbGwgVGV0aGVyLlV0aWxzLmZsdXNoIHlvdXJzZWxmIHdoZW4geW91J3JlIGRvbmUpXG5cbiAgICAgIGlmICghdGhpcy5lbmFibGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jbGVhckNhY2hlKCk7XG5cbiAgICAgIC8vIFR1cm4gJ2F1dG8nIGF0dGFjaG1lbnRzIGludG8gdGhlIGFwcHJvcHJpYXRlIGNvcm5lciBvciBlZGdlXG4gICAgICB2YXIgdGFyZ2V0QXR0YWNobWVudCA9IGF1dG9Ub0ZpeGVkQXR0YWNobWVudCh0aGlzLnRhcmdldEF0dGFjaG1lbnQsIHRoaXMuYXR0YWNobWVudCk7XG5cbiAgICAgIHRoaXMudXBkYXRlQXR0YWNoQ2xhc3Nlcyh0aGlzLmF0dGFjaG1lbnQsIHRhcmdldEF0dGFjaG1lbnQpO1xuXG4gICAgICB2YXIgZWxlbWVudFBvcyA9IHRoaXMuY2FjaGUoJ2VsZW1lbnQtYm91bmRzJywgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZ2V0Qm91bmRzKF90aGlzNy5lbGVtZW50KTtcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgd2lkdGggPSBlbGVtZW50UG9zLndpZHRoO1xuICAgICAgdmFyIGhlaWdodCA9IGVsZW1lbnRQb3MuaGVpZ2h0O1xuXG4gICAgICBpZiAod2lkdGggPT09IDAgJiYgaGVpZ2h0ID09PSAwICYmIHR5cGVvZiB0aGlzLmxhc3RTaXplICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB2YXIgX2xhc3RTaXplID0gdGhpcy5sYXN0U2l6ZTtcblxuICAgICAgICAvLyBXZSBjYWNoZSB0aGUgaGVpZ2h0IGFuZCB3aWR0aCB0byBtYWtlIGl0IHBvc3NpYmxlIHRvIHBvc2l0aW9uIGVsZW1lbnRzIHRoYXQgYXJlXG4gICAgICAgIC8vIGdldHRpbmcgaGlkZGVuLlxuICAgICAgICB3aWR0aCA9IF9sYXN0U2l6ZS53aWR0aDtcbiAgICAgICAgaGVpZ2h0ID0gX2xhc3RTaXplLmhlaWdodDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubGFzdFNpemUgPSB7IHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQgfTtcbiAgICAgIH1cblxuICAgICAgdmFyIHRhcmdldFBvcyA9IHRoaXMuY2FjaGUoJ3RhcmdldC1ib3VuZHMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGhpczcuZ2V0VGFyZ2V0Qm91bmRzKCk7XG4gICAgICB9KTtcbiAgICAgIHZhciB0YXJnZXRTaXplID0gdGFyZ2V0UG9zO1xuXG4gICAgICAvLyBHZXQgYW4gYWN0dWFsIHB4IG9mZnNldCBmcm9tIHRoZSBhdHRhY2htZW50XG4gICAgICB2YXIgb2Zmc2V0ID0gb2Zmc2V0VG9QeChhdHRhY2htZW50VG9PZmZzZXQodGhpcy5hdHRhY2htZW50KSwgeyB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0IH0pO1xuICAgICAgdmFyIHRhcmdldE9mZnNldCA9IG9mZnNldFRvUHgoYXR0YWNobWVudFRvT2Zmc2V0KHRhcmdldEF0dGFjaG1lbnQpLCB0YXJnZXRTaXplKTtcblxuICAgICAgdmFyIG1hbnVhbE9mZnNldCA9IG9mZnNldFRvUHgodGhpcy5vZmZzZXQsIHsgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCB9KTtcbiAgICAgIHZhciBtYW51YWxUYXJnZXRPZmZzZXQgPSBvZmZzZXRUb1B4KHRoaXMudGFyZ2V0T2Zmc2V0LCB0YXJnZXRTaXplKTtcblxuICAgICAgLy8gQWRkIHRoZSBtYW51YWxseSBwcm92aWRlZCBvZmZzZXRcbiAgICAgIG9mZnNldCA9IGFkZE9mZnNldChvZmZzZXQsIG1hbnVhbE9mZnNldCk7XG4gICAgICB0YXJnZXRPZmZzZXQgPSBhZGRPZmZzZXQodGFyZ2V0T2Zmc2V0LCBtYW51YWxUYXJnZXRPZmZzZXQpO1xuXG4gICAgICAvLyBJdCdzIG5vdyBvdXIgZ29hbCB0byBtYWtlIChlbGVtZW50IHBvc2l0aW9uICsgb2Zmc2V0KSA9PSAodGFyZ2V0IHBvc2l0aW9uICsgdGFyZ2V0IG9mZnNldClcbiAgICAgIHZhciBsZWZ0ID0gdGFyZ2V0UG9zLmxlZnQgKyB0YXJnZXRPZmZzZXQubGVmdCAtIG9mZnNldC5sZWZ0O1xuICAgICAgdmFyIHRvcCA9IHRhcmdldFBvcy50b3AgKyB0YXJnZXRPZmZzZXQudG9wIC0gb2Zmc2V0LnRvcDtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBUZXRoZXJCYXNlLm1vZHVsZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIF9tb2R1bGUyID0gVGV0aGVyQmFzZS5tb2R1bGVzW2ldO1xuICAgICAgICB2YXIgcmV0ID0gX21vZHVsZTIucG9zaXRpb24uY2FsbCh0aGlzLCB7XG4gICAgICAgICAgbGVmdDogbGVmdCxcbiAgICAgICAgICB0b3A6IHRvcCxcbiAgICAgICAgICB0YXJnZXRBdHRhY2htZW50OiB0YXJnZXRBdHRhY2htZW50LFxuICAgICAgICAgIHRhcmdldFBvczogdGFyZ2V0UG9zLFxuICAgICAgICAgIGVsZW1lbnRQb3M6IGVsZW1lbnRQb3MsXG4gICAgICAgICAgb2Zmc2V0OiBvZmZzZXQsXG4gICAgICAgICAgdGFyZ2V0T2Zmc2V0OiB0YXJnZXRPZmZzZXQsXG4gICAgICAgICAgbWFudWFsT2Zmc2V0OiBtYW51YWxPZmZzZXQsXG4gICAgICAgICAgbWFudWFsVGFyZ2V0T2Zmc2V0OiBtYW51YWxUYXJnZXRPZmZzZXQsXG4gICAgICAgICAgc2Nyb2xsYmFyU2l6ZTogc2Nyb2xsYmFyU2l6ZSxcbiAgICAgICAgICBhdHRhY2htZW50OiB0aGlzLmF0dGFjaG1lbnRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHJldCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHJldCA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIHJldCAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0b3AgPSByZXQudG9wO1xuICAgICAgICAgIGxlZnQgPSByZXQubGVmdDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBXZSBkZXNjcmliZSB0aGUgcG9zaXRpb24gdGhyZWUgZGlmZmVyZW50IHdheXMgdG8gZ2l2ZSB0aGUgb3B0aW1pemVyXG4gICAgICAvLyBhIGNoYW5jZSB0byBkZWNpZGUgdGhlIGJlc3QgcG9zc2libGUgd2F5IHRvIHBvc2l0aW9uIHRoZSBlbGVtZW50XG4gICAgICAvLyB3aXRoIHRoZSBmZXdlc3QgcmVwYWludHMuXG4gICAgICB2YXIgbmV4dCA9IHtcbiAgICAgICAgLy8gSXQncyBwb3NpdGlvbiByZWxhdGl2ZSB0byB0aGUgcGFnZSAoYWJzb2x1dGUgcG9zaXRpb25pbmcgd2hlblxuICAgICAgICAvLyB0aGUgZWxlbWVudCBpcyBhIGNoaWxkIG9mIHRoZSBib2R5KVxuICAgICAgICBwYWdlOiB7XG4gICAgICAgICAgdG9wOiB0b3AsXG4gICAgICAgICAgbGVmdDogbGVmdFxuICAgICAgICB9LFxuXG4gICAgICAgIC8vIEl0J3MgcG9zaXRpb24gcmVsYXRpdmUgdG8gdGhlIHZpZXdwb3J0IChmaXhlZCBwb3NpdGlvbmluZylcbiAgICAgICAgdmlld3BvcnQ6IHtcbiAgICAgICAgICB0b3A6IHRvcCAtIHBhZ2VZT2Zmc2V0LFxuICAgICAgICAgIGJvdHRvbTogcGFnZVlPZmZzZXQgLSB0b3AgLSBoZWlnaHQgKyBpbm5lckhlaWdodCxcbiAgICAgICAgICBsZWZ0OiBsZWZ0IC0gcGFnZVhPZmZzZXQsXG4gICAgICAgICAgcmlnaHQ6IHBhZ2VYT2Zmc2V0IC0gbGVmdCAtIHdpZHRoICsgaW5uZXJXaWR0aFxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB2YXIgZG9jID0gdGhpcy50YXJnZXQub3duZXJEb2N1bWVudDtcbiAgICAgIHZhciB3aW4gPSBkb2MuZGVmYXVsdFZpZXc7XG5cbiAgICAgIHZhciBzY3JvbGxiYXJTaXplID0gdW5kZWZpbmVkO1xuICAgICAgaWYgKHdpbi5pbm5lckhlaWdodCA+IGRvYy5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KSB7XG4gICAgICAgIHNjcm9sbGJhclNpemUgPSB0aGlzLmNhY2hlKCdzY3JvbGxiYXItc2l6ZScsIGdldFNjcm9sbEJhclNpemUpO1xuICAgICAgICBuZXh0LnZpZXdwb3J0LmJvdHRvbSAtPSBzY3JvbGxiYXJTaXplLmhlaWdodDtcbiAgICAgIH1cblxuICAgICAgaWYgKHdpbi5pbm5lcldpZHRoID4gZG9jLmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCkge1xuICAgICAgICBzY3JvbGxiYXJTaXplID0gdGhpcy5jYWNoZSgnc2Nyb2xsYmFyLXNpemUnLCBnZXRTY3JvbGxCYXJTaXplKTtcbiAgICAgICAgbmV4dC52aWV3cG9ydC5yaWdodCAtPSBzY3JvbGxiYXJTaXplLndpZHRoO1xuICAgICAgfVxuXG4gICAgICBpZiAoWycnLCAnc3RhdGljJ10uaW5kZXhPZihkb2MuYm9keS5zdHlsZS5wb3NpdGlvbikgPT09IC0xIHx8IFsnJywgJ3N0YXRpYyddLmluZGV4T2YoZG9jLmJvZHkucGFyZW50RWxlbWVudC5zdHlsZS5wb3NpdGlvbikgPT09IC0xKSB7XG4gICAgICAgIC8vIEFic29sdXRlIHBvc2l0aW9uaW5nIGluIHRoZSBib2R5IHdpbGwgYmUgcmVsYXRpdmUgdG8gdGhlIHBhZ2UsIG5vdCB0aGUgJ2luaXRpYWwgY29udGFpbmluZyBibG9jaydcbiAgICAgICAgbmV4dC5wYWdlLmJvdHRvbSA9IGRvYy5ib2R5LnNjcm9sbEhlaWdodCAtIHRvcCAtIGhlaWdodDtcbiAgICAgICAgbmV4dC5wYWdlLnJpZ2h0ID0gZG9jLmJvZHkuc2Nyb2xsV2lkdGggLSBsZWZ0IC0gd2lkdGg7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9wdGltaXphdGlvbnMgIT09ICd1bmRlZmluZWQnICYmIHRoaXMub3B0aW9ucy5vcHRpbWl6YXRpb25zLm1vdmVFbGVtZW50ICE9PSBmYWxzZSAmJiAhKHR5cGVvZiB0aGlzLnRhcmdldE1vZGlmaWVyICE9PSAndW5kZWZpbmVkJykpIHtcbiAgICAgICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgb2Zmc2V0UGFyZW50ID0gX3RoaXM3LmNhY2hlKCd0YXJnZXQtb2Zmc2V0cGFyZW50JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGdldE9mZnNldFBhcmVudChfdGhpczcudGFyZ2V0KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB2YXIgb2Zmc2V0UG9zaXRpb24gPSBfdGhpczcuY2FjaGUoJ3RhcmdldC1vZmZzZXRwYXJlbnQtYm91bmRzJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGdldEJvdW5kcyhvZmZzZXRQYXJlbnQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHZhciBvZmZzZXRQYXJlbnRTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUob2Zmc2V0UGFyZW50KTtcbiAgICAgICAgICB2YXIgb2Zmc2V0UGFyZW50U2l6ZSA9IG9mZnNldFBvc2l0aW9uO1xuXG4gICAgICAgICAgdmFyIG9mZnNldEJvcmRlciA9IHt9O1xuICAgICAgICAgIFsnVG9wJywgJ0xlZnQnLCAnQm90dG9tJywgJ1JpZ2h0J10uZm9yRWFjaChmdW5jdGlvbiAoc2lkZSkge1xuICAgICAgICAgICAgb2Zmc2V0Qm9yZGVyW3NpZGUudG9Mb3dlckNhc2UoKV0gPSBwYXJzZUZsb2F0KG9mZnNldFBhcmVudFN0eWxlWydib3JkZXInICsgc2lkZSArICdXaWR0aCddKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIG9mZnNldFBvc2l0aW9uLnJpZ2h0ID0gZG9jLmJvZHkuc2Nyb2xsV2lkdGggLSBvZmZzZXRQb3NpdGlvbi5sZWZ0IC0gb2Zmc2V0UGFyZW50U2l6ZS53aWR0aCArIG9mZnNldEJvcmRlci5yaWdodDtcbiAgICAgICAgICBvZmZzZXRQb3NpdGlvbi5ib3R0b20gPSBkb2MuYm9keS5zY3JvbGxIZWlnaHQgLSBvZmZzZXRQb3NpdGlvbi50b3AgLSBvZmZzZXRQYXJlbnRTaXplLmhlaWdodCArIG9mZnNldEJvcmRlci5ib3R0b207XG5cbiAgICAgICAgICBpZiAobmV4dC5wYWdlLnRvcCA+PSBvZmZzZXRQb3NpdGlvbi50b3AgKyBvZmZzZXRCb3JkZXIudG9wICYmIG5leHQucGFnZS5ib3R0b20gPj0gb2Zmc2V0UG9zaXRpb24uYm90dG9tKSB7XG4gICAgICAgICAgICBpZiAobmV4dC5wYWdlLmxlZnQgPj0gb2Zmc2V0UG9zaXRpb24ubGVmdCArIG9mZnNldEJvcmRlci5sZWZ0ICYmIG5leHQucGFnZS5yaWdodCA+PSBvZmZzZXRQb3NpdGlvbi5yaWdodCkge1xuICAgICAgICAgICAgICAvLyBXZSdyZSB3aXRoaW4gdGhlIHZpc2libGUgcGFydCBvZiB0aGUgdGFyZ2V0J3Mgc2Nyb2xsIHBhcmVudFxuICAgICAgICAgICAgICB2YXIgc2Nyb2xsVG9wID0gb2Zmc2V0UGFyZW50LnNjcm9sbFRvcDtcbiAgICAgICAgICAgICAgdmFyIHNjcm9sbExlZnQgPSBvZmZzZXRQYXJlbnQuc2Nyb2xsTGVmdDtcblxuICAgICAgICAgICAgICAvLyBJdCdzIHBvc2l0aW9uIHJlbGF0aXZlIHRvIHRoZSB0YXJnZXQncyBvZmZzZXQgcGFyZW50IChhYnNvbHV0ZSBwb3NpdGlvbmluZyB3aGVuXG4gICAgICAgICAgICAgIC8vIHRoZSBlbGVtZW50IGlzIG1vdmVkIHRvIGJlIGEgY2hpbGQgb2YgdGhlIHRhcmdldCdzIG9mZnNldCBwYXJlbnQpLlxuICAgICAgICAgICAgICBuZXh0Lm9mZnNldCA9IHtcbiAgICAgICAgICAgICAgICB0b3A6IG5leHQucGFnZS50b3AgLSBvZmZzZXRQb3NpdGlvbi50b3AgKyBzY3JvbGxUb3AgLSBvZmZzZXRCb3JkZXIudG9wLFxuICAgICAgICAgICAgICAgIGxlZnQ6IG5leHQucGFnZS5sZWZ0IC0gb2Zmc2V0UG9zaXRpb24ubGVmdCArIHNjcm9sbExlZnQgLSBvZmZzZXRCb3JkZXIubGVmdFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSkoKTtcbiAgICAgIH1cblxuICAgICAgLy8gV2UgY291bGQgYWxzbyB0cmF2ZWwgdXAgdGhlIERPTSBhbmQgdHJ5IGVhY2ggY29udGFpbmluZyBjb250ZXh0LCByYXRoZXIgdGhhbiBvbmx5XG4gICAgICAvLyBsb29raW5nIGF0IHRoZSBib2R5LCBidXQgd2UncmUgZ29ubmEgZ2V0IGRpbWluaXNoaW5nIHJldHVybnMuXG5cbiAgICAgIHRoaXMubW92ZShuZXh0KTtcblxuICAgICAgdGhpcy5oaXN0b3J5LnVuc2hpZnQobmV4dCk7XG5cbiAgICAgIGlmICh0aGlzLmhpc3RvcnkubGVuZ3RoID4gMykge1xuICAgICAgICB0aGlzLmhpc3RvcnkucG9wKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChmbHVzaENoYW5nZXMpIHtcbiAgICAgICAgZmx1c2goKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gVEhFIElTU1VFXG4gIH0sIHtcbiAgICBrZXk6ICdtb3ZlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gbW92ZShwb3MpIHtcbiAgICAgIHZhciBfdGhpczggPSB0aGlzO1xuXG4gICAgICBpZiAoISh0eXBlb2YgdGhpcy5lbGVtZW50LnBhcmVudE5vZGUgIT09ICd1bmRlZmluZWQnKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBzYW1lID0ge307XG5cbiAgICAgIGZvciAodmFyIHR5cGUgaW4gcG9zKSB7XG4gICAgICAgIHNhbWVbdHlwZV0gPSB7fTtcblxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gcG9zW3R5cGVdKSB7XG4gICAgICAgICAgdmFyIGZvdW5kID0gZmFsc2U7XG5cbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuaGlzdG9yeS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIHBvaW50ID0gdGhpcy5oaXN0b3J5W2ldO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBwb2ludFt0eXBlXSAhPT0gJ3VuZGVmaW5lZCcgJiYgIXdpdGhpbihwb2ludFt0eXBlXVtrZXldLCBwb3NbdHlwZV1ba2V5XSkpIHtcbiAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIWZvdW5kKSB7XG4gICAgICAgICAgICBzYW1lW3R5cGVdW2tleV0gPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgY3NzID0geyB0b3A6ICcnLCBsZWZ0OiAnJywgcmlnaHQ6ICcnLCBib3R0b206ICcnIH07XG5cbiAgICAgIHZhciB0cmFuc2NyaWJlID0gZnVuY3Rpb24gdHJhbnNjcmliZShfc2FtZSwgX3Bvcykge1xuICAgICAgICB2YXIgaGFzT3B0aW1pemF0aW9ucyA9IHR5cGVvZiBfdGhpczgub3B0aW9ucy5vcHRpbWl6YXRpb25zICE9PSAndW5kZWZpbmVkJztcbiAgICAgICAgdmFyIGdwdSA9IGhhc09wdGltaXphdGlvbnMgPyBfdGhpczgub3B0aW9ucy5vcHRpbWl6YXRpb25zLmdwdSA6IG51bGw7XG4gICAgICAgIGlmIChncHUgIT09IGZhbHNlKSB7XG4gICAgICAgICAgdmFyIHlQb3MgPSB1bmRlZmluZWQsXG4gICAgICAgICAgICAgIHhQb3MgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgaWYgKF9zYW1lLnRvcCkge1xuICAgICAgICAgICAgY3NzLnRvcCA9IDA7XG4gICAgICAgICAgICB5UG9zID0gX3Bvcy50b3A7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNzcy5ib3R0b20gPSAwO1xuICAgICAgICAgICAgeVBvcyA9IC1fcG9zLmJvdHRvbTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoX3NhbWUubGVmdCkge1xuICAgICAgICAgICAgY3NzLmxlZnQgPSAwO1xuICAgICAgICAgICAgeFBvcyA9IF9wb3MubGVmdDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY3NzLnJpZ2h0ID0gMDtcbiAgICAgICAgICAgIHhQb3MgPSAtX3Bvcy5yaWdodDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAod2luZG93Lm1hdGNoTWVkaWEpIHtcbiAgICAgICAgICAgIC8vIEh1YlNwb3QvdGV0aGVyIzIwN1xuICAgICAgICAgICAgdmFyIHJldGluYSA9IHdpbmRvdy5tYXRjaE1lZGlhKCdvbmx5IHNjcmVlbiBhbmQgKG1pbi1yZXNvbHV0aW9uOiAxLjNkcHB4KScpLm1hdGNoZXMgfHwgd2luZG93Lm1hdGNoTWVkaWEoJ29ubHkgc2NyZWVuIGFuZCAoLXdlYmtpdC1taW4tZGV2aWNlLXBpeGVsLXJhdGlvOiAxLjMpJykubWF0Y2hlcztcbiAgICAgICAgICAgIGlmICghcmV0aW5hKSB7XG4gICAgICAgICAgICAgIHhQb3MgPSBNYXRoLnJvdW5kKHhQb3MpO1xuICAgICAgICAgICAgICB5UG9zID0gTWF0aC5yb3VuZCh5UG9zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjc3NbdHJhbnNmb3JtS2V5XSA9ICd0cmFuc2xhdGVYKCcgKyB4UG9zICsgJ3B4KSB0cmFuc2xhdGVZKCcgKyB5UG9zICsgJ3B4KSc7XG5cbiAgICAgICAgICBpZiAodHJhbnNmb3JtS2V5ICE9PSAnbXNUcmFuc2Zvcm0nKSB7XG4gICAgICAgICAgICAvLyBUaGUgWiB0cmFuc2Zvcm0gd2lsbCBrZWVwIHRoaXMgaW4gdGhlIEdQVSAoZmFzdGVyLCBhbmQgcHJldmVudHMgYXJ0aWZhY3RzKSxcbiAgICAgICAgICAgIC8vIGJ1dCBJRTkgZG9lc24ndCBzdXBwb3J0IDNkIHRyYW5zZm9ybXMgYW5kIHdpbGwgY2hva2UuXG4gICAgICAgICAgICBjc3NbdHJhbnNmb3JtS2V5XSArPSBcIiB0cmFuc2xhdGVaKDApXCI7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChfc2FtZS50b3ApIHtcbiAgICAgICAgICAgIGNzcy50b3AgPSBfcG9zLnRvcCArICdweCc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNzcy5ib3R0b20gPSBfcG9zLmJvdHRvbSArICdweCc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKF9zYW1lLmxlZnQpIHtcbiAgICAgICAgICAgIGNzcy5sZWZ0ID0gX3Bvcy5sZWZ0ICsgJ3B4JztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY3NzLnJpZ2h0ID0gX3Bvcy5yaWdodCArICdweCc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB2YXIgbW92ZWQgPSBmYWxzZTtcbiAgICAgIGlmICgoc2FtZS5wYWdlLnRvcCB8fCBzYW1lLnBhZ2UuYm90dG9tKSAmJiAoc2FtZS5wYWdlLmxlZnQgfHwgc2FtZS5wYWdlLnJpZ2h0KSkge1xuICAgICAgICBjc3MucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICB0cmFuc2NyaWJlKHNhbWUucGFnZSwgcG9zLnBhZ2UpO1xuICAgICAgfSBlbHNlIGlmICgoc2FtZS52aWV3cG9ydC50b3AgfHwgc2FtZS52aWV3cG9ydC5ib3R0b20pICYmIChzYW1lLnZpZXdwb3J0LmxlZnQgfHwgc2FtZS52aWV3cG9ydC5yaWdodCkpIHtcbiAgICAgICAgY3NzLnBvc2l0aW9uID0gJ2ZpeGVkJztcbiAgICAgICAgdHJhbnNjcmliZShzYW1lLnZpZXdwb3J0LCBwb3Mudmlld3BvcnQpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygc2FtZS5vZmZzZXQgIT09ICd1bmRlZmluZWQnICYmIHNhbWUub2Zmc2V0LnRvcCAmJiBzYW1lLm9mZnNldC5sZWZ0KSB7XG4gICAgICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgY3NzLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgICB2YXIgb2Zmc2V0UGFyZW50ID0gX3RoaXM4LmNhY2hlKCd0YXJnZXQtb2Zmc2V0cGFyZW50JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGdldE9mZnNldFBhcmVudChfdGhpczgudGFyZ2V0KTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGlmIChnZXRPZmZzZXRQYXJlbnQoX3RoaXM4LmVsZW1lbnQpICE9PSBvZmZzZXRQYXJlbnQpIHtcbiAgICAgICAgICAgIGRlZmVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgX3RoaXM4LmVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChfdGhpczguZWxlbWVudCk7XG4gICAgICAgICAgICAgIG9mZnNldFBhcmVudC5hcHBlbmRDaGlsZChfdGhpczguZWxlbWVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0cmFuc2NyaWJlKHNhbWUub2Zmc2V0LCBwb3Mub2Zmc2V0KTtcbiAgICAgICAgICBtb3ZlZCA9IHRydWU7XG4gICAgICAgIH0pKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjc3MucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICB0cmFuc2NyaWJlKHsgdG9wOiB0cnVlLCBsZWZ0OiB0cnVlIH0sIHBvcy5wYWdlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFtb3ZlZCkge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmJvZHlFbGVtZW50KSB7XG4gICAgICAgICAgdGhpcy5vcHRpb25zLmJvZHlFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIG9mZnNldFBhcmVudElzQm9keSA9IHRydWU7XG4gICAgICAgICAgdmFyIGN1cnJlbnROb2RlID0gdGhpcy5lbGVtZW50LnBhcmVudE5vZGU7XG4gICAgICAgICAgd2hpbGUgKGN1cnJlbnROb2RlICYmIGN1cnJlbnROb2RlLm5vZGVUeXBlID09PSAxICYmIGN1cnJlbnROb2RlLnRhZ05hbWUgIT09ICdCT0RZJykge1xuICAgICAgICAgICAgaWYgKGdldENvbXB1dGVkU3R5bGUoY3VycmVudE5vZGUpLnBvc2l0aW9uICE9PSAnc3RhdGljJykge1xuICAgICAgICAgICAgICBvZmZzZXRQYXJlbnRJc0JvZHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGN1cnJlbnROb2RlID0gY3VycmVudE5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIW9mZnNldFBhcmVudElzQm9keSkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5lbGVtZW50KTtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5vd25lckRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gQW55IGNzcyBjaGFuZ2Ugd2lsbCB0cmlnZ2VyIGEgcmVwYWludCwgc28gbGV0J3MgYXZvaWQgb25lIGlmIG5vdGhpbmcgY2hhbmdlZFxuICAgICAgdmFyIHdyaXRlQ1NTID0ge307XG4gICAgICB2YXIgd3JpdGUgPSBmYWxzZTtcbiAgICAgIGZvciAodmFyIGtleSBpbiBjc3MpIHtcbiAgICAgICAgdmFyIHZhbCA9IGNzc1trZXldO1xuICAgICAgICB2YXIgZWxWYWwgPSB0aGlzLmVsZW1lbnQuc3R5bGVba2V5XTtcblxuICAgICAgICBpZiAoZWxWYWwgIT09IHZhbCkge1xuICAgICAgICAgIHdyaXRlID0gdHJ1ZTtcbiAgICAgICAgICB3cml0ZUNTU1trZXldID0gdmFsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh3cml0ZSkge1xuICAgICAgICBkZWZlcihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgZXh0ZW5kKF90aGlzOC5lbGVtZW50LnN0eWxlLCB3cml0ZUNTUyk7XG4gICAgICAgICAgX3RoaXM4LnRyaWdnZXIoJ3JlcG9zaXRpb25lZCcpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gVGV0aGVyQ2xhc3M7XG59KShFdmVudGVkKTtcblxuVGV0aGVyQ2xhc3MubW9kdWxlcyA9IFtdO1xuXG5UZXRoZXJCYXNlLnBvc2l0aW9uID0gcG9zaXRpb247XG5cbnZhciBUZXRoZXIgPSBleHRlbmQoVGV0aGVyQ2xhc3MsIFRldGhlckJhc2UpO1xuLyogZ2xvYmFscyBUZXRoZXJCYXNlICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIF9zbGljZWRUb0FycmF5ID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gc2xpY2VJdGVyYXRvcihhcnIsIGkpIHsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfZSA9IHVuZGVmaW5lZDsgdHJ5IHsgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbJ3JldHVybiddKSBfaVsncmV0dXJuJ10oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9IHJldHVybiBmdW5jdGlvbiAoYXJyLCBpKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgcmV0dXJuIGFycjsgfSBlbHNlIGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpIHsgcmV0dXJuIHNsaWNlSXRlcmF0b3IoYXJyLCBpKTsgfSBlbHNlIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZScpOyB9IH07IH0pKCk7XG5cbnZhciBfVGV0aGVyQmFzZSRVdGlscyA9IFRldGhlckJhc2UuVXRpbHM7XG52YXIgZ2V0Qm91bmRzID0gX1RldGhlckJhc2UkVXRpbHMuZ2V0Qm91bmRzO1xudmFyIGV4dGVuZCA9IF9UZXRoZXJCYXNlJFV0aWxzLmV4dGVuZDtcbnZhciB1cGRhdGVDbGFzc2VzID0gX1RldGhlckJhc2UkVXRpbHMudXBkYXRlQ2xhc3NlcztcbnZhciBkZWZlciA9IF9UZXRoZXJCYXNlJFV0aWxzLmRlZmVyO1xuXG52YXIgQk9VTkRTX0ZPUk1BVCA9IFsnbGVmdCcsICd0b3AnLCAncmlnaHQnLCAnYm90dG9tJ107XG5cbmZ1bmN0aW9uIGdldEJvdW5kaW5nUmVjdCh0ZXRoZXIsIHRvKSB7XG4gIGlmICh0byA9PT0gJ3Njcm9sbFBhcmVudCcpIHtcbiAgICB0byA9IHRldGhlci5zY3JvbGxQYXJlbnRzWzBdO1xuICB9IGVsc2UgaWYgKHRvID09PSAnd2luZG93Jykge1xuICAgIHRvID0gW3BhZ2VYT2Zmc2V0LCBwYWdlWU9mZnNldCwgaW5uZXJXaWR0aCArIHBhZ2VYT2Zmc2V0LCBpbm5lckhlaWdodCArIHBhZ2VZT2Zmc2V0XTtcbiAgfVxuXG4gIGlmICh0byA9PT0gZG9jdW1lbnQpIHtcbiAgICB0byA9IHRvLmRvY3VtZW50RWxlbWVudDtcbiAgfVxuXG4gIGlmICh0eXBlb2YgdG8ubm9kZVR5cGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBub2RlID0gdG87XG4gICAgICB2YXIgc2l6ZSA9IGdldEJvdW5kcyh0byk7XG4gICAgICB2YXIgcG9zID0gc2l6ZTtcbiAgICAgIHZhciBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUodG8pO1xuXG4gICAgICB0byA9IFtwb3MubGVmdCwgcG9zLnRvcCwgc2l6ZS53aWR0aCArIHBvcy5sZWZ0LCBzaXplLmhlaWdodCArIHBvcy50b3BdO1xuXG4gICAgICAvLyBBY2NvdW50IGFueSBwYXJlbnQgRnJhbWVzIHNjcm9sbCBvZmZzZXRcbiAgICAgIGlmIChub2RlLm93bmVyRG9jdW1lbnQgIT09IGRvY3VtZW50KSB7XG4gICAgICAgIHZhciB3aW4gPSBub2RlLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7XG4gICAgICAgIHRvWzBdICs9IHdpbi5wYWdlWE9mZnNldDtcbiAgICAgICAgdG9bMV0gKz0gd2luLnBhZ2VZT2Zmc2V0O1xuICAgICAgICB0b1syXSArPSB3aW4ucGFnZVhPZmZzZXQ7XG4gICAgICAgIHRvWzNdICs9IHdpbi5wYWdlWU9mZnNldDtcbiAgICAgIH1cblxuICAgICAgQk9VTkRTX0ZPUk1BVC5mb3JFYWNoKGZ1bmN0aW9uIChzaWRlLCBpKSB7XG4gICAgICAgIHNpZGUgPSBzaWRlWzBdLnRvVXBwZXJDYXNlKCkgKyBzaWRlLnN1YnN0cigxKTtcbiAgICAgICAgaWYgKHNpZGUgPT09ICdUb3AnIHx8IHNpZGUgPT09ICdMZWZ0Jykge1xuICAgICAgICAgIHRvW2ldICs9IHBhcnNlRmxvYXQoc3R5bGVbJ2JvcmRlcicgKyBzaWRlICsgJ1dpZHRoJ10pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRvW2ldIC09IHBhcnNlRmxvYXQoc3R5bGVbJ2JvcmRlcicgKyBzaWRlICsgJ1dpZHRoJ10pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KSgpO1xuICB9XG5cbiAgcmV0dXJuIHRvO1xufVxuXG5UZXRoZXJCYXNlLm1vZHVsZXMucHVzaCh7XG4gIHBvc2l0aW9uOiBmdW5jdGlvbiBwb3NpdGlvbihfcmVmKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciB0b3AgPSBfcmVmLnRvcDtcbiAgICB2YXIgbGVmdCA9IF9yZWYubGVmdDtcbiAgICB2YXIgdGFyZ2V0QXR0YWNobWVudCA9IF9yZWYudGFyZ2V0QXR0YWNobWVudDtcblxuICAgIGlmICghdGhpcy5vcHRpb25zLmNvbnN0cmFpbnRzKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgX2NhY2hlID0gdGhpcy5jYWNoZSgnZWxlbWVudC1ib3VuZHMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZ2V0Qm91bmRzKF90aGlzLmVsZW1lbnQpO1xuICAgIH0pO1xuXG4gICAgdmFyIGhlaWdodCA9IF9jYWNoZS5oZWlnaHQ7XG4gICAgdmFyIHdpZHRoID0gX2NhY2hlLndpZHRoO1xuXG4gICAgaWYgKHdpZHRoID09PSAwICYmIGhlaWdodCA9PT0gMCAmJiB0eXBlb2YgdGhpcy5sYXN0U2l6ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhciBfbGFzdFNpemUgPSB0aGlzLmxhc3RTaXplO1xuXG4gICAgICAvLyBIYW5kbGUgdGhlIGl0ZW0gZ2V0dGluZyBoaWRkZW4gYXMgYSByZXN1bHQgb2Ygb3VyIHBvc2l0aW9uaW5nIHdpdGhvdXQgZ2xpdGNoaW5nXG4gICAgICAvLyB0aGUgY2xhc3NlcyBpbiBhbmQgb3V0XG4gICAgICB3aWR0aCA9IF9sYXN0U2l6ZS53aWR0aDtcbiAgICAgIGhlaWdodCA9IF9sYXN0U2l6ZS5oZWlnaHQ7XG4gICAgfVxuXG4gICAgdmFyIHRhcmdldFNpemUgPSB0aGlzLmNhY2hlKCd0YXJnZXQtYm91bmRzJywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzLmdldFRhcmdldEJvdW5kcygpO1xuICAgIH0pO1xuXG4gICAgdmFyIHRhcmdldEhlaWdodCA9IHRhcmdldFNpemUuaGVpZ2h0O1xuICAgIHZhciB0YXJnZXRXaWR0aCA9IHRhcmdldFNpemUud2lkdGg7XG5cbiAgICB2YXIgYWxsQ2xhc3NlcyA9IFt0aGlzLmdldENsYXNzKCdwaW5uZWQnKSwgdGhpcy5nZXRDbGFzcygnb3V0LW9mLWJvdW5kcycpXTtcblxuICAgIHRoaXMub3B0aW9ucy5jb25zdHJhaW50cy5mb3JFYWNoKGZ1bmN0aW9uIChjb25zdHJhaW50KSB7XG4gICAgICB2YXIgb3V0T2ZCb3VuZHNDbGFzcyA9IGNvbnN0cmFpbnQub3V0T2ZCb3VuZHNDbGFzcztcbiAgICAgIHZhciBwaW5uZWRDbGFzcyA9IGNvbnN0cmFpbnQucGlubmVkQ2xhc3M7XG5cbiAgICAgIGlmIChvdXRPZkJvdW5kc0NsYXNzKSB7XG4gICAgICAgIGFsbENsYXNzZXMucHVzaChvdXRPZkJvdW5kc0NsYXNzKTtcbiAgICAgIH1cbiAgICAgIGlmIChwaW5uZWRDbGFzcykge1xuICAgICAgICBhbGxDbGFzc2VzLnB1c2gocGlubmVkQ2xhc3MpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgYWxsQ2xhc3Nlcy5mb3JFYWNoKGZ1bmN0aW9uIChjbHMpIHtcbiAgICAgIFsnbGVmdCcsICd0b3AnLCAncmlnaHQnLCAnYm90dG9tJ10uZm9yRWFjaChmdW5jdGlvbiAoc2lkZSkge1xuICAgICAgICBhbGxDbGFzc2VzLnB1c2goY2xzICsgJy0nICsgc2lkZSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHZhciBhZGRDbGFzc2VzID0gW107XG5cbiAgICB2YXIgdEF0dGFjaG1lbnQgPSBleHRlbmQoe30sIHRhcmdldEF0dGFjaG1lbnQpO1xuICAgIHZhciBlQXR0YWNobWVudCA9IGV4dGVuZCh7fSwgdGhpcy5hdHRhY2htZW50KTtcblxuICAgIHRoaXMub3B0aW9ucy5jb25zdHJhaW50cy5mb3JFYWNoKGZ1bmN0aW9uIChjb25zdHJhaW50KSB7XG4gICAgICB2YXIgdG8gPSBjb25zdHJhaW50LnRvO1xuICAgICAgdmFyIGF0dGFjaG1lbnQgPSBjb25zdHJhaW50LmF0dGFjaG1lbnQ7XG4gICAgICB2YXIgcGluID0gY29uc3RyYWludC5waW47XG5cbiAgICAgIGlmICh0eXBlb2YgYXR0YWNobWVudCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgYXR0YWNobWVudCA9ICcnO1xuICAgICAgfVxuXG4gICAgICB2YXIgY2hhbmdlQXR0YWNoWCA9IHVuZGVmaW5lZCxcbiAgICAgICAgICBjaGFuZ2VBdHRhY2hZID0gdW5kZWZpbmVkO1xuICAgICAgaWYgKGF0dGFjaG1lbnQuaW5kZXhPZignICcpID49IDApIHtcbiAgICAgICAgdmFyIF9hdHRhY2htZW50JHNwbGl0ID0gYXR0YWNobWVudC5zcGxpdCgnICcpO1xuXG4gICAgICAgIHZhciBfYXR0YWNobWVudCRzcGxpdDIgPSBfc2xpY2VkVG9BcnJheShfYXR0YWNobWVudCRzcGxpdCwgMik7XG5cbiAgICAgICAgY2hhbmdlQXR0YWNoWSA9IF9hdHRhY2htZW50JHNwbGl0MlswXTtcbiAgICAgICAgY2hhbmdlQXR0YWNoWCA9IF9hdHRhY2htZW50JHNwbGl0MlsxXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNoYW5nZUF0dGFjaFggPSBjaGFuZ2VBdHRhY2hZID0gYXR0YWNobWVudDtcbiAgICAgIH1cblxuICAgICAgdmFyIGJvdW5kcyA9IGdldEJvdW5kaW5nUmVjdChfdGhpcywgdG8pO1xuXG4gICAgICBpZiAoY2hhbmdlQXR0YWNoWSA9PT0gJ3RhcmdldCcgfHwgY2hhbmdlQXR0YWNoWSA9PT0gJ2JvdGgnKSB7XG4gICAgICAgIGlmICh0b3AgPCBib3VuZHNbMV0gJiYgdEF0dGFjaG1lbnQudG9wID09PSAndG9wJykge1xuICAgICAgICAgIHRvcCArPSB0YXJnZXRIZWlnaHQ7XG4gICAgICAgICAgdEF0dGFjaG1lbnQudG9wID0gJ2JvdHRvbSc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodG9wICsgaGVpZ2h0ID4gYm91bmRzWzNdICYmIHRBdHRhY2htZW50LnRvcCA9PT0gJ2JvdHRvbScpIHtcbiAgICAgICAgICB0b3AgLT0gdGFyZ2V0SGVpZ2h0O1xuICAgICAgICAgIHRBdHRhY2htZW50LnRvcCA9ICd0b3AnO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChjaGFuZ2VBdHRhY2hZID09PSAndG9nZXRoZXInKSB7XG4gICAgICAgIGlmICh0QXR0YWNobWVudC50b3AgPT09ICd0b3AnKSB7XG4gICAgICAgICAgaWYgKGVBdHRhY2htZW50LnRvcCA9PT0gJ2JvdHRvbScgJiYgdG9wIDwgYm91bmRzWzFdKSB7XG4gICAgICAgICAgICB0b3AgKz0gdGFyZ2V0SGVpZ2h0O1xuICAgICAgICAgICAgdEF0dGFjaG1lbnQudG9wID0gJ2JvdHRvbSc7XG5cbiAgICAgICAgICAgIHRvcCArPSBoZWlnaHQ7XG4gICAgICAgICAgICBlQXR0YWNobWVudC50b3AgPSAndG9wJztcbiAgICAgICAgICB9IGVsc2UgaWYgKGVBdHRhY2htZW50LnRvcCA9PT0gJ3RvcCcgJiYgdG9wICsgaGVpZ2h0ID4gYm91bmRzWzNdICYmIHRvcCAtIChoZWlnaHQgLSB0YXJnZXRIZWlnaHQpID49IGJvdW5kc1sxXSkge1xuICAgICAgICAgICAgdG9wIC09IGhlaWdodCAtIHRhcmdldEhlaWdodDtcbiAgICAgICAgICAgIHRBdHRhY2htZW50LnRvcCA9ICdib3R0b20nO1xuXG4gICAgICAgICAgICBlQXR0YWNobWVudC50b3AgPSAnYm90dG9tJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodEF0dGFjaG1lbnQudG9wID09PSAnYm90dG9tJykge1xuICAgICAgICAgIGlmIChlQXR0YWNobWVudC50b3AgPT09ICd0b3AnICYmIHRvcCArIGhlaWdodCA+IGJvdW5kc1szXSkge1xuICAgICAgICAgICAgdG9wIC09IHRhcmdldEhlaWdodDtcbiAgICAgICAgICAgIHRBdHRhY2htZW50LnRvcCA9ICd0b3AnO1xuXG4gICAgICAgICAgICB0b3AgLT0gaGVpZ2h0O1xuICAgICAgICAgICAgZUF0dGFjaG1lbnQudG9wID0gJ2JvdHRvbSc7XG4gICAgICAgICAgfSBlbHNlIGlmIChlQXR0YWNobWVudC50b3AgPT09ICdib3R0b20nICYmIHRvcCA8IGJvdW5kc1sxXSAmJiB0b3AgKyAoaGVpZ2h0ICogMiAtIHRhcmdldEhlaWdodCkgPD0gYm91bmRzWzNdKSB7XG4gICAgICAgICAgICB0b3AgKz0gaGVpZ2h0IC0gdGFyZ2V0SGVpZ2h0O1xuICAgICAgICAgICAgdEF0dGFjaG1lbnQudG9wID0gJ3RvcCc7XG5cbiAgICAgICAgICAgIGVBdHRhY2htZW50LnRvcCA9ICd0b3AnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0QXR0YWNobWVudC50b3AgPT09ICdtaWRkbGUnKSB7XG4gICAgICAgICAgaWYgKHRvcCArIGhlaWdodCA+IGJvdW5kc1szXSAmJiBlQXR0YWNobWVudC50b3AgPT09ICd0b3AnKSB7XG4gICAgICAgICAgICB0b3AgLT0gaGVpZ2h0O1xuICAgICAgICAgICAgZUF0dGFjaG1lbnQudG9wID0gJ2JvdHRvbSc7XG4gICAgICAgICAgfSBlbHNlIGlmICh0b3AgPCBib3VuZHNbMV0gJiYgZUF0dGFjaG1lbnQudG9wID09PSAnYm90dG9tJykge1xuICAgICAgICAgICAgdG9wICs9IGhlaWdodDtcbiAgICAgICAgICAgIGVBdHRhY2htZW50LnRvcCA9ICd0b3AnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoY2hhbmdlQXR0YWNoWCA9PT0gJ3RhcmdldCcgfHwgY2hhbmdlQXR0YWNoWCA9PT0gJ2JvdGgnKSB7XG4gICAgICAgIGlmIChsZWZ0IDwgYm91bmRzWzBdICYmIHRBdHRhY2htZW50LmxlZnQgPT09ICdsZWZ0Jykge1xuICAgICAgICAgIGxlZnQgKz0gdGFyZ2V0V2lkdGg7XG4gICAgICAgICAgdEF0dGFjaG1lbnQubGVmdCA9ICdyaWdodCc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGVmdCArIHdpZHRoID4gYm91bmRzWzJdICYmIHRBdHRhY2htZW50LmxlZnQgPT09ICdyaWdodCcpIHtcbiAgICAgICAgICBsZWZ0IC09IHRhcmdldFdpZHRoO1xuICAgICAgICAgIHRBdHRhY2htZW50LmxlZnQgPSAnbGVmdCc7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGNoYW5nZUF0dGFjaFggPT09ICd0b2dldGhlcicpIHtcbiAgICAgICAgaWYgKGxlZnQgPCBib3VuZHNbMF0gJiYgdEF0dGFjaG1lbnQubGVmdCA9PT0gJ2xlZnQnKSB7XG4gICAgICAgICAgaWYgKGVBdHRhY2htZW50LmxlZnQgPT09ICdyaWdodCcpIHtcbiAgICAgICAgICAgIGxlZnQgKz0gdGFyZ2V0V2lkdGg7XG4gICAgICAgICAgICB0QXR0YWNobWVudC5sZWZ0ID0gJ3JpZ2h0JztcblxuICAgICAgICAgICAgbGVmdCArPSB3aWR0aDtcbiAgICAgICAgICAgIGVBdHRhY2htZW50LmxlZnQgPSAnbGVmdCc7XG4gICAgICAgICAgfSBlbHNlIGlmIChlQXR0YWNobWVudC5sZWZ0ID09PSAnbGVmdCcpIHtcbiAgICAgICAgICAgIGxlZnQgKz0gdGFyZ2V0V2lkdGg7XG4gICAgICAgICAgICB0QXR0YWNobWVudC5sZWZ0ID0gJ3JpZ2h0JztcblxuICAgICAgICAgICAgbGVmdCAtPSB3aWR0aDtcbiAgICAgICAgICAgIGVBdHRhY2htZW50LmxlZnQgPSAncmlnaHQnO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChsZWZ0ICsgd2lkdGggPiBib3VuZHNbMl0gJiYgdEF0dGFjaG1lbnQubGVmdCA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgIGlmIChlQXR0YWNobWVudC5sZWZ0ID09PSAnbGVmdCcpIHtcbiAgICAgICAgICAgIGxlZnQgLT0gdGFyZ2V0V2lkdGg7XG4gICAgICAgICAgICB0QXR0YWNobWVudC5sZWZ0ID0gJ2xlZnQnO1xuXG4gICAgICAgICAgICBsZWZ0IC09IHdpZHRoO1xuICAgICAgICAgICAgZUF0dGFjaG1lbnQubGVmdCA9ICdyaWdodCc7XG4gICAgICAgICAgfSBlbHNlIGlmIChlQXR0YWNobWVudC5sZWZ0ID09PSAncmlnaHQnKSB7XG4gICAgICAgICAgICBsZWZ0IC09IHRhcmdldFdpZHRoO1xuICAgICAgICAgICAgdEF0dGFjaG1lbnQubGVmdCA9ICdsZWZ0JztcblxuICAgICAgICAgICAgbGVmdCArPSB3aWR0aDtcbiAgICAgICAgICAgIGVBdHRhY2htZW50LmxlZnQgPSAnbGVmdCc7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRBdHRhY2htZW50LmxlZnQgPT09ICdjZW50ZXInKSB7XG4gICAgICAgICAgaWYgKGxlZnQgKyB3aWR0aCA+IGJvdW5kc1syXSAmJiBlQXR0YWNobWVudC5sZWZ0ID09PSAnbGVmdCcpIHtcbiAgICAgICAgICAgIGxlZnQgLT0gd2lkdGg7XG4gICAgICAgICAgICBlQXR0YWNobWVudC5sZWZ0ID0gJ3JpZ2h0JztcbiAgICAgICAgICB9IGVsc2UgaWYgKGxlZnQgPCBib3VuZHNbMF0gJiYgZUF0dGFjaG1lbnQubGVmdCA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgbGVmdCArPSB3aWR0aDtcbiAgICAgICAgICAgIGVBdHRhY2htZW50LmxlZnQgPSAnbGVmdCc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChjaGFuZ2VBdHRhY2hZID09PSAnZWxlbWVudCcgfHwgY2hhbmdlQXR0YWNoWSA9PT0gJ2JvdGgnKSB7XG4gICAgICAgIGlmICh0b3AgPCBib3VuZHNbMV0gJiYgZUF0dGFjaG1lbnQudG9wID09PSAnYm90dG9tJykge1xuICAgICAgICAgIHRvcCArPSBoZWlnaHQ7XG4gICAgICAgICAgZUF0dGFjaG1lbnQudG9wID0gJ3RvcCc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodG9wICsgaGVpZ2h0ID4gYm91bmRzWzNdICYmIGVBdHRhY2htZW50LnRvcCA9PT0gJ3RvcCcpIHtcbiAgICAgICAgICB0b3AgLT0gaGVpZ2h0O1xuICAgICAgICAgIGVBdHRhY2htZW50LnRvcCA9ICdib3R0b20nO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChjaGFuZ2VBdHRhY2hYID09PSAnZWxlbWVudCcgfHwgY2hhbmdlQXR0YWNoWCA9PT0gJ2JvdGgnKSB7XG4gICAgICAgIGlmIChsZWZ0IDwgYm91bmRzWzBdKSB7XG4gICAgICAgICAgaWYgKGVBdHRhY2htZW50LmxlZnQgPT09ICdyaWdodCcpIHtcbiAgICAgICAgICAgIGxlZnQgKz0gd2lkdGg7XG4gICAgICAgICAgICBlQXR0YWNobWVudC5sZWZ0ID0gJ2xlZnQnO1xuICAgICAgICAgIH0gZWxzZSBpZiAoZUF0dGFjaG1lbnQubGVmdCA9PT0gJ2NlbnRlcicpIHtcbiAgICAgICAgICAgIGxlZnQgKz0gd2lkdGggLyAyO1xuICAgICAgICAgICAgZUF0dGFjaG1lbnQubGVmdCA9ICdsZWZ0JztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGVmdCArIHdpZHRoID4gYm91bmRzWzJdKSB7XG4gICAgICAgICAgaWYgKGVBdHRhY2htZW50LmxlZnQgPT09ICdsZWZ0Jykge1xuICAgICAgICAgICAgbGVmdCAtPSB3aWR0aDtcbiAgICAgICAgICAgIGVBdHRhY2htZW50LmxlZnQgPSAncmlnaHQnO1xuICAgICAgICAgIH0gZWxzZSBpZiAoZUF0dGFjaG1lbnQubGVmdCA9PT0gJ2NlbnRlcicpIHtcbiAgICAgICAgICAgIGxlZnQgLT0gd2lkdGggLyAyO1xuICAgICAgICAgICAgZUF0dGFjaG1lbnQubGVmdCA9ICdyaWdodCc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgcGluID09PSAnc3RyaW5nJykge1xuICAgICAgICBwaW4gPSBwaW4uc3BsaXQoJywnKS5tYXAoZnVuY3Rpb24gKHApIHtcbiAgICAgICAgICByZXR1cm4gcC50cmltKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChwaW4gPT09IHRydWUpIHtcbiAgICAgICAgcGluID0gWyd0b3AnLCAnbGVmdCcsICdyaWdodCcsICdib3R0b20nXTtcbiAgICAgIH1cblxuICAgICAgcGluID0gcGluIHx8IFtdO1xuXG4gICAgICB2YXIgcGlubmVkID0gW107XG4gICAgICB2YXIgb29iID0gW107XG5cbiAgICAgIGlmICh0b3AgPCBib3VuZHNbMV0pIHtcbiAgICAgICAgaWYgKHBpbi5pbmRleE9mKCd0b3AnKSA+PSAwKSB7XG4gICAgICAgICAgdG9wID0gYm91bmRzWzFdO1xuICAgICAgICAgIHBpbm5lZC5wdXNoKCd0b3AnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvb2IucHVzaCgndG9wJyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHRvcCArIGhlaWdodCA+IGJvdW5kc1szXSkge1xuICAgICAgICBpZiAocGluLmluZGV4T2YoJ2JvdHRvbScpID49IDApIHtcbiAgICAgICAgICB0b3AgPSBib3VuZHNbM10gLSBoZWlnaHQ7XG4gICAgICAgICAgcGlubmVkLnB1c2goJ2JvdHRvbScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9vYi5wdXNoKCdib3R0b20nKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAobGVmdCA8IGJvdW5kc1swXSkge1xuICAgICAgICBpZiAocGluLmluZGV4T2YoJ2xlZnQnKSA+PSAwKSB7XG4gICAgICAgICAgbGVmdCA9IGJvdW5kc1swXTtcbiAgICAgICAgICBwaW5uZWQucHVzaCgnbGVmdCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9vYi5wdXNoKCdsZWZ0Jyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGxlZnQgKyB3aWR0aCA+IGJvdW5kc1syXSkge1xuICAgICAgICBpZiAocGluLmluZGV4T2YoJ3JpZ2h0JykgPj0gMCkge1xuICAgICAgICAgIGxlZnQgPSBib3VuZHNbMl0gLSB3aWR0aDtcbiAgICAgICAgICBwaW5uZWQucHVzaCgncmlnaHQnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvb2IucHVzaCgncmlnaHQnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAocGlubmVkLmxlbmd0aCkge1xuICAgICAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBwaW5uZWRDbGFzcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBpZiAodHlwZW9mIF90aGlzLm9wdGlvbnMucGlubmVkQ2xhc3MgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBwaW5uZWRDbGFzcyA9IF90aGlzLm9wdGlvbnMucGlubmVkQ2xhc3M7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBpbm5lZENsYXNzID0gX3RoaXMuZ2V0Q2xhc3MoJ3Bpbm5lZCcpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGFkZENsYXNzZXMucHVzaChwaW5uZWRDbGFzcyk7XG4gICAgICAgICAgcGlubmVkLmZvckVhY2goZnVuY3Rpb24gKHNpZGUpIHtcbiAgICAgICAgICAgIGFkZENsYXNzZXMucHVzaChwaW5uZWRDbGFzcyArICctJyArIHNpZGUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KSgpO1xuICAgICAgfVxuXG4gICAgICBpZiAob29iLmxlbmd0aCkge1xuICAgICAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBvb2JDbGFzcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBpZiAodHlwZW9mIF90aGlzLm9wdGlvbnMub3V0T2ZCb3VuZHNDbGFzcyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIG9vYkNsYXNzID0gX3RoaXMub3B0aW9ucy5vdXRPZkJvdW5kc0NsYXNzO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvb2JDbGFzcyA9IF90aGlzLmdldENsYXNzKCdvdXQtb2YtYm91bmRzJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYWRkQ2xhc3Nlcy5wdXNoKG9vYkNsYXNzKTtcbiAgICAgICAgICBvb2IuZm9yRWFjaChmdW5jdGlvbiAoc2lkZSkge1xuICAgICAgICAgICAgYWRkQ2xhc3Nlcy5wdXNoKG9vYkNsYXNzICsgJy0nICsgc2lkZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChwaW5uZWQuaW5kZXhPZignbGVmdCcpID49IDAgfHwgcGlubmVkLmluZGV4T2YoJ3JpZ2h0JykgPj0gMCkge1xuICAgICAgICBlQXR0YWNobWVudC5sZWZ0ID0gdEF0dGFjaG1lbnQubGVmdCA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKHBpbm5lZC5pbmRleE9mKCd0b3AnKSA+PSAwIHx8IHBpbm5lZC5pbmRleE9mKCdib3R0b20nKSA+PSAwKSB7XG4gICAgICAgIGVBdHRhY2htZW50LnRvcCA9IHRBdHRhY2htZW50LnRvcCA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAodEF0dGFjaG1lbnQudG9wICE9PSB0YXJnZXRBdHRhY2htZW50LnRvcCB8fCB0QXR0YWNobWVudC5sZWZ0ICE9PSB0YXJnZXRBdHRhY2htZW50LmxlZnQgfHwgZUF0dGFjaG1lbnQudG9wICE9PSBfdGhpcy5hdHRhY2htZW50LnRvcCB8fCBlQXR0YWNobWVudC5sZWZ0ICE9PSBfdGhpcy5hdHRhY2htZW50LmxlZnQpIHtcbiAgICAgICAgX3RoaXMudXBkYXRlQXR0YWNoQ2xhc3NlcyhlQXR0YWNobWVudCwgdEF0dGFjaG1lbnQpO1xuICAgICAgICBfdGhpcy50cmlnZ2VyKCd1cGRhdGUnLCB7XG4gICAgICAgICAgYXR0YWNobWVudDogZUF0dGFjaG1lbnQsXG4gICAgICAgICAgdGFyZ2V0QXR0YWNobWVudDogdEF0dGFjaG1lbnRcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBkZWZlcihmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIShfdGhpcy5vcHRpb25zLmFkZFRhcmdldENsYXNzZXMgPT09IGZhbHNlKSkge1xuICAgICAgICB1cGRhdGVDbGFzc2VzKF90aGlzLnRhcmdldCwgYWRkQ2xhc3NlcywgYWxsQ2xhc3Nlcyk7XG4gICAgICB9XG4gICAgICB1cGRhdGVDbGFzc2VzKF90aGlzLmVsZW1lbnQsIGFkZENsYXNzZXMsIGFsbENsYXNzZXMpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHsgdG9wOiB0b3AsIGxlZnQ6IGxlZnQgfTtcbiAgfVxufSk7XG4vKiBnbG9iYWxzIFRldGhlckJhc2UgKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgX1RldGhlckJhc2UkVXRpbHMgPSBUZXRoZXJCYXNlLlV0aWxzO1xudmFyIGdldEJvdW5kcyA9IF9UZXRoZXJCYXNlJFV0aWxzLmdldEJvdW5kcztcbnZhciB1cGRhdGVDbGFzc2VzID0gX1RldGhlckJhc2UkVXRpbHMudXBkYXRlQ2xhc3NlcztcbnZhciBkZWZlciA9IF9UZXRoZXJCYXNlJFV0aWxzLmRlZmVyO1xuXG5UZXRoZXJCYXNlLm1vZHVsZXMucHVzaCh7XG4gIHBvc2l0aW9uOiBmdW5jdGlvbiBwb3NpdGlvbihfcmVmKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciB0b3AgPSBfcmVmLnRvcDtcbiAgICB2YXIgbGVmdCA9IF9yZWYubGVmdDtcblxuICAgIHZhciBfY2FjaGUgPSB0aGlzLmNhY2hlKCdlbGVtZW50LWJvdW5kcycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBnZXRCb3VuZHMoX3RoaXMuZWxlbWVudCk7XG4gICAgfSk7XG5cbiAgICB2YXIgaGVpZ2h0ID0gX2NhY2hlLmhlaWdodDtcbiAgICB2YXIgd2lkdGggPSBfY2FjaGUud2lkdGg7XG5cbiAgICB2YXIgdGFyZ2V0UG9zID0gdGhpcy5nZXRUYXJnZXRCb3VuZHMoKTtcblxuICAgIHZhciBib3R0b20gPSB0b3AgKyBoZWlnaHQ7XG4gICAgdmFyIHJpZ2h0ID0gbGVmdCArIHdpZHRoO1xuXG4gICAgdmFyIGFidXR0ZWQgPSBbXTtcbiAgICBpZiAodG9wIDw9IHRhcmdldFBvcy5ib3R0b20gJiYgYm90dG9tID49IHRhcmdldFBvcy50b3ApIHtcbiAgICAgIFsnbGVmdCcsICdyaWdodCddLmZvckVhY2goZnVuY3Rpb24gKHNpZGUpIHtcbiAgICAgICAgdmFyIHRhcmdldFBvc1NpZGUgPSB0YXJnZXRQb3Nbc2lkZV07XG4gICAgICAgIGlmICh0YXJnZXRQb3NTaWRlID09PSBsZWZ0IHx8IHRhcmdldFBvc1NpZGUgPT09IHJpZ2h0KSB7XG4gICAgICAgICAgYWJ1dHRlZC5wdXNoKHNpZGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAobGVmdCA8PSB0YXJnZXRQb3MucmlnaHQgJiYgcmlnaHQgPj0gdGFyZ2V0UG9zLmxlZnQpIHtcbiAgICAgIFsndG9wJywgJ2JvdHRvbSddLmZvckVhY2goZnVuY3Rpb24gKHNpZGUpIHtcbiAgICAgICAgdmFyIHRhcmdldFBvc1NpZGUgPSB0YXJnZXRQb3Nbc2lkZV07XG4gICAgICAgIGlmICh0YXJnZXRQb3NTaWRlID09PSB0b3AgfHwgdGFyZ2V0UG9zU2lkZSA9PT0gYm90dG9tKSB7XG4gICAgICAgICAgYWJ1dHRlZC5wdXNoKHNpZGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB2YXIgYWxsQ2xhc3NlcyA9IFtdO1xuICAgIHZhciBhZGRDbGFzc2VzID0gW107XG5cbiAgICB2YXIgc2lkZXMgPSBbJ2xlZnQnLCAndG9wJywgJ3JpZ2h0JywgJ2JvdHRvbSddO1xuICAgIGFsbENsYXNzZXMucHVzaCh0aGlzLmdldENsYXNzKCdhYnV0dGVkJykpO1xuICAgIHNpZGVzLmZvckVhY2goZnVuY3Rpb24gKHNpZGUpIHtcbiAgICAgIGFsbENsYXNzZXMucHVzaChfdGhpcy5nZXRDbGFzcygnYWJ1dHRlZCcpICsgJy0nICsgc2lkZSk7XG4gICAgfSk7XG5cbiAgICBpZiAoYWJ1dHRlZC5sZW5ndGgpIHtcbiAgICAgIGFkZENsYXNzZXMucHVzaCh0aGlzLmdldENsYXNzKCdhYnV0dGVkJykpO1xuICAgIH1cblxuICAgIGFidXR0ZWQuZm9yRWFjaChmdW5jdGlvbiAoc2lkZSkge1xuICAgICAgYWRkQ2xhc3Nlcy5wdXNoKF90aGlzLmdldENsYXNzKCdhYnV0dGVkJykgKyAnLScgKyBzaWRlKTtcbiAgICB9KTtcblxuICAgIGRlZmVyKGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghKF90aGlzLm9wdGlvbnMuYWRkVGFyZ2V0Q2xhc3NlcyA9PT0gZmFsc2UpKSB7XG4gICAgICAgIHVwZGF0ZUNsYXNzZXMoX3RoaXMudGFyZ2V0LCBhZGRDbGFzc2VzLCBhbGxDbGFzc2VzKTtcbiAgICAgIH1cbiAgICAgIHVwZGF0ZUNsYXNzZXMoX3RoaXMuZWxlbWVudCwgYWRkQ2xhc3NlcywgYWxsQ2xhc3Nlcyk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufSk7XG4vKiBnbG9iYWxzIFRldGhlckJhc2UgKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgX3NsaWNlZFRvQXJyYXkgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBzbGljZUl0ZXJhdG9yKGFyciwgaSkgeyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVsncmV0dXJuJ10pIF9pWydyZXR1cm4nXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH0gcmV0dXJuIGZ1bmN0aW9uIChhcnIsIGkpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyByZXR1cm4gYXJyOyB9IGVsc2UgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkgeyByZXR1cm4gc2xpY2VJdGVyYXRvcihhcnIsIGkpOyB9IGVsc2UgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlJyk7IH0gfTsgfSkoKTtcblxuVGV0aGVyQmFzZS5tb2R1bGVzLnB1c2goe1xuICBwb3NpdGlvbjogZnVuY3Rpb24gcG9zaXRpb24oX3JlZikge1xuICAgIHZhciB0b3AgPSBfcmVmLnRvcDtcbiAgICB2YXIgbGVmdCA9IF9yZWYubGVmdDtcblxuICAgIGlmICghdGhpcy5vcHRpb25zLnNoaWZ0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHNoaWZ0ID0gdGhpcy5vcHRpb25zLnNoaWZ0O1xuICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLnNoaWZ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBzaGlmdCA9IHRoaXMub3B0aW9ucy5zaGlmdC5jYWxsKHRoaXMsIHsgdG9wOiB0b3AsIGxlZnQ6IGxlZnQgfSk7XG4gICAgfVxuXG4gICAgdmFyIHNoaWZ0VG9wID0gdW5kZWZpbmVkLFxuICAgICAgICBzaGlmdExlZnQgPSB1bmRlZmluZWQ7XG4gICAgaWYgKHR5cGVvZiBzaGlmdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHNoaWZ0ID0gc2hpZnQuc3BsaXQoJyAnKTtcbiAgICAgIHNoaWZ0WzFdID0gc2hpZnRbMV0gfHwgc2hpZnRbMF07XG5cbiAgICAgIHZhciBfc2hpZnQgPSBzaGlmdDtcblxuICAgICAgdmFyIF9zaGlmdDIgPSBfc2xpY2VkVG9BcnJheShfc2hpZnQsIDIpO1xuXG4gICAgICBzaGlmdFRvcCA9IF9zaGlmdDJbMF07XG4gICAgICBzaGlmdExlZnQgPSBfc2hpZnQyWzFdO1xuXG4gICAgICBzaGlmdFRvcCA9IHBhcnNlRmxvYXQoc2hpZnRUb3AsIDEwKTtcbiAgICAgIHNoaWZ0TGVmdCA9IHBhcnNlRmxvYXQoc2hpZnRMZWZ0LCAxMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNoaWZ0VG9wID0gc2hpZnQudG9wO1xuICAgICAgc2hpZnRMZWZ0ID0gc2hpZnQubGVmdDtcbiAgICB9XG5cbiAgICB0b3AgKz0gc2hpZnRUb3A7XG4gICAgbGVmdCArPSBzaGlmdExlZnQ7XG5cbiAgICByZXR1cm4geyB0b3A6IHRvcCwgbGVmdDogbGVmdCB9O1xuICB9XG59KTtcbnJldHVybiBUZXRoZXI7XG5cbn0pKTtcbiIsIi8qKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEJvb3RzdHJhcCAodjQuMC4wLWFscGhhLjUpOiB1dGlsLmpzXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuXG52YXIgVXRpbCA9IGZ1bmN0aW9uICgkKSB7XG5cbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBQcml2YXRlIFRyYW5zaXRpb25FbmQgSGVscGVyc1xuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cbiAgdmFyIHRyYW5zaXRpb24gPSBmYWxzZTtcblxuICB2YXIgTUFYX1VJRCA9IDEwMDAwMDA7XG5cbiAgdmFyIFRyYW5zaXRpb25FbmRFdmVudCA9IHtcbiAgICBXZWJraXRUcmFuc2l0aW9uOiAnd2Via2l0VHJhbnNpdGlvbkVuZCcsXG4gICAgTW96VHJhbnNpdGlvbjogJ3RyYW5zaXRpb25lbmQnLFxuICAgIE9UcmFuc2l0aW9uOiAnb1RyYW5zaXRpb25FbmQgb3RyYW5zaXRpb25lbmQnLFxuICAgIHRyYW5zaXRpb246ICd0cmFuc2l0aW9uZW5kJ1xuICB9O1xuXG4gIC8vIHNob3V0b3V0IEFuZ3VzQ3JvbGwgKGh0dHBzOi8vZ29vLmdsL3B4d1FHcClcbiAgZnVuY3Rpb24gdG9UeXBlKG9iaikge1xuICAgIHJldHVybiB7fS50b1N0cmluZy5jYWxsKG9iaikubWF0Y2goL1xccyhbYS16QS1aXSspLylbMV0udG9Mb3dlckNhc2UoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzRWxlbWVudChvYmopIHtcbiAgICByZXR1cm4gKG9ialswXSB8fCBvYmopLm5vZGVUeXBlO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0U3BlY2lhbFRyYW5zaXRpb25FbmRFdmVudCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYmluZFR5cGU6IHRyYW5zaXRpb24uZW5kLFxuICAgICAgZGVsZWdhdGVUeXBlOiB0cmFuc2l0aW9uLmVuZCxcbiAgICAgIGhhbmRsZTogZnVuY3Rpb24gaGFuZGxlKGV2ZW50KSB7XG4gICAgICAgIGlmICgkKGV2ZW50LnRhcmdldCkuaXModGhpcykpIHtcbiAgICAgICAgICByZXR1cm4gZXZlbnQuaGFuZGxlT2JqLmhhbmRsZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBwcmVmZXItcmVzdC1wYXJhbXNcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiB0cmFuc2l0aW9uRW5kVGVzdCgpIHtcbiAgICBpZiAod2luZG93LlFVbml0KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYm9vdHN0cmFwJyk7XG5cbiAgICBmb3IgKHZhciBuYW1lIGluIFRyYW5zaXRpb25FbmRFdmVudCkge1xuICAgICAgaWYgKGVsLnN0eWxlW25hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHsgZW5kOiBUcmFuc2l0aW9uRW5kRXZlbnRbbmFtZV0gfTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiB0cmFuc2l0aW9uRW5kRW11bGF0b3IoZHVyYXRpb24pIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIGNhbGxlZCA9IGZhbHNlO1xuXG4gICAgJCh0aGlzKS5vbmUoVXRpbC5UUkFOU0lUSU9OX0VORCwgZnVuY3Rpb24gKCkge1xuICAgICAgY2FsbGVkID0gdHJ1ZTtcbiAgICB9KTtcblxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFjYWxsZWQpIHtcbiAgICAgICAgVXRpbC50cmlnZ2VyVHJhbnNpdGlvbkVuZChfdGhpcyk7XG4gICAgICB9XG4gICAgfSwgZHVyYXRpb24pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBmdW5jdGlvbiBzZXRUcmFuc2l0aW9uRW5kU3VwcG9ydCgpIHtcbiAgICB0cmFuc2l0aW9uID0gdHJhbnNpdGlvbkVuZFRlc3QoKTtcblxuICAgICQuZm4uZW11bGF0ZVRyYW5zaXRpb25FbmQgPSB0cmFuc2l0aW9uRW5kRW11bGF0b3I7XG5cbiAgICBpZiAoVXRpbC5zdXBwb3J0c1RyYW5zaXRpb25FbmQoKSkge1xuICAgICAgJC5ldmVudC5zcGVjaWFsW1V0aWwuVFJBTlNJVElPTl9FTkRdID0gZ2V0U3BlY2lhbFRyYW5zaXRpb25FbmRFdmVudCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBQdWJsaWMgVXRpbCBBcGlcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cbiAgdmFyIFV0aWwgPSB7XG5cbiAgICBUUkFOU0lUSU9OX0VORDogJ2JzVHJhbnNpdGlvbkVuZCcsXG5cbiAgICBnZXRVSUQ6IGZ1bmN0aW9uIGdldFVJRChwcmVmaXgpIHtcbiAgICAgIGRvIHtcbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tYml0d2lzZSAqL1xuICAgICAgICBwcmVmaXggKz0gfn4oTWF0aC5yYW5kb20oKSAqIE1BWF9VSUQpOyAvLyBcIn5+XCIgYWN0cyBsaWtlIGEgZmFzdGVyIE1hdGguZmxvb3IoKSBoZXJlXG4gICAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tYml0d2lzZSAqL1xuICAgICAgfSB3aGlsZSAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocHJlZml4KSk7XG4gICAgICByZXR1cm4gcHJlZml4O1xuICAgIH0sXG4gICAgZ2V0U2VsZWN0b3JGcm9tRWxlbWVudDogZnVuY3Rpb24gZ2V0U2VsZWN0b3JGcm9tRWxlbWVudChlbGVtZW50KSB7XG4gICAgICB2YXIgc2VsZWN0b3IgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS10YXJnZXQnKTtcblxuICAgICAgaWYgKCFzZWxlY3Rvcikge1xuICAgICAgICBzZWxlY3RvciA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdocmVmJykgfHwgJyc7XG4gICAgICAgIHNlbGVjdG9yID0gL14jW2Etel0vaS50ZXN0KHNlbGVjdG9yKSA/IHNlbGVjdG9yIDogbnVsbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGVjdG9yO1xuICAgIH0sXG4gICAgcmVmbG93OiBmdW5jdGlvbiByZWZsb3coZWxlbWVudCkge1xuICAgICAgbmV3IEZ1bmN0aW9uKCdicycsICdyZXR1cm4gYnMnKShlbGVtZW50Lm9mZnNldEhlaWdodCk7XG4gICAgfSxcbiAgICB0cmlnZ2VyVHJhbnNpdGlvbkVuZDogZnVuY3Rpb24gdHJpZ2dlclRyYW5zaXRpb25FbmQoZWxlbWVudCkge1xuICAgICAgJChlbGVtZW50KS50cmlnZ2VyKHRyYW5zaXRpb24uZW5kKTtcbiAgICB9LFxuICAgIHN1cHBvcnRzVHJhbnNpdGlvbkVuZDogZnVuY3Rpb24gc3VwcG9ydHNUcmFuc2l0aW9uRW5kKCkge1xuICAgICAgcmV0dXJuIEJvb2xlYW4odHJhbnNpdGlvbik7XG4gICAgfSxcbiAgICB0eXBlQ2hlY2tDb25maWc6IGZ1bmN0aW9uIHR5cGVDaGVja0NvbmZpZyhjb21wb25lbnROYW1lLCBjb25maWcsIGNvbmZpZ1R5cGVzKSB7XG4gICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBjb25maWdUeXBlcykge1xuICAgICAgICBpZiAoY29uZmlnVHlwZXMuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSB7XG4gICAgICAgICAgdmFyIGV4cGVjdGVkVHlwZXMgPSBjb25maWdUeXBlc1twcm9wZXJ0eV07XG4gICAgICAgICAgdmFyIHZhbHVlID0gY29uZmlnW3Byb3BlcnR5XTtcbiAgICAgICAgICB2YXIgdmFsdWVUeXBlID0gdm9pZCAwO1xuXG4gICAgICAgICAgaWYgKHZhbHVlICYmIGlzRWxlbWVudCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHZhbHVlVHlwZSA9ICdlbGVtZW50JztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFsdWVUeXBlID0gdG9UeXBlKHZhbHVlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIW5ldyBSZWdFeHAoZXhwZWN0ZWRUeXBlcykudGVzdCh2YWx1ZVR5cGUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoY29tcG9uZW50TmFtZS50b1VwcGVyQ2FzZSgpICsgJzogJyArICgnT3B0aW9uIFwiJyArIHByb3BlcnR5ICsgJ1wiIHByb3ZpZGVkIHR5cGUgXCInICsgdmFsdWVUeXBlICsgJ1wiICcpICsgKCdidXQgZXhwZWN0ZWQgdHlwZSBcIicgKyBleHBlY3RlZFR5cGVzICsgJ1wiLicpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgc2V0VHJhbnNpdGlvbkVuZFN1cHBvcnQoKTtcblxuICByZXR1cm4gVXRpbDtcbn0oalF1ZXJ5KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWwuanMubWFwXG4iXX0=
