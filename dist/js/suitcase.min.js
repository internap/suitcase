function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}!function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e(require,exports,module):t.Tether=e()}(this,function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){var e=t.getBoundingClientRect(),i={};for(var n in e)i[n]=e[n];if(t.ownerDocument!==document){var r=t.ownerDocument.defaultView.frameElement;if(r){var s=o(r);i.top+=s.top,i.bottom+=s.top,i.left+=s.left,i.right+=s.left}}return i}function r(t){var e=getComputedStyle(t)||{},i=e.position,n=[];if("fixed"===i)return[t];for(var o=t;(o=o.parentNode)&&o&&1===o.nodeType;){var r=void 0;try{r=getComputedStyle(o)}catch(t){}if(void 0===r||null===r)return n.push(o),n;var s=r,a=s.overflow,l=s.overflowX;/(auto|scroll)/.test(a+s.overflowY+l)&&("absolute"!==i||["relative","absolute","fixed"].indexOf(r.position)>=0)&&n.push(o)}return n.push(t.ownerDocument.body),t.ownerDocument!==document&&n.push(t.ownerDocument.defaultView),n}function s(){S&&document.body.removeChild(S),S=null}function a(t){var e=void 0;t===document?(e=document,t=document.documentElement):e=t.ownerDocument;var i=e.documentElement,n=o(t),r=D();return n.top-=r.top,n.left-=r.left,void 0===n.width&&(n.width=document.body.scrollWidth-n.left-n.right),void 0===n.height&&(n.height=document.body.scrollHeight-n.top-n.bottom),n.top=n.top-i.clientTop,n.left=n.left-i.clientLeft,n.right=e.body.clientWidth-n.width-n.left,n.bottom=e.body.clientHeight-n.height-n.top,n}function l(t){return t.offsetParent||document.documentElement}function h(){if(I)return I;var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");f(e.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),e.appendChild(t),document.body.appendChild(e);var i=t.offsetWidth;e.style.overflow="scroll";var n=t.offsetWidth;i===n&&(n=e.clientWidth),document.body.removeChild(e);var o=i-n;return I={width:o,height:o}}function f(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=[];return Array.prototype.push.apply(e,arguments),e.slice(1).forEach(function(e){if(e)for(var i in e)({}).hasOwnProperty.call(e,i)&&(t[i]=e[i])}),t}function c(t,e){if(void 0!==t.classList)e.split(" ").forEach(function(e){e.trim()&&t.classList.remove(e)});else{var i=new RegExp("(^| )"+e.split(" ").join("|")+"( |$)","gi"),n=p(t).replace(i," ");g(t,n)}}function d(t,e){if(void 0!==t.classList)e.split(" ").forEach(function(e){e.trim()&&t.classList.add(e)});else{c(t,e);var i=p(t)+" "+e;g(t,i)}}function u(t,e){if(void 0!==t.classList)return t.classList.contains(e);var i=p(t);return new RegExp("(^| )"+e+"( |$)","gi").test(i)}function p(t){return t.className instanceof t.ownerDocument.defaultView.SVGAnimatedString?t.className.baseVal:t.className}function g(t,e){t.setAttribute("class",e)}function m(t,e,i){i.forEach(function(i){-1===e.indexOf(i)&&u(t,i)&&c(t,i)}),e.forEach(function(e){u(t,e)||d(t,e)})}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _(t,e){var i=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return t+i>=e&&e>=t-i}function y(){return"undefined"!=typeof performance&&void 0!==performance.now?performance.now():+new Date}function b(){for(var t={top:0,left:0},e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];return i.forEach(function(e){var i=e.top,n=e.left;"string"==typeof i&&(i=parseFloat(i,10)),"string"==typeof n&&(n=parseFloat(n,10)),t.top+=i,t.left+=n}),t}function E(t,e){return"string"==typeof t.left&&-1!==t.left.indexOf("%")&&(t.left=parseFloat(t.left,10)/100*e.width),"string"==typeof t.top&&-1!==t.top.indexOf("%")&&(t.top=parseFloat(t.top,10)/100*e.height),t}function C(t,e){return"scrollParent"===e?e=t.scrollParents[0]:"window"===e&&(e=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),e===document&&(e=e.documentElement),void 0!==e.nodeType&&function(){var t=e,i=a(e),n=i,o=getComputedStyle(e);if(e=[n.left,n.top,i.width+n.left,i.height+n.top],t.ownerDocument!==document){var r=t.ownerDocument.defaultView;e[0]+=r.pageXOffset,e[1]+=r.pageYOffset,e[2]+=r.pageXOffset,e[3]+=r.pageYOffset}X.forEach(function(t,i){t=t[0].toUpperCase()+t.substr(1),"Top"===t||"Left"===t?e[i]+=parseFloat(o["border"+t+"Width"]):e[i]-=parseFloat(o["border"+t+"Width"])})}(),e}var T=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),w=void 0;void 0===w&&(w={modules:[]});var S=null,O=function(){var t=0;return function(){return++t}}(),A={},D=function(){var t=S;t&&document.body.contains(t)||(t=document.createElement("div"),t.setAttribute("data-tether-id",O()),f(t.style,{top:0,left:0,position:"absolute"}),document.body.appendChild(t),S=t);var e=t.getAttribute("data-tether-id");return void 0===A[e]&&(A[e]=o(t),k(function(){delete A[e]})),A[e]},I=null,N=[],k=function(t){N.push(t)},W=function(){for(var t=void 0;t=N.pop();)t()},H=function(){function t(){n(this,t)}return T(t,[{key:"on",value:function(t,e,i){var n=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];void 0===this.bindings&&(this.bindings={}),void 0===this.bindings[t]&&(this.bindings[t]=[]),this.bindings[t].push({handler:e,ctx:i,once:n})}},{key:"once",value:function(t,e,i){this.on(t,e,i,!0)}},{key:"off",value:function(t,e){if(void 0!==this.bindings&&void 0!==this.bindings[t])if(void 0===e)delete this.bindings[t];else for(var i=0;i<this.bindings[t].length;)this.bindings[t][i].handler===e?this.bindings[t].splice(i,1):++i}},{key:"trigger",value:function(t){if(void 0!==this.bindings&&this.bindings[t]){for(var e=0,i=arguments.length,n=Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];for(;e<this.bindings[t].length;){var r=this.bindings[t][e],s=r.handler,a=r.ctx,l=r.once,h=a;void 0===h&&(h=this),s.apply(h,n),l?this.bindings[t].splice(e,1):++e}}}}]),t}();w.Utils={getActualBoundingClientRect:o,getScrollParents:r,getBounds:a,getOffsetParent:l,extend:f,addClass:d,removeClass:c,hasClass:u,updateClasses:m,defer:k,flush:W,uniqueId:O,Evented:H,getScrollBarSize:h,removeUtilElements:s};var L=function(){function t(t,e){var i=[],n=!0,o=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),!e||i.length!==e);n=!0);}catch(t){o=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),T=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),x=function(t,e,i){for(var n=!0;n;){var o=t,r=e,s=i;n=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,r);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(s)}var h=Object.getPrototypeOf(o);if(null===h)return;t=h,e=r,i=s,n=!0,a=h=void 0}};if(void 0===w)throw new Error("You must include the utils.js file before tether.js");var U=w.Utils,r=U.getScrollParents,a=U.getBounds,l=U.getOffsetParent,f=U.extend,d=U.addClass,c=U.removeClass,m=U.updateClasses,k=U.defer,W=U.flush,h=U.getScrollBarSize,s=U.removeUtilElements,P=function(){if("undefined"==typeof document)return"";for(var t=document.createElement("div"),e=["transform","WebkitTransform","OTransform","MozTransform","msTransform"],i=0;i<e.length;++i){var n=e[i];if(void 0!==t.style[n])return n}}(),M=[],R=function(){M.forEach(function(t){t.position(!1)}),W()};!function(){var t=null,e=null,i=null,n=function n(){if(void 0!==e&&e>16)return e=Math.min(e-16,250),void(i=setTimeout(n,250));void 0!==t&&y()-t<10||(null!=i&&(clearTimeout(i),i=null),t=y(),R(),e=y()-t)};"undefined"!=typeof window&&void 0!==window.addEventListener&&["resize","scroll","touchmove"].forEach(function(t){window.addEventListener(t,n)})}();var B={center:"center",left:"right",right:"left"},F={middle:"middle",top:"bottom",bottom:"top"},j={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},Y=function(t,e){var i=t.left,n=t.top;return"auto"===i&&(i=B[e.left]),"auto"===n&&(n=F[e.top]),{left:i,top:n}},z=function(t){var e=t.left,i=t.top;return void 0!==j[t.left]&&(e=j[t.left]),void 0!==j[t.top]&&(i=j[t.top]),{left:e,top:i}},K=function(t){var e=t.split(" "),i=L(e,2);return{top:i[0],left:i[1]}},V=K,G=function(t){function e(t){var i=this;n(this,e),x(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.position=this.position.bind(this),M.push(this),this.history=[],this.setOptions(t,!1),w.modules.forEach(function(t){void 0!==t.initialize&&t.initialize.call(i)}),this.position()}return v(e,t),T(e,[{key:"getClass",value:function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],e=this.options.classes;return void 0!==e&&e[t]?this.options.classes[t]:this.options.classPrefix?this.options.classPrefix+"-"+t:t}},{key:"setOptions",value:function(t){var e=this,i=arguments.length<=1||void 0===arguments[1]||arguments[1],n={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"};this.options=f(n,t);var o=this.options,s=o.element,a=o.target,l=o.targetModifier;if(this.element=s,this.target=a,this.targetModifier=l,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(t){if(void 0===e[t])throw new Error("Tether Error: Both element and target must be defined");void 0!==e[t].jquery?e[t]=e[t][0]:"string"==typeof e[t]&&(e[t]=document.querySelector(e[t]))}),d(this.element,this.getClass("element")),!1!==this.options.addTargetClasses&&d(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=V(this.options.targetAttachment),this.attachment=V(this.options.attachment),this.offset=K(this.options.offset),this.targetOffset=K(this.options.targetOffset),void 0!==this.scrollParents&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParents=[this.target]:this.scrollParents=r(this.target),!1!==this.options.enabled&&this.enable(i)}},{key:"getTargetBounds",value:function(){if(void 0===this.targetModifier)return a(this.target);if("visible"===this.targetModifier){if(this.target===document.body)return{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth};var t=a(this.target),e={height:t.height,width:t.width,top:t.top,left:t.left};return e.height=Math.min(e.height,t.height-(pageYOffset-t.top)),e.height=Math.min(e.height,t.height-(t.top+t.height-(pageYOffset+innerHeight))),e.height=Math.min(innerHeight,e.height),e.height-=2,e.width=Math.min(e.width,t.width-(pageXOffset-t.left)),e.width=Math.min(e.width,t.width-(t.left+t.width-(pageXOffset+innerWidth))),e.width=Math.min(innerWidth,e.width),e.width-=2,e.top<pageYOffset&&(e.top=pageYOffset),e.left<pageXOffset&&(e.left=pageXOffset),e}if("scroll-handle"===this.targetModifier){var t=void 0,i=this.target;i===document.body?(i=document.documentElement,t={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):t=a(i);var n=getComputedStyle(i),o=i.scrollWidth>i.clientWidth||[n.overflow,n.overflowX].indexOf("scroll")>=0||this.target!==document.body,r=0;o&&(r=15);var s=t.height-parseFloat(n.borderTopWidth)-parseFloat(n.borderBottomWidth)-r,e={width:15,height:.975*s*(s/i.scrollHeight),left:t.left+t.width-parseFloat(n.borderLeftWidth)-15},l=0;s<408&&this.target===document.body&&(l=-11e-5*Math.pow(s,2)-.00727*s+22.58),this.target!==document.body&&(e.height=Math.max(e.height,24));var h=this.target.scrollTop/(i.scrollHeight-s);return e.top=h*(s-e.height-l)+t.top+parseFloat(n.borderTopWidth),this.target===document.body&&(e.height=Math.max(e.height,24)),e}}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(t,e){return void 0===this._cache&&(this._cache={}),void 0===this._cache[t]&&(this._cache[t]=e.call(this)),this._cache[t]}},{key:"enable",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]||arguments[0];!1!==this.options.addTargetClasses&&d(this.target,this.getClass("enabled")),d(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParents.forEach(function(e){e!==t.target.ownerDocument&&e.addEventListener("scroll",t.position)}),e&&this.position()}},{key:"disable",value:function(){var t=this;c(this.target,this.getClass("enabled")),c(this.element,this.getClass("enabled")),this.enabled=!1,void 0!==this.scrollParents&&this.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.position)})}},{key:"destroy",value:function(){var t=this;this.disable(),M.forEach(function(e,i){e===t&&M.splice(i,1)}),0===M.length&&s()}},{key:"updateAttachClasses",value:function(t,e){var i=this;t=t||this.attachment,e=e||this.targetAttachment;var n=["left","top","bottom","right","middle","center"];void 0!==this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),void 0===this._addAttachClasses&&(this._addAttachClasses=[]);var o=this._addAttachClasses;t.top&&o.push(this.getClass("element-attached")+"-"+t.top),t.left&&o.push(this.getClass("element-attached")+"-"+t.left),e.top&&o.push(this.getClass("target-attached")+"-"+e.top),e.left&&o.push(this.getClass("target-attached")+"-"+e.left);var r=[];n.forEach(function(t){r.push(i.getClass("element-attached")+"-"+t),r.push(i.getClass("target-attached")+"-"+t)}),k(function(){void 0!==i._addAttachClasses&&(m(i.element,i._addAttachClasses,r),!1!==i.options.addTargetClasses&&m(i.target,i._addAttachClasses,r),delete i._addAttachClasses)})}},{key:"position",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]||arguments[0];if(this.enabled){this.clearCache();var i=Y(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,i);var n=this.cache("element-bounds",function(){return a(t.element)}),o=n.width,r=n.height;if(0===o&&0===r&&void 0!==this.lastSize){var s=this.lastSize;o=s.width,r=s.height}else this.lastSize={width:o,height:r};var f=this.cache("target-bounds",function(){return t.getTargetBounds()}),c=f,d=E(z(this.attachment),{width:o,height:r}),u=E(z(i),c),p=E(this.offset,{width:o,height:r}),g=E(this.targetOffset,c);d=b(d,p),u=b(u,g);for(var m=f.left+u.left-d.left,v=f.top+u.top-d.top,_=0;_<w.modules.length;++_){var y=w.modules[_],C=y.position.call(this,{left:m,top:v,targetAttachment:i,targetPos:f,elementPos:n,offset:d,targetOffset:u,manualOffset:p,manualTargetOffset:g,scrollbarSize:A,attachment:this.attachment});if(!1===C)return!1;void 0!==C&&"object"==typeof C&&(v=C.top,m=C.left)}var T={page:{top:v,left:m},viewport:{top:v-pageYOffset,bottom:pageYOffset-v-r+innerHeight,left:m-pageXOffset,right:pageXOffset-m-o+innerWidth}},S=this.target.ownerDocument,O=S.defaultView,A=void 0;return O.innerHeight>S.documentElement.clientHeight&&(A=this.cache("scrollbar-size",h),T.viewport.bottom-=A.height),O.innerWidth>S.documentElement.clientWidth&&(A=this.cache("scrollbar-size",h),T.viewport.right-=A.width),-1!==["","static"].indexOf(S.body.style.position)&&-1!==["","static"].indexOf(S.body.parentElement.style.position)||(T.page.bottom=S.body.scrollHeight-v-r,T.page.right=S.body.scrollWidth-m-o),void 0!==this.options.optimizations&&!1!==this.options.optimizations.moveElement&&void 0===this.targetModifier&&function(){var e=t.cache("target-offsetparent",function(){return l(t.target)}),i=t.cache("target-offsetparent-bounds",function(){return a(e)}),n=getComputedStyle(e),o=i,r={};if(["Top","Left","Bottom","Right"].forEach(function(t){r[t.toLowerCase()]=parseFloat(n["border"+t+"Width"])}),i.right=S.body.scrollWidth-i.left-o.width+r.right,i.bottom=S.body.scrollHeight-i.top-o.height+r.bottom,T.page.top>=i.top+r.top&&T.page.bottom>=i.bottom&&T.page.left>=i.left+r.left&&T.page.right>=i.right){var s=e.scrollTop,h=e.scrollLeft;T.offset={top:T.page.top-i.top+s-r.top,left:T.page.left-i.left+h-r.left}}}(),this.move(T),this.history.unshift(T),this.history.length>3&&this.history.pop(),e&&W(),!0}}},{key:"move",value:function(t){var e=this;if(void 0!==this.element.parentNode){var i={};for(var n in t){i[n]={};for(var o in t[n]){for(var r=!1,s=0;s<this.history.length;++s){var a=this.history[s];if(void 0!==a[n]&&!_(a[n][o],t[n][o])){r=!0;break}}r||(i[n][o]=!0)}}var h={top:"",left:"",right:"",bottom:""},c=function(t,i){if(!1!==(void 0!==e.options.optimizations?e.options.optimizations.gpu:null)){var n=void 0,o=void 0;t.top?(h.top=0,n=i.top):(h.bottom=0,n=-i.bottom),t.left?(h.left=0,o=i.left):(h.right=0,o=-i.right),window.matchMedia&&(window.matchMedia("only screen and (min-resolution: 1.3dppx)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3)").matches||(o=Math.round(o),n=Math.round(n))),h[P]="translateX("+o+"px) translateY("+n+"px)","msTransform"!==P&&(h[P]+=" translateZ(0)")}else t.top?h.top=i.top+"px":h.bottom=i.bottom+"px",t.left?h.left=i.left+"px":h.right=i.right+"px"},d=!1;if((i.page.top||i.page.bottom)&&(i.page.left||i.page.right)?(h.position="absolute",c(i.page,t.page)):(i.viewport.top||i.viewport.bottom)&&(i.viewport.left||i.viewport.right)?(h.position="fixed",c(i.viewport,t.viewport)):void 0!==i.offset&&i.offset.top&&i.offset.left?function(){h.position="absolute";var n=e.cache("target-offsetparent",function(){return l(e.target)});l(e.element)!==n&&k(function(){e.element.parentNode.removeChild(e.element),n.appendChild(e.element)}),c(i.offset,t.offset),d=!0}():(h.position="absolute",c({top:!0,left:!0},t.page)),!d)if(this.options.bodyElement)this.options.bodyElement.appendChild(this.element);else{for(var u=!0,p=this.element.parentNode;p&&1===p.nodeType&&"BODY"!==p.tagName;){if("static"!==getComputedStyle(p).position){u=!1;break}p=p.parentNode}u||(this.element.parentNode.removeChild(this.element),this.element.ownerDocument.body.appendChild(this.element))}var g={},m=!1;for(var o in h){var v=h[o];this.element.style[o]!==v&&(m=!0,g[o]=v)}m&&k(function(){f(e.element.style,g),e.trigger("repositioned")})}}}]),e}(H);G.modules=[],w.position=R;var Q=f(G,w),L=function(){function t(t,e){var i=[],n=!0,o=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),!e||i.length!==e);n=!0);}catch(t){o=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),U=w.Utils,a=U.getBounds,f=U.extend,m=U.updateClasses,k=U.defer,X=["left","top","right","bottom"];w.modules.push({position:function(t){var e=this,i=t.top,n=t.left,o=t.targetAttachment;if(!this.options.constraints)return!0;var r=this.cache("element-bounds",function(){return a(e.element)}),s=r.height,l=r.width;if(0===l&&0===s&&void 0!==this.lastSize){var h=this.lastSize;l=h.width,s=h.height}var c=this.cache("target-bounds",function(){return e.getTargetBounds()}),d=c.height,u=c.width,p=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach(function(t){var e=t.outOfBoundsClass,i=t.pinnedClass;e&&p.push(e),i&&p.push(i)}),p.forEach(function(t){["left","top","right","bottom"].forEach(function(e){p.push(t+"-"+e)})});var g=[],v=f({},o),_=f({},this.attachment);return this.options.constraints.forEach(function(t){var r=t.to,a=t.attachment,h=t.pin;void 0===a&&(a="");var f=void 0,c=void 0;if(a.indexOf(" ")>=0){var p=a.split(" "),m=L(p,2);c=m[0],f=m[1]}else f=c=a;var y=C(e,r);"target"!==c&&"both"!==c||(i<y[1]&&"top"===v.top&&(i+=d,v.top="bottom"),i+s>y[3]&&"bottom"===v.top&&(i-=d,v.top="top")),"together"===c&&("top"===v.top&&("bottom"===_.top&&i<y[1]?(i+=d,v.top="bottom",i+=s,_.top="top"):"top"===_.top&&i+s>y[3]&&i-(s-d)>=y[1]&&(i-=s-d,v.top="bottom",_.top="bottom")),"bottom"===v.top&&("top"===_.top&&i+s>y[3]?(i-=d,v.top="top",i-=s,_.top="bottom"):"bottom"===_.top&&i<y[1]&&i+(2*s-d)<=y[3]&&(i+=s-d,v.top="top",_.top="top")),"middle"===v.top&&(i+s>y[3]&&"top"===_.top?(i-=s,_.top="bottom"):i<y[1]&&"bottom"===_.top&&(i+=s,_.top="top"))),"target"!==f&&"both"!==f||(n<y[0]&&"left"===v.left&&(n+=u,v.left="right"),n+l>y[2]&&"right"===v.left&&(n-=u,v.left="left")),"together"===f&&(n<y[0]&&"left"===v.left?"right"===_.left?(n+=u,v.left="right",n+=l,_.left="left"):"left"===_.left&&(n+=u,v.left="right",n-=l,_.left="right"):n+l>y[2]&&"right"===v.left?"left"===_.left?(n-=u,v.left="left",n-=l,_.left="right"):"right"===_.left&&(n-=u,v.left="left",n+=l,_.left="left"):"center"===v.left&&(n+l>y[2]&&"left"===_.left?(n-=l,_.left="right"):n<y[0]&&"right"===_.left&&(n+=l,_.left="left"))),"element"!==c&&"both"!==c||(i<y[1]&&"bottom"===_.top&&(i+=s,_.top="top"),i+s>y[3]&&"top"===_.top&&(i-=s,_.top="bottom")),"element"!==f&&"both"!==f||(n<y[0]&&("right"===_.left?(n+=l,_.left="left"):"center"===_.left&&(n+=l/2,_.left="left")),n+l>y[2]&&("left"===_.left?(n-=l,_.left="right"):"center"===_.left&&(n-=l/2,_.left="right"))),"string"==typeof h?h=h.split(",").map(function(t){return t.trim()}):!0===h&&(h=["top","left","right","bottom"]),h=h||[];var b=[],E=[];i<y[1]&&(h.indexOf("top")>=0?(i=y[1],b.push("top")):E.push("top")),i+s>y[3]&&(h.indexOf("bottom")>=0?(i=y[3]-s,b.push("bottom")):E.push("bottom")),n<y[0]&&(h.indexOf("left")>=0?(n=y[0],b.push("left")):E.push("left")),n+l>y[2]&&(h.indexOf("right")>=0?(n=y[2]-l,b.push("right")):E.push("right")),b.length&&function(){var t=void 0;t=void 0!==e.options.pinnedClass?e.options.pinnedClass:e.getClass("pinned"),g.push(t),b.forEach(function(e){g.push(t+"-"+e)})}(),E.length&&function(){var t=void 0;t=void 0!==e.options.outOfBoundsClass?e.options.outOfBoundsClass:e.getClass("out-of-bounds"),g.push(t),E.forEach(function(e){g.push(t+"-"+e)})}(),(b.indexOf("left")>=0||b.indexOf("right")>=0)&&(_.left=v.left=!1),(b.indexOf("top")>=0||b.indexOf("bottom")>=0)&&(_.top=v.top=!1),v.top===o.top&&v.left===o.left&&_.top===e.attachment.top&&_.left===e.attachment.left||(e.updateAttachClasses(_,v),e.trigger("update",{attachment:_,targetAttachment:v}))}),k(function(){!1!==e.options.addTargetClasses&&m(e.target,g,p),m(e.element,g,p)}),{top:i,left:n}}});var U=w.Utils,a=U.getBounds,m=U.updateClasses,k=U.defer;w.modules.push({position:function(t){var e=this,i=t.top,n=t.left,o=this.cache("element-bounds",function(){return a(e.element)}),r=o.height,s=o.width,l=this.getTargetBounds(),h=i+r,f=n+s,c=[];i<=l.bottom&&h>=l.top&&["left","right"].forEach(function(t){var e=l[t];e!==n&&e!==f||c.push(t)}),n<=l.right&&f>=l.left&&["top","bottom"].forEach(function(t){var e=l[t];e!==i&&e!==h||c.push(t)});var d=[],u=[],p=["left","top","right","bottom"];return d.push(this.getClass("abutted")),p.forEach(function(t){d.push(e.getClass("abutted")+"-"+t)}),c.length&&u.push(this.getClass("abutted")),c.forEach(function(t){u.push(e.getClass("abutted")+"-"+t)}),k(function(){!1!==e.options.addTargetClasses&&m(e.target,u,d),m(e.element,u,d)}),!0}});var L=function(){function t(t,e){var i=[],n=!0,o=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),!e||i.length!==e);n=!0);}catch(t){o=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();return w.modules.push({position:function(t){var e=t.top,i=t.left;if(this.options.shift){var n=this.options.shift;"function"==typeof this.options.shift&&(n=this.options.shift.call(this,{top:e,left:i}));var o=void 0,r=void 0;if("string"==typeof n){n=n.split(" "),n[1]=n[1]||n[0];var s=n,a=L(s,2);o=a[0],r=a[1],o=parseFloat(o,10),r=parseFloat(r,10)}else o=n.top,r=n.left;return e+=o,i+=r,{top:e,left:i}}}}),Q});var Util=function(t){function e(t){return{}.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function i(t){return(t[0]||t).nodeType}function n(){return{bindType:s.end,delegateType:s.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}}}function o(){if(window.QUnit)return!1;var t=document.createElement("bootstrap");for(var e in a)if(void 0!==t.style[e])return{end:a[e]};return!1}function r(e){var i=this,n=!1;return t(this).one(l.TRANSITION_END,function(){n=!0}),setTimeout(function(){n||l.triggerTransitionEnd(i)},e),this}var s=!1,a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},l={TRANSITION_END:"bsTransitionEnd",getUID:function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");return e||(e=t.getAttribute("href")||"",e=/^#[a-z]/i.test(e)?e:null),e},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(e){t(e).trigger(s.end)},supportsTransitionEnd:function(){return Boolean(s)},typeCheckConfig:function(t,n,o){for(var r in o)if(o.hasOwnProperty(r)){var s=o[r],a=n[r],l=a&&i(a)?"element":e(a);if(!new RegExp(s).test(l))throw new Error(t.toUpperCase()+': Option "'+r+'" provided type "'+l+'" but expected type "'+s+'".')}}};return function(){s=o(),t.fn.emulateTransitionEnd=r,l.supportsTransitionEnd()&&(t.event.special[l.TRANSITION_END]=n())}(),l}(jQuery),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Modal=function(t){var e="modal",i=".bs.modal",n=t.fn[e],o={backdrop:!0,keyboard:!0,focus:!0,show:!0},r={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},s={HIDE:"hide.bs.modal",HIDDEN:"hidden.bs.modal",SHOW:"show.bs.modal",SHOWN:"shown.bs.modal",FOCUSIN:"focusin.bs.modal",RESIZE:"resize.bs.modal",CLICK_DISMISS:"click.dismiss.bs.modal",KEYDOWN_DISMISS:"keydown.dismiss.bs.modal",MOUSEUP_DISMISS:"mouseup.dismiss.bs.modal",MOUSEDOWN_DISMISS:"mousedown.dismiss.bs.modal",CLICK_DATA_API:"click.bs.modal.data-api"},a={SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",SHOW:"show"},l={DIALOG:".modal-dialog",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top"},h=function(){function n(e,i){_classCallCheck(this,n),this._config=this._getConfig(i),this._element=e,this._dialog=t(e).find(l.DIALOG)[0],this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._originalBodyPadding=0,this._scrollbarWidth=0}return n.prototype.toggle=function(t){return this._isShown?this.hide():this.show(t)},n.prototype.show=function(e){var i=this;if(this._isTransitioning)throw new Error("Modal is transitioning");Util.supportsTransitionEnd()&&t(this._element).hasClass(a.FADE)&&(this._isTransitioning=!0);var n=t.Event(s.SHOW,{relatedTarget:e});t(this._element).trigger(n),this._isShown||n.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),t(document.body).addClass(a.OPEN),this._setEscapeEvent(),this._setResizeEvent(),t(this._element).on(s.CLICK_DISMISS,l.DATA_DISMISS,function(t){return i.hide(t)}),t(this._dialog).on(s.MOUSEDOWN_DISMISS,function(){t(i._element).one(s.MOUSEUP_DISMISS,function(e){t(e.target).is(i._element)&&(i._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return i._showElement(e)}))},n.prototype.hide=function(e){var i=this;if(e&&e.preventDefault(),this._isTransitioning)throw new Error("Modal is transitioning");var n=Util.supportsTransitionEnd()&&t(this._element).hasClass(a.FADE);n&&(this._isTransitioning=!0);var o=t.Event(s.HIDE);t(this._element).trigger(o),this._isShown&&!o.isDefaultPrevented()&&(this._isShown=!1,this._setEscapeEvent(),this._setResizeEvent(),t(document).off(s.FOCUSIN),t(this._element).removeClass(a.SHOW),t(this._element).off(s.CLICK_DISMISS),t(this._dialog).off(s.MOUSEDOWN_DISMISS),n?t(this._element).one(Util.TRANSITION_END,function(t){return i._hideModal(t)}).emulateTransitionEnd(300):this._hideModal())},n.prototype.dispose=function(){t.removeData(this._element,"bs.modal"),t(window,document,this._element,this._backdrop).off(i),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._originalBodyPadding=null,this._scrollbarWidth=null},n.prototype._getConfig=function(i){return i=t.extend({},o,i),Util.typeCheckConfig(e,i,r),i},n.prototype._showElement=function(e){var i=this,n=Util.supportsTransitionEnd()&&t(this._element).hasClass(a.FADE);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.scrollTop=0,n&&Util.reflow(this._element),t(this._element).addClass(a.SHOW),this._config.focus&&this._enforceFocus();var o=t.Event(s.SHOWN,{relatedTarget:e}),r=function(){i._config.focus&&i._element.focus(),i._isTransitioning=!1,t(i._element).trigger(o)};n?t(this._dialog).one(Util.TRANSITION_END,r).emulateTransitionEnd(300):r()},n.prototype._enforceFocus=function(){var e=this;t(document).off(s.FOCUSIN).on(s.FOCUSIN,function(i){document===i.target||e._element===i.target||t(e._element).has(i.target).length||e._element.focus()})},n.prototype._setEscapeEvent=function(){var e=this;this._isShown&&this._config.keyboard?t(this._element).on(s.KEYDOWN_DISMISS,function(t){27===t.which&&e.hide()}):this._isShown||t(this._element).off(s.KEYDOWN_DISMISS)},n.prototype._setResizeEvent=function(){var e=this;this._isShown?t(window).on(s.RESIZE,function(t){return e._handleUpdate(t)}):t(window).off(s.RESIZE)},n.prototype._hideModal=function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden","true"),this._isTransitioning=!1,this._showBackdrop(function(){t(document.body).removeClass(a.OPEN),e._resetAdjustments(),e._resetScrollbar(),t(e._element).trigger(s.HIDDEN)})},n.prototype._removeBackdrop=function(){this._backdrop&&(t(this._backdrop).remove(),this._backdrop=null)},n.prototype._showBackdrop=function(e){var i=this,n=t(this._element).hasClass(a.FADE)?a.FADE:"";if(this._isShown&&this._config.backdrop){var o=Util.supportsTransitionEnd()&&n;if(this._backdrop=document.createElement("div"),this._backdrop.className=a.BACKDROP,n&&t(this._backdrop).addClass(n),t(this._backdrop).appendTo(document.body),t(this._element).on(s.CLICK_DISMISS,function(t){if(i._ignoreBackdropClick)return void(i._ignoreBackdropClick=!1);t.target===t.currentTarget&&("static"===i._config.backdrop?i._element.focus():i.hide())}),o&&Util.reflow(this._backdrop),
t(this._backdrop).addClass(a.SHOW),!e)return;if(!o)return void e();t(this._backdrop).one(Util.TRANSITION_END,e).emulateTransitionEnd(150)}else if(!this._isShown&&this._backdrop){t(this._backdrop).removeClass(a.SHOW);var r=function(){i._removeBackdrop(),e&&e()};Util.supportsTransitionEnd()&&t(this._element).hasClass(a.FADE)?t(this._backdrop).one(Util.TRANSITION_END,r).emulateTransitionEnd(150):r()}else e&&e()},n.prototype._handleUpdate=function(){this._adjustDialog()},n.prototype._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},n.prototype._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},n.prototype._checkScrollbar=function(){this._isBodyOverflowing=document.body.clientWidth<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},n.prototype._setScrollbar=function(){var e=parseInt(t(l.FIXED_CONTENT).css("padding-right")||0,10);this._originalBodyPadding=document.body.style.paddingRight||"",this._isBodyOverflowing&&(document.body.style.paddingRight=e+this._scrollbarWidth+"px")},n.prototype._resetScrollbar=function(){document.body.style.paddingRight=this._originalBodyPadding},n.prototype._getScrollbarWidth=function(){var t=document.createElement("div");t.className=a.SCROLLBAR_MEASURER,document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e},n._jQueryInterface=function(e,i){return this.each(function(){var o=t(this).data("bs.modal"),r=t.extend({},n.Default,t(this).data(),"object"===(void 0===e?"undefined":_typeof(e))&&e);if(o||(o=new n(this,r),t(this).data("bs.modal",o)),"string"==typeof e){if(void 0===o[e])throw new Error('No method named "'+e+'"');o[e](i)}else r.show&&o.show(i)})},_createClass(n,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.6"}},{key:"Default",get:function(){return o}}]),n}();return t(document).on(s.CLICK_DATA_API,l.DATA_TOGGLE,function(e){var i=this,n=void 0,o=Util.getSelectorFromElement(this);o&&(n=t(o)[0]);var r=t(n).data("bs.modal")?"toggle":t.extend({},t(n).data(),t(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||e.preventDefault();var a=t(n).one(s.SHOW,function(e){e.isDefaultPrevented()||a.one(s.HIDDEN,function(){t(i).is(":visible")&&i.focus()})});h._jQueryInterface.call(t(n),r,this)}),t.fn[e]=h._jQueryInterface,t.fn[e].Constructor=h,t.fn[e].noConflict=function(){return t.fn[e]=n,h._jQueryInterface},h}(jQuery),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Tooltip=function(t){if("undefined"==typeof Tether)throw new Error("Bootstrap tooltips require Tether (http://tether.io/)");var e="tooltip",i=".bs.tooltip",n=t.fn[e],o={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:"0 0",constraints:[],container:!1},r={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"string",constraints:"array",container:"(string|element|boolean)"},s={TOP:"bottom center",RIGHT:"middle left",BOTTOM:"top center",LEFT:"middle right"},a={SHOW:"show",OUT:"out"},l={HIDE:"hide"+i,HIDDEN:"hidden"+i,SHOW:"show"+i,SHOWN:"shown"+i,INSERTED:"inserted"+i,CLICK:"click"+i,FOCUSIN:"focusin"+i,FOCUSOUT:"focusout"+i,MOUSEENTER:"mouseenter"+i,MOUSELEAVE:"mouseleave"+i},h={FADE:"fade",SHOW:"show"},f={TOOLTIP:".tooltip",TOOLTIP_INNER:".tooltip-inner"},c={element:!1,enabled:!1},d={HOVER:"hover",FOCUS:"focus",CLICK:"click",MANUAL:"manual"},u=function(){function n(t,e){_classCallCheck(this,n),this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._isTransitioning=!1,this._tether=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}return n.prototype.enable=function(){this._isEnabled=!0},n.prototype.disable=function(){this._isEnabled=!1},n.prototype.toggleEnabled=function(){this._isEnabled=!this._isEnabled},n.prototype.toggle=function(e){if(e){var i=this.constructor.DATA_KEY,n=t(e.currentTarget).data(i);n||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(i,n)),n._activeTrigger.click=!n._activeTrigger.click,n._isWithActiveTrigger()?n._enter(null,n):n._leave(null,n)}else{if(t(this.getTipElement()).hasClass(h.SHOW))return void this._leave(null,this);this._enter(null,this)}},n.prototype.dispose=function(){clearTimeout(this._timeout),this.cleanupTether(),t.removeData(this.element,this.constructor.DATA_KEY),t(this.element).off(this.constructor.EVENT_KEY),t(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&t(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._tether=null,this.element=null,this.config=null,this.tip=null},n.prototype.show=function(){var e=this;if("none"===t(this.element).css("display"))throw new Error("Please use show on visible elements");var i=t.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){if(this._isTransitioning)throw new Error("Tooltip is transitioning");t(this.element).trigger(i);var o=t.contains(this.element.ownerDocument.documentElement,this.element);if(i.isDefaultPrevented()||!o)return;var r=this.getTipElement(),s=Util.getUID(this.constructor.NAME);r.setAttribute("id",s),this.element.setAttribute("aria-describedby",s),this.setContent(),this.config.animation&&t(r).addClass(h.FADE);var l="function"==typeof this.config.placement?this.config.placement.call(this,r,this.element):this.config.placement,f=this._getAttachment(l),d=!1===this.config.container?document.body:t(this.config.container);t(r).data(this.constructor.DATA_KEY,this).appendTo(d),t(this.element).trigger(this.constructor.Event.INSERTED),this._tether=new Tether({attachment:f,element:r,target:this.element,classes:c,classPrefix:"bs-tether",offset:this.config.offset,constraints:this.config.constraints,addTargetClasses:!1}),Util.reflow(r),this._tether.position(),t(r).addClass(h.SHOW);var u=function(){var i=e._hoverState;e._hoverState=null,e._isTransitioning=!1,t(e.element).trigger(e.constructor.Event.SHOWN),i===a.OUT&&e._leave(null,e)};if(Util.supportsTransitionEnd()&&t(this.tip).hasClass(h.FADE))return this._isTransitioning=!0,void t(this.tip).one(Util.TRANSITION_END,u).emulateTransitionEnd(n._TRANSITION_DURATION);u()}},n.prototype.hide=function(e){var i=this,n=this.getTipElement(),o=t.Event(this.constructor.Event.HIDE);if(this._isTransitioning)throw new Error("Tooltip is transitioning");var r=function(){i._hoverState!==a.SHOW&&n.parentNode&&n.parentNode.removeChild(n),i.element.removeAttribute("aria-describedby"),t(i.element).trigger(i.constructor.Event.HIDDEN),i._isTransitioning=!1,i.cleanupTether(),e&&e()};t(this.element).trigger(o),o.isDefaultPrevented()||(t(n).removeClass(h.SHOW),this._activeTrigger[d.CLICK]=!1,this._activeTrigger[d.FOCUS]=!1,this._activeTrigger[d.HOVER]=!1,Util.supportsTransitionEnd()&&t(this.tip).hasClass(h.FADE)?(this._isTransitioning=!0,t(n).one(Util.TRANSITION_END,r).emulateTransitionEnd(150)):r(),this._hoverState="")},n.prototype.isWithContent=function(){return Boolean(this.getTitle())},n.prototype.getTipElement=function(){return this.tip=this.tip||t(this.config.template)[0]},n.prototype.setContent=function(){var e=t(this.getTipElement());this.setElementContent(e.find(f.TOOLTIP_INNER),this.getTitle()),e.removeClass(h.FADE+" "+h.SHOW),this.cleanupTether()},n.prototype.setElementContent=function(e,i){var n=this.config.html;"object"===(void 0===i?"undefined":_typeof(i))&&(i.nodeType||i.jquery)?n?t(i).parent().is(e)||e.empty().append(i):e.text(t(i).text()):e[n?"html":"text"](i)},n.prototype.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},n.prototype.cleanupTether=function(){this._tether&&this._tether.destroy()},n.prototype._getAttachment=function(t){return s[t.toUpperCase()]},n.prototype._setListeners=function(){var e=this;this.config.trigger.split(" ").forEach(function(i){if("click"===i)t(e.element).on(e.constructor.Event.CLICK,e.config.selector,function(t){return e.toggle(t)});else if(i!==d.MANUAL){var n=i===d.HOVER?e.constructor.Event.MOUSEENTER:e.constructor.Event.FOCUSIN,o=i===d.HOVER?e.constructor.Event.MOUSELEAVE:e.constructor.Event.FOCUSOUT;t(e.element).on(n,e.config.selector,function(t){return e._enter(t)}).on(o,e.config.selector,function(t){return e._leave(t)})}t(e.element).closest(".modal").on("hide.bs.modal",function(){return e.hide()})}),this.config.selector?this.config=t.extend({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},n.prototype._fixTitle=function(){var t=_typeof(this.element.getAttribute("data-original-title"));(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},n.prototype._enter=function(e,i){var n=this.constructor.DATA_KEY;return i=i||t(e.currentTarget).data(n),i||(i=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(n,i)),e&&(i._activeTrigger["focusin"===e.type?d.FOCUS:d.HOVER]=!0),t(i.getTipElement()).hasClass(h.SHOW)||i._hoverState===a.SHOW?void(i._hoverState=a.SHOW):(clearTimeout(i._timeout),i._hoverState=a.SHOW,i.config.delay&&i.config.delay.show?void(i._timeout=setTimeout(function(){i._hoverState===a.SHOW&&i.show()},i.config.delay.show)):void i.show())},n.prototype._leave=function(e,i){var n=this.constructor.DATA_KEY;if(i=i||t(e.currentTarget).data(n),i||(i=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(n,i)),e&&(i._activeTrigger["focusout"===e.type?d.FOCUS:d.HOVER]=!1),!i._isWithActiveTrigger()){if(clearTimeout(i._timeout),i._hoverState=a.OUT,!i.config.delay||!i.config.delay.hide)return void i.hide();i._timeout=setTimeout(function(){i._hoverState===a.OUT&&i.hide()},i.config.delay.hide)}},n.prototype._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},n.prototype._getConfig=function(i){return i=t.extend({},this.constructor.Default,t(this.element).data(),i),i.delay&&"number"==typeof i.delay&&(i.delay={show:i.delay,hide:i.delay}),Util.typeCheckConfig(e,i,this.constructor.DefaultType),i},n.prototype._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},n._jQueryInterface=function(e){return this.each(function(){var i=t(this).data("bs.tooltip"),o="object"===(void 0===e?"undefined":_typeof(e))&&e;if((i||!/dispose|hide/.test(e))&&(i||(i=new n(this,o),t(this).data("bs.tooltip",i)),"string"==typeof e)){if(void 0===i[e])throw new Error('No method named "'+e+'"');i[e]()}})},_createClass(n,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.6"}},{key:"Default",get:function(){return o}},{key:"NAME",get:function(){return e}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},{key:"Event",get:function(){return l}},{key:"EVENT_KEY",get:function(){return i}},{key:"DefaultType",get:function(){return r}}]),n}();return t.fn[e]=u._jQueryInterface,t.fn[e].Constructor=u,t.fn[e].noConflict=function(){return t.fn[e]=n,u._jQueryInterface},u}(jQuery),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Collapse=function(t){var e="collapse",i="bs.collapse",n=t.fn[e],o={toggle:!0,parent:""},r={toggle:"boolean",parent:"string"},s={SHOW:"show.bs.collapse",SHOWN:"shown.bs.collapse",HIDE:"hide.bs.collapse",HIDDEN:"hidden.bs.collapse",CLICK_DATA_API:"click.bs.collapse.data-api"},a={SHOW:"show",COLLAPSE:"collapse",COLLAPSING:"collapsing",COLLAPSED:"collapsed"},l={WIDTH:"width",HEIGHT:"height"},h={ACTIVES:".card > .show, .card > .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},f=function(){function n(e,i){_classCallCheck(this,n),this._isTransitioning=!1,this._element=e,this._config=this._getConfig(i),this._triggerArray=t.makeArray(t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]')),this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}return n.prototype.toggle=function(){t(this._element).hasClass(a.SHOW)?this.hide():this.show()},n.prototype.show=function(){var e=this;if(this._isTransitioning)throw new Error("Collapse is transitioning");if(!t(this._element).hasClass(a.SHOW)){var o=void 0,r=void 0;if(this._parent&&(o=t.makeArray(t(this._parent).find(h.ACTIVES)),o.length||(o=null)),!(o&&(r=t(o).data(i))&&r._isTransitioning)){var l=t.Event(s.SHOW);if(t(this._element).trigger(l),!l.isDefaultPrevented()){o&&(n._jQueryInterface.call(t(o),"hide"),r||t(o).data(i,null));var f=this._getDimension();t(this._element).removeClass(a.COLLAPSE).addClass(a.COLLAPSING),this._element.style[f]=0,this._element.setAttribute("aria-expanded",!0),this._triggerArray.length&&t(this._triggerArray).removeClass(a.COLLAPSED).attr("aria-expanded",!0),this.setTransitioning(!0);var c=function(){t(e._element).removeClass(a.COLLAPSING).addClass(a.COLLAPSE).addClass(a.SHOW),e._element.style[f]="",e.setTransitioning(!1),t(e._element).trigger(s.SHOWN)};if(!Util.supportsTransitionEnd())return void c();var d=f[0].toUpperCase()+f.slice(1),u="scroll"+d;t(this._element).one(Util.TRANSITION_END,c).emulateTransitionEnd(600),this._element.style[f]=this._element[u]+"px"}}}},n.prototype.hide=function(){var e=this;if(this._isTransitioning)throw new Error("Collapse is transitioning");if(t(this._element).hasClass(a.SHOW)){var i=t.Event(s.HIDE);if(t(this._element).trigger(i),!i.isDefaultPrevented()){var n=this._getDimension(),o=n===l.WIDTH?"offsetWidth":"offsetHeight";this._element.style[n]=this._element[o]+"px",Util.reflow(this._element),t(this._element).addClass(a.COLLAPSING).removeClass(a.COLLAPSE).removeClass(a.SHOW),this._element.setAttribute("aria-expanded",!1),this._triggerArray.length&&t(this._triggerArray).addClass(a.COLLAPSED).attr("aria-expanded",!1),this.setTransitioning(!0);var r=function(){e.setTransitioning(!1),t(e._element).removeClass(a.COLLAPSING).addClass(a.COLLAPSE).trigger(s.HIDDEN)};if(this._element.style[n]="",!Util.supportsTransitionEnd())return void r();t(this._element).one(Util.TRANSITION_END,r).emulateTransitionEnd(600)}}},n.prototype.setTransitioning=function(t){this._isTransitioning=t},n.prototype.dispose=function(){t.removeData(this._element,i),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},n.prototype._getConfig=function(i){return i=t.extend({},o,i),i.toggle=Boolean(i.toggle),Util.typeCheckConfig(e,i,r),i},n.prototype._getDimension=function(){return t(this._element).hasClass(l.WIDTH)?l.WIDTH:l.HEIGHT},n.prototype._getParent=function(){var e=this,i=t(this._config.parent)[0],o='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]';return t(i).find(o).each(function(t,i){e._addAriaAndCollapsedClass(n._getTargetFromElement(i),[i])}),i},n.prototype._addAriaAndCollapsedClass=function(e,i){if(e){var n=t(e).hasClass(a.SHOW);e.setAttribute("aria-expanded",n),i.length&&t(i).toggleClass(a.COLLAPSED,!n).attr("aria-expanded",n)}},n._getTargetFromElement=function(e){var i=Util.getSelectorFromElement(e);return i?t(i)[0]:null},n._jQueryInterface=function(e){return this.each(function(){var r=t(this),s=r.data(i),a=t.extend({},o,r.data(),"object"===(void 0===e?"undefined":_typeof(e))&&e);if(!s&&a.toggle&&/show|hide/.test(e)&&(a.toggle=!1),s||(s=new n(this,a),r.data(i,s)),"string"==typeof e){if(void 0===s[e])throw new Error('No method named "'+e+'"');s[e]()}})},_createClass(n,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.6"}},{key:"Default",get:function(){return o}}]),n}();return t(document).on(s.CLICK_DATA_API,h.DATA_TOGGLE,function(e){e.preventDefault();var n=f._getTargetFromElement(this),o=t(n).data(i),r=o?"toggle":t(this).data();f._jQueryInterface.call(t(n),r)}),t.fn[e]=f._jQueryInterface,t.fn[e].Constructor=f,t.fn[e].noConflict=function(){return t.fn[e]=n,f._jQueryInterface},f}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZGFsLmpzIiwidG9vbHRpcC5qcyIsImNvbGxhcHNlLmpzIiwidGV0aGVyLmpzIiwidXRpbC5qcyJdLCJuYW1lcyI6WyJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwicm9vdCIsImZhY3RvcnkiLCJkZWZpbmUiLCJhbWQiLCJleHBvcnRzIiwibW9kdWxlIiwicmVxdWlyZSIsIlRldGhlciIsInRoaXMiLCJnZXRBY3R1YWxCb3VuZGluZ0NsaWVudFJlY3QiLCJub2RlIiwiYm91bmRpbmdSZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwicmVjdCIsImsiLCJvd25lckRvY3VtZW50IiwiZG9jdW1lbnQiLCJfZnJhbWVFbGVtZW50IiwiZGVmYXVsdFZpZXciLCJmcmFtZUVsZW1lbnQiLCJmcmFtZVJlY3QiLCJ0b3AiLCJib3R0b20iLCJsZWZ0IiwicmlnaHQiLCJnZXRTY3JvbGxQYXJlbnRzIiwiZWwiLCJjb21wdXRlZFN0eWxlIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsInBvc2l0aW9uIiwicGFyZW50cyIsInBhcmVudCIsInBhcmVudE5vZGUiLCJub2RlVHlwZSIsInN0eWxlIiwidW5kZWZpbmVkIiwiZXJyIiwicHVzaCIsIl9zdHlsZSIsIm92ZXJmbG93Iiwib3ZlcmZsb3dYIiwidGVzdCIsIm92ZXJmbG93WSIsImluZGV4T2YiLCJib2R5IiwicmVtb3ZlVXRpbEVsZW1lbnRzIiwiemVyb0VsZW1lbnQiLCJyZW1vdmVDaGlsZCIsImdldEJvdW5kcyIsImRvYyIsImRvY3VtZW50RWxlbWVudCIsImRvY0VsIiwiYm94Iiwib3JpZ2luIiwiZ2V0T3JpZ2luIiwid2lkdGgiLCJzY3JvbGxXaWR0aCIsImhlaWdodCIsInNjcm9sbEhlaWdodCIsImNsaWVudFRvcCIsImNsaWVudExlZnQiLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsImdldE9mZnNldFBhcmVudCIsIm9mZnNldFBhcmVudCIsImdldFNjcm9sbEJhclNpemUiLCJfc2Nyb2xsQmFyU2l6ZSIsImlubmVyIiwiY3JlYXRlRWxlbWVudCIsIm91dGVyIiwiZXh0ZW5kIiwicG9pbnRlckV2ZW50cyIsInZpc2liaWxpdHkiLCJhcHBlbmRDaGlsZCIsIndpZHRoQ29udGFpbmVkIiwib2Zmc2V0V2lkdGgiLCJ3aWR0aFNjcm9sbCIsIm91dCIsImFyZ3VtZW50cyIsImxlbmd0aCIsImFyZ3MiLCJBcnJheSIsInByb3RvdHlwZSIsImFwcGx5Iiwic2xpY2UiLCJmb3JFYWNoIiwib2JqIiwia2V5IiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwicmVtb3ZlQ2xhc3MiLCJuYW1lIiwiY2xhc3NMaXN0Iiwic3BsaXQiLCJjbHMiLCJ0cmltIiwicmVtb3ZlIiwicmVnZXgiLCJSZWdFeHAiLCJqb2luIiwiY2xhc3NOYW1lIiwiZ2V0Q2xhc3NOYW1lIiwicmVwbGFjZSIsInNldENsYXNzTmFtZSIsImFkZENsYXNzIiwiYWRkIiwiaGFzQ2xhc3MiLCJjb250YWlucyIsIlNWR0FuaW1hdGVkU3RyaW5nIiwiYmFzZVZhbCIsInNldEF0dHJpYnV0ZSIsInVwZGF0ZUNsYXNzZXMiLCJhbGwiLCJfaW5oZXJpdHMiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJPYmplY3QiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsInZhbHVlIiwiZW51bWVyYWJsZSIsIndyaXRhYmxlIiwiY29uZmlndXJhYmxlIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJ3aXRoaW4iLCJhIiwiYiIsImRpZmYiLCJub3ciLCJwZXJmb3JtYW5jZSIsIkRhdGUiLCJhZGRPZmZzZXQiLCJfbGVuIiwib2Zmc2V0cyIsIl9rZXkiLCJfcmVmIiwicGFyc2VGbG9hdCIsIm9mZnNldFRvUHgiLCJvZmZzZXQiLCJzaXplIiwiZ2V0Qm91bmRpbmdSZWN0IiwidGV0aGVyIiwidG8iLCJzY3JvbGxQYXJlbnRzIiwicGFnZVhPZmZzZXQiLCJwYWdlWU9mZnNldCIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsInBvcyIsIndpbiIsIkJPVU5EU19GT1JNQVQiLCJzaWRlIiwiaSIsInRvVXBwZXJDYXNlIiwic3Vic3RyIiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiZGVzY3JpcHRvciIsImRlZmluZVByb3BlcnR5IiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiVGV0aGVyQmFzZSIsIm1vZHVsZXMiLCJ1bmlxdWVJZCIsImlkIiwiemVyb1Bvc0NhY2hlIiwiZ2V0QXR0cmlidXRlIiwiZGVmZXIiLCJkZWZlcnJlZCIsImZuIiwiZmx1c2giLCJwb3AiLCJFdmVudGVkIiwiZXZlbnQiLCJoYW5kbGVyIiwiY3R4Iiwib25jZSIsImJpbmRpbmdzIiwib24iLCJzcGxpY2UiLCJfYmluZGluZ3MkZXZlbnQkaSIsImNvbnRleHQiLCJVdGlscyIsIl9zbGljZWRUb0FycmF5Iiwic2xpY2VJdGVyYXRvciIsImFyciIsIl9hcnIiLCJfbiIsIl9kIiwiX2UiLCJfcyIsIl9pIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJuZXh0IiwiZG9uZSIsImlzQXJyYXkiLCJfZ2V0IiwiX3g2IiwiX3g3IiwiX3g4IiwiX2FnYWluIiwib2JqZWN0IiwicHJvcGVydHkiLCJyZWNlaXZlciIsIkZ1bmN0aW9uIiwiZGVzYyIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImdldHRlciIsImdldCIsImdldFByb3RvdHlwZU9mIiwiRXJyb3IiLCJfVGV0aGVyQmFzZSRVdGlscyIsInRyYW5zZm9ybUtleSIsInRyYW5zZm9ybXMiLCJ0ZXRoZXJzIiwibGFzdENhbGwiLCJsYXN0RHVyYXRpb24iLCJwZW5kaW5nVGltZW91dCIsInRpY2siLCJNYXRoIiwibWluIiwic2V0VGltZW91dCIsImNsZWFyVGltZW91dCIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJNSVJST1JfTFIiLCJjZW50ZXIiLCJNSVJST1JfVEIiLCJtaWRkbGUiLCJPRkZTRVRfTUFQIiwiYXV0b1RvRml4ZWRBdHRhY2htZW50IiwiYXR0YWNobWVudCIsInJlbGF0aXZlVG9BdHRhY2htZW50IiwiYXR0YWNobWVudFRvT2Zmc2V0IiwicGFyc2VPZmZzZXQiLCJfdmFsdWUkc3BsaXQiLCJfdmFsdWUkc3BsaXQyIiwicGFyc2VBdHRhY2htZW50IiwiVGV0aGVyQ2xhc3MiLCJfRXZlbnRlZCIsIm9wdGlvbnMiLCJfdGhpcyIsImJpbmQiLCJoaXN0b3J5Iiwic2V0T3B0aW9ucyIsImluaXRpYWxpemUiLCJjbGFzc2VzIiwiY2xhc3NQcmVmaXgiLCJfdGhpczIiLCJkZWZhdWx0cyIsInRhcmdldE9mZnNldCIsInRhcmdldEF0dGFjaG1lbnQiLCJfb3B0aW9ucyIsImVsZW1lbnQiLCJ0YXJnZXRNb2RpZmllciIsImpxdWVyeSIsInF1ZXJ5U2VsZWN0b3IiLCJnZXRDbGFzcyIsImFkZFRhcmdldENsYXNzZXMiLCJkaXNhYmxlIiwiZW5hYmxlZCIsImVuYWJsZSIsImJvdW5kcyIsImhhc0JvdHRvbVNjcm9sbCIsInNjcm9sbEJvdHRvbSIsImJvcmRlclRvcFdpZHRoIiwiYm9yZGVyQm90dG9tV2lkdGgiLCJib3JkZXJMZWZ0V2lkdGgiLCJmaXRBZGoiLCJwb3ciLCJtYXgiLCJzY3JvbGxQZXJjZW50YWdlIiwic2Nyb2xsVG9wIiwiX2NhY2hlIiwiX3RoaXMzIiwiX3RoaXM0IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIl90aGlzNSIsImVsZW1lbnRBdHRhY2giLCJ0YXJnZXRBdHRhY2giLCJfdGhpczYiLCJzaWRlcyIsIl9hZGRBdHRhY2hDbGFzc2VzIiwiX3RoaXM3IiwiZmx1c2hDaGFuZ2VzIiwiY2xlYXJDYWNoZSIsInVwZGF0ZUF0dGFjaENsYXNzZXMiLCJlbGVtZW50UG9zIiwiY2FjaGUiLCJsYXN0U2l6ZSIsIl9sYXN0U2l6ZSIsInRhcmdldFBvcyIsImdldFRhcmdldEJvdW5kcyIsInRhcmdldFNpemUiLCJtYW51YWxPZmZzZXQiLCJtYW51YWxUYXJnZXRPZmZzZXQiLCJfbW9kdWxlMiIsInJldCIsInNjcm9sbGJhclNpemUiLCJwYWdlIiwidmlld3BvcnQiLCJwYXJlbnRFbGVtZW50Iiwib3B0aW1pemF0aW9ucyIsIm1vdmVFbGVtZW50Iiwib2Zmc2V0UG9zaXRpb24iLCJvZmZzZXRQYXJlbnRTdHlsZSIsIm9mZnNldFBhcmVudFNpemUiLCJvZmZzZXRCb3JkZXIiLCJ0b0xvd2VyQ2FzZSIsInNjcm9sbExlZnQiLCJtb3ZlIiwidW5zaGlmdCIsIl90aGlzOCIsInNhbWUiLCJ0eXBlIiwiZm91bmQiLCJwb2ludCIsImNzcyIsInRyYW5zY3JpYmUiLCJfc2FtZSIsIl9wb3MiLCJncHUiLCJ5UG9zIiwieFBvcyIsIm1hdGNoTWVkaWEiLCJtYXRjaGVzIiwicm91bmQiLCJtb3ZlZCIsImJvZHlFbGVtZW50Iiwib2Zmc2V0UGFyZW50SXNCb2R5IiwiY3VycmVudE5vZGUiLCJ0YWdOYW1lIiwid3JpdGVDU1MiLCJ3cml0ZSIsInZhbCIsInRyaWdnZXIiLCJjb25zdHJhaW50cyIsInRhcmdldEhlaWdodCIsInRhcmdldFdpZHRoIiwiYWxsQ2xhc3NlcyIsImNvbnN0cmFpbnQiLCJvdXRPZkJvdW5kc0NsYXNzIiwicGlubmVkQ2xhc3MiLCJhZGRDbGFzc2VzIiwidEF0dGFjaG1lbnQiLCJlQXR0YWNobWVudCIsInBpbiIsImNoYW5nZUF0dGFjaFgiLCJjaGFuZ2VBdHRhY2hZIiwiX2F0dGFjaG1lbnQkc3BsaXQiLCJfYXR0YWNobWVudCRzcGxpdDIiLCJtYXAiLCJwIiwicGlubmVkIiwib29iIiwib29iQ2xhc3MiLCJhYnV0dGVkIiwidGFyZ2V0UG9zU2lkZSIsInNoaWZ0Iiwic2hpZnRUb3AiLCJzaGlmdExlZnQiLCJfc2hpZnQiLCJfc2hpZnQyIiwiVXRpbCIsIiQiLCJ0b1R5cGUiLCJ0b1N0cmluZyIsIm1hdGNoIiwiaXNFbGVtZW50IiwiZ2V0U3BlY2lhbFRyYW5zaXRpb25FbmRFdmVudCIsImJpbmRUeXBlIiwidHJhbnNpdGlvbiIsImVuZCIsImRlbGVnYXRlVHlwZSIsImhhbmRsZSIsImlzIiwiaGFuZGxlT2JqIiwidHJhbnNpdGlvbkVuZFRlc3QiLCJRVW5pdCIsIlRyYW5zaXRpb25FbmRFdmVudCIsInRyYW5zaXRpb25FbmRFbXVsYXRvciIsImR1cmF0aW9uIiwiY2FsbGVkIiwib25lIiwiVFJBTlNJVElPTl9FTkQiLCJ0cmlnZ2VyVHJhbnNpdGlvbkVuZCIsIldlYmtpdFRyYW5zaXRpb24iLCJNb3pUcmFuc2l0aW9uIiwiT1RyYW5zaXRpb24iLCJnZXRVSUQiLCJwcmVmaXgiLCJyYW5kb20iLCJnZXRFbGVtZW50QnlJZCIsImdldFNlbGVjdG9yRnJvbUVsZW1lbnQiLCJzZWxlY3RvciIsInJlZmxvdyIsIm9mZnNldEhlaWdodCIsInN1cHBvcnRzVHJhbnNpdGlvbkVuZCIsIkJvb2xlYW4iLCJ0eXBlQ2hlY2tDb25maWciLCJjb21wb25lbnROYW1lIiwiY29uZmlnIiwiY29uZmlnVHlwZXMiLCJleHBlY3RlZFR5cGVzIiwidmFsdWVUeXBlIiwiZW11bGF0ZVRyYW5zaXRpb25FbmQiLCJzcGVjaWFsIiwialF1ZXJ5IiwiX3R5cGVvZiIsIk1vZGFsIiwiTkFNRSIsIkVWRU5UX0tFWSIsIkpRVUVSWV9OT19DT05GTElDVCIsIkRlZmF1bHQiLCJiYWNrZHJvcCIsImtleWJvYXJkIiwiZm9jdXMiLCJzaG93IiwiRGVmYXVsdFR5cGUiLCJFdmVudCIsIkhJREUiLCJISURERU4iLCJTSE9XIiwiU0hPV04iLCJGT0NVU0lOIiwiUkVTSVpFIiwiQ0xJQ0tfRElTTUlTUyIsIktFWURPV05fRElTTUlTUyIsIk1PVVNFVVBfRElTTUlTUyIsIk1PVVNFRE9XTl9ESVNNSVNTIiwiQ0xJQ0tfREFUQV9BUEkiLCJDbGFzc05hbWUiLCJTQ1JPTExCQVJfTUVBU1VSRVIiLCJCQUNLRFJPUCIsIk9QRU4iLCJGQURFIiwiU2VsZWN0b3IiLCJESUFMT0ciLCJEQVRBX1RPR0dMRSIsIkRBVEFfRElTTUlTUyIsIkZJWEVEX0NPTlRFTlQiLCJfY29uZmlnIiwiX2dldENvbmZpZyIsIl9lbGVtZW50IiwiX2RpYWxvZyIsImZpbmQiLCJfYmFja2Ryb3AiLCJfaXNTaG93biIsIl9pc0JvZHlPdmVyZmxvd2luZyIsIl9pZ25vcmVCYWNrZHJvcENsaWNrIiwiX2lzVHJhbnNpdGlvbmluZyIsIl9vcmlnaW5hbEJvZHlQYWRkaW5nIiwiX3Njcm9sbGJhcldpZHRoIiwidG9nZ2xlIiwicmVsYXRlZFRhcmdldCIsImhpZGUiLCJzaG93RXZlbnQiLCJpc0RlZmF1bHRQcmV2ZW50ZWQiLCJfY2hlY2tTY3JvbGxiYXIiLCJfc2V0U2Nyb2xsYmFyIiwiX3NldEVzY2FwZUV2ZW50IiwiX3NldFJlc2l6ZUV2ZW50IiwiX3Nob3dCYWNrZHJvcCIsIl9zaG93RWxlbWVudCIsInByZXZlbnREZWZhdWx0IiwiaGlkZUV2ZW50Iiwib2ZmIiwiX2hpZGVNb2RhbCIsImRpc3Bvc2UiLCJyZW1vdmVEYXRhIiwiTm9kZSIsIkVMRU1FTlRfTk9ERSIsImRpc3BsYXkiLCJyZW1vdmVBdHRyaWJ1dGUiLCJfZW5mb3JjZUZvY3VzIiwic2hvd25FdmVudCIsInRyYW5zaXRpb25Db21wbGV0ZSIsImhhcyIsIndoaWNoIiwiX2hhbmRsZVVwZGF0ZSIsIl9yZXNldEFkanVzdG1lbnRzIiwiX3Jlc2V0U2Nyb2xsYmFyIiwiX3JlbW92ZUJhY2tkcm9wIiwiY2FsbGJhY2siLCJhbmltYXRlIiwiZG9BbmltYXRlIiwiYXBwZW5kVG8iLCJjdXJyZW50VGFyZ2V0IiwiY2FsbGJhY2tSZW1vdmUiLCJfYWRqdXN0RGlhbG9nIiwiaXNNb2RhbE92ZXJmbG93aW5nIiwicGFkZGluZ0xlZnQiLCJwYWRkaW5nUmlnaHQiLCJfZ2V0U2Nyb2xsYmFyV2lkdGgiLCJib2R5UGFkZGluZyIsInBhcnNlSW50Iiwic2Nyb2xsRGl2Iiwic2Nyb2xsYmFyV2lkdGgiLCJfalF1ZXJ5SW50ZXJmYWNlIiwiZWFjaCIsImRhdGEiLCJfdGhpczkiLCIkdGFyZ2V0Iiwibm9Db25mbGljdCIsIlRvb2x0aXAiLCJhbmltYXRpb24iLCJ0ZW1wbGF0ZSIsInRpdGxlIiwiZGVsYXkiLCJodG1sIiwicGxhY2VtZW50IiwiY29udGFpbmVyIiwiQXR0YWNobWVudE1hcCIsIlRPUCIsIlJJR0hUIiwiQk9UVE9NIiwiTEVGVCIsIkhvdmVyU3RhdGUiLCJPVVQiLCJJTlNFUlRFRCIsIkNMSUNLIiwiRk9DVVNPVVQiLCJNT1VTRUVOVEVSIiwiTU9VU0VMRUFWRSIsIlRPT0xUSVAiLCJUT09MVElQX0lOTkVSIiwiVHJpZ2dlciIsIkhPVkVSIiwiRk9DVVMiLCJNQU5VQUwiLCJfaXNFbmFibGVkIiwiX3RpbWVvdXQiLCJfaG92ZXJTdGF0ZSIsIl9hY3RpdmVUcmlnZ2VyIiwiX3RldGhlciIsInRpcCIsIl9zZXRMaXN0ZW5lcnMiLCJ0b2dnbGVFbmFibGVkIiwiZGF0YUtleSIsIkRBVEFfS0VZIiwiX2dldERlbGVnYXRlQ29uZmlnIiwiY2xpY2siLCJfaXNXaXRoQWN0aXZlVHJpZ2dlciIsIl9lbnRlciIsIl9sZWF2ZSIsImdldFRpcEVsZW1lbnQiLCJjbGVhbnVwVGV0aGVyIiwiY2xvc2VzdCIsImlzV2l0aENvbnRlbnQiLCJpc0luVGhlRG9tIiwidGlwSWQiLCJzZXRDb250ZW50IiwiX2dldEF0dGFjaG1lbnQiLCJjb21wbGV0ZSIsInByZXZIb3ZlclN0YXRlIiwiX1RSQU5TSVRJT05fRFVSQVRJT04iLCJnZXRUaXRsZSIsIiR0aXAiLCJzZXRFbGVtZW50Q29udGVudCIsIiRlbGVtZW50IiwiY29udGVudCIsImVtcHR5IiwiYXBwZW5kIiwidGV4dCIsImRlc3Ryb3kiLCJldmVudEluIiwiZXZlbnRPdXQiLCJfZml4VGl0bGUiLCJ0aXRsZVR5cGUiLCJDb2xsYXBzZSIsIkNPTExBUFNFIiwiQ09MTEFQU0lORyIsIkNPTExBUFNFRCIsIkRpbWVuc2lvbiIsIldJRFRIIiwiSEVJR0hUIiwiQUNUSVZFUyIsIl90cmlnZ2VyQXJyYXkiLCJtYWtlQXJyYXkiLCJfcGFyZW50IiwiX2dldFBhcmVudCIsIl9hZGRBcmlhQW5kQ29sbGFwc2VkQ2xhc3MiLCJhY3RpdmVzIiwiYWN0aXZlc0RhdGEiLCJzdGFydEV2ZW50IiwiZGltZW5zaW9uIiwiX2dldERpbWVuc2lvbiIsImF0dHIiLCJzZXRUcmFuc2l0aW9uaW5nIiwiY2FwaXRhbGl6ZWREaW1lbnNpb24iLCJzY3JvbGxTaXplIiwib2Zmc2V0RGltZW5zaW9uIiwiaXNUcmFuc2l0aW9uaW5nIiwiX2dldFRhcmdldEZyb21FbGVtZW50IiwidHJpZ2dlckFycmF5IiwiaXNPcGVuIiwidG9nZ2xlQ2xhc3MiLCIkdGhpcyJdLCJtYXBwaW5ncyI6IkFBSUEsUUFBQUEsaUJBQUFDLEVBQUFDLEdBQUEsS0FBQUQsWUFBQUMsSUFBQSxLQUFBLElBQUFDLFdBQUEscUNDQUEsUUFBQUgsaUJBQUFDLEVBQUFDLEdBQUEsS0FBQUQsWUFBQUMsSUFBQSxLQUFBLElBQUFDLFdBQUEscUNDQUEsUUFBQUgsaUJBQUFDLEVBQUFDLEdBQUEsS0FBQUQsWUFBQUMsSUFBQSxLQUFBLElBQUFDLFdBQUEsc0NDRkEsU0FBQUMsRUFBQUMsR0FDQSxrQkFBQUMsU0FBQUEsT0FBQUMsSUFDQUQsT0FBQUQsR0FDQSxnQkFBQUcsU0FDQUMsT0FBQUQsUUFBQUgsRUFBQUssUUFBQUYsUUFBQUMsUUFFQUwsRUFBQU8sT0FBQU4sS0FFQU8sS0FBQSxTQUFBRixFQUFBRixFQUFBQyxHQUVBLFlBSUEsU0FBQVQsR0FBQUMsRUFBQUMsR0FBQSxLQUFBRCxZQUFBQyxJQUFBLEtBQUEsSUFBQUMsV0FBQSxxQ0FXQSxRQUFBVSxHQUFBQyxHQUNBLEdBQUFDLEdBQUFELEVBQUFFLHdCQUlBQyxJQUNBLEtBQUEsR0FBQUMsS0FBQUgsR0FDQUUsRUFBQUMsR0FBQUgsRUFBQUcsRUFHQSxJQUFBSixFQUFBSyxnQkFBQUMsU0FBQSxDQUNBLEdBQUFDLEdBQUFQLEVBQUFLLGNBQUFHLFlBQUFDLFlBQ0EsSUFBQUYsRUFBQSxDQUNBLEdBQUFHLEdBQUFYLEVBQUFRLEVBQ0FKLEdBQUFRLEtBQUFELEVBQUFDLElBQ0FSLEVBQUFTLFFBQUFGLEVBQUFDLElBQ0FSLEVBQUFVLE1BQUFILEVBQUFHLEtBQ0FWLEVBQUFXLE9BQUFKLEVBQUFHLE1BSUEsTUFBQVYsR0FHQSxRQUFB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Ym9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBCb290c3RyYXAgKHY0LjAuMC1hbHBoYS42KTogbW9kYWwuanNcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5cbnZhciBNb2RhbCA9IGZ1bmN0aW9uICgkKSB7XG5cbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBDb25zdGFudHNcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG4gIHZhciBOQU1FID0gJ21vZGFsJztcbiAgdmFyIFZFUlNJT04gPSAnNC4wLjAtYWxwaGEuNic7XG4gIHZhciBEQVRBX0tFWSA9ICdicy5tb2RhbCc7XG4gIHZhciBFVkVOVF9LRVkgPSAnLicgKyBEQVRBX0tFWTtcbiAgdmFyIERBVEFfQVBJX0tFWSA9ICcuZGF0YS1hcGknO1xuICB2YXIgSlFVRVJZX05PX0NPTkZMSUNUID0gJC5mbltOQU1FXTtcbiAgdmFyIFRSQU5TSVRJT05fRFVSQVRJT04gPSAzMDA7XG4gIHZhciBCQUNLRFJPUF9UUkFOU0lUSU9OX0RVUkFUSU9OID0gMTUwO1xuICB2YXIgRVNDQVBFX0tFWUNPREUgPSAyNzsgLy8gS2V5Ym9hcmRFdmVudC53aGljaCB2YWx1ZSBmb3IgRXNjYXBlIChFc2MpIGtleVxuXG4gIHZhciBEZWZhdWx0ID0ge1xuICAgIGJhY2tkcm9wOiB0cnVlLFxuICAgIGtleWJvYXJkOiB0cnVlLFxuICAgIGZvY3VzOiB0cnVlLFxuICAgIHNob3c6IHRydWVcbiAgfTtcblxuICB2YXIgRGVmYXVsdFR5cGUgPSB7XG4gICAgYmFja2Ryb3A6ICcoYm9vbGVhbnxzdHJpbmcpJyxcbiAgICBrZXlib2FyZDogJ2Jvb2xlYW4nLFxuICAgIGZvY3VzOiAnYm9vbGVhbicsXG4gICAgc2hvdzogJ2Jvb2xlYW4nXG4gIH07XG5cbiAgdmFyIEV2ZW50ID0ge1xuICAgIEhJREU6ICdoaWRlJyArIEVWRU5UX0tFWSxcbiAgICBISURERU46ICdoaWRkZW4nICsgRVZFTlRfS0VZLFxuICAgIFNIT1c6ICdzaG93JyArIEVWRU5UX0tFWSxcbiAgICBTSE9XTjogJ3Nob3duJyArIEVWRU5UX0tFWSxcbiAgICBGT0NVU0lOOiAnZm9jdXNpbicgKyBFVkVOVF9LRVksXG4gICAgUkVTSVpFOiAncmVzaXplJyArIEVWRU5UX0tFWSxcbiAgICBDTElDS19ESVNNSVNTOiAnY2xpY2suZGlzbWlzcycgKyBFVkVOVF9LRVksXG4gICAgS0VZRE9XTl9ESVNNSVNTOiAna2V5ZG93bi5kaXNtaXNzJyArIEVWRU5UX0tFWSxcbiAgICBNT1VTRVVQX0RJU01JU1M6ICdtb3VzZXVwLmRpc21pc3MnICsgRVZFTlRfS0VZLFxuICAgIE1PVVNFRE9XTl9ESVNNSVNTOiAnbW91c2Vkb3duLmRpc21pc3MnICsgRVZFTlRfS0VZLFxuICAgIENMSUNLX0RBVEFfQVBJOiAnY2xpY2snICsgRVZFTlRfS0VZICsgREFUQV9BUElfS0VZXG4gIH07XG5cbiAgdmFyIENsYXNzTmFtZSA9IHtcbiAgICBTQ1JPTExCQVJfTUVBU1VSRVI6ICdtb2RhbC1zY3JvbGxiYXItbWVhc3VyZScsXG4gICAgQkFDS0RST1A6ICdtb2RhbC1iYWNrZHJvcCcsXG4gICAgT1BFTjogJ21vZGFsLW9wZW4nLFxuICAgIEZBREU6ICdmYWRlJyxcbiAgICBTSE9XOiAnc2hvdydcbiAgfTtcblxuICB2YXIgU2VsZWN0b3IgPSB7XG4gICAgRElBTE9HOiAnLm1vZGFsLWRpYWxvZycsXG4gICAgREFUQV9UT0dHTEU6ICdbZGF0YS10b2dnbGU9XCJtb2RhbFwiXScsXG4gICAgREFUQV9ESVNNSVNTOiAnW2RhdGEtZGlzbWlzcz1cIm1vZGFsXCJdJyxcbiAgICBGSVhFRF9DT05URU5UOiAnLmZpeGVkLXRvcCwgLmZpeGVkLWJvdHRvbSwgLmlzLWZpeGVkLCAuc3RpY2t5LXRvcCdcbiAgfTtcblxuICAvKipcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqIENsYXNzIERlZmluaXRpb25cbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG4gIHZhciBNb2RhbCA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBNb2RhbChlbGVtZW50LCBjb25maWcpIHtcbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNb2RhbCk7XG5cbiAgICAgIHRoaXMuX2NvbmZpZyA9IHRoaXMuX2dldENvbmZpZyhjb25maWcpO1xuICAgICAgdGhpcy5fZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICB0aGlzLl9kaWFsb2cgPSAkKGVsZW1lbnQpLmZpbmQoU2VsZWN0b3IuRElBTE9HKVswXTtcbiAgICAgIHRoaXMuX2JhY2tkcm9wID0gbnVsbDtcbiAgICAgIHRoaXMuX2lzU2hvd24gPSBmYWxzZTtcbiAgICAgIHRoaXMuX2lzQm9keU92ZXJmbG93aW5nID0gZmFsc2U7XG4gICAgICB0aGlzLl9pZ25vcmVCYWNrZHJvcENsaWNrID0gZmFsc2U7XG4gICAgICB0aGlzLl9pc1RyYW5zaXRpb25pbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMuX29yaWdpbmFsQm9keVBhZGRpbmcgPSAwO1xuICAgICAgdGhpcy5fc2Nyb2xsYmFyV2lkdGggPSAwO1xuICAgIH1cblxuICAgIC8vIGdldHRlcnNcblxuICAgIC8vIHB1YmxpY1xuXG4gICAgTW9kYWwucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uIHRvZ2dsZShyZWxhdGVkVGFyZ2V0KSB7XG4gICAgICByZXR1cm4gdGhpcy5faXNTaG93biA/IHRoaXMuaGlkZSgpIDogdGhpcy5zaG93KHJlbGF0ZWRUYXJnZXQpO1xuICAgIH07XG5cbiAgICBNb2RhbC5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uIHNob3cocmVsYXRlZFRhcmdldCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgaWYgKHRoaXMuX2lzVHJhbnNpdGlvbmluZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01vZGFsIGlzIHRyYW5zaXRpb25pbmcnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKFV0aWwuc3VwcG9ydHNUcmFuc2l0aW9uRW5kKCkgJiYgJCh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhDbGFzc05hbWUuRkFERSkpIHtcbiAgICAgICAgdGhpcy5faXNUcmFuc2l0aW9uaW5nID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHZhciBzaG93RXZlbnQgPSAkLkV2ZW50KEV2ZW50LlNIT1csIHtcbiAgICAgICAgcmVsYXRlZFRhcmdldDogcmVsYXRlZFRhcmdldFxuICAgICAgfSk7XG5cbiAgICAgICQodGhpcy5fZWxlbWVudCkudHJpZ2dlcihzaG93RXZlbnQpO1xuXG4gICAgICBpZiAodGhpcy5faXNTaG93biB8fCBzaG93RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9pc1Nob3duID0gdHJ1ZTtcblxuICAgICAgdGhpcy5fY2hlY2tTY3JvbGxiYXIoKTtcbiAgICAgIHRoaXMuX3NldFNjcm9sbGJhcigpO1xuXG4gICAgICAkKGRvY3VtZW50LmJvZHkpLmFkZENsYXNzKENsYXNzTmFtZS5PUEVOKTtcblxuICAgICAgdGhpcy5fc2V0RXNjYXBlRXZlbnQoKTtcbiAgICAgIHRoaXMuX3NldFJlc2l6ZUV2ZW50KCk7XG5cbiAgICAgICQodGhpcy5fZWxlbWVudCkub24oRXZlbnQuQ0xJQ0tfRElTTUlTUywgU2VsZWN0b3IuREFUQV9ESVNNSVNTLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLmhpZGUoZXZlbnQpO1xuICAgICAgfSk7XG5cbiAgICAgICQodGhpcy5fZGlhbG9nKS5vbihFdmVudC5NT1VTRURPV05fRElTTUlTUywgZnVuY3Rpb24gKCkge1xuICAgICAgICAkKF90aGlzLl9lbGVtZW50KS5vbmUoRXZlbnQuTU9VU0VVUF9ESVNNSVNTLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICBpZiAoJChldmVudC50YXJnZXQpLmlzKF90aGlzLl9lbGVtZW50KSkge1xuICAgICAgICAgICAgX3RoaXMuX2lnbm9yZUJhY2tkcm9wQ2xpY2sgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5fc2hvd0JhY2tkcm9wKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLl9zaG93RWxlbWVudChyZWxhdGVkVGFyZ2V0KTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBNb2RhbC5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uIGhpZGUoZXZlbnQpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICBpZiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX2lzVHJhbnNpdGlvbmluZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01vZGFsIGlzIHRyYW5zaXRpb25pbmcnKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHRyYW5zaXRpb24gPSBVdGlsLnN1cHBvcnRzVHJhbnNpdGlvbkVuZCgpICYmICQodGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MoQ2xhc3NOYW1lLkZBREUpO1xuICAgICAgaWYgKHRyYW5zaXRpb24pIHtcbiAgICAgICAgdGhpcy5faXNUcmFuc2l0aW9uaW5nID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIGhpZGVFdmVudCA9ICQuRXZlbnQoRXZlbnQuSElERSk7XG4gICAgICAkKHRoaXMuX2VsZW1lbnQpLnRyaWdnZXIoaGlkZUV2ZW50KTtcblxuICAgICAgaWYgKCF0aGlzLl9pc1Nob3duIHx8IGhpZGVFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2lzU2hvd24gPSBmYWxzZTtcblxuICAgICAgdGhpcy5fc2V0RXNjYXBlRXZlbnQoKTtcbiAgICAgIHRoaXMuX3NldFJlc2l6ZUV2ZW50KCk7XG5cbiAgICAgICQoZG9jdW1lbnQpLm9mZihFdmVudC5GT0NVU0lOKTtcblxuICAgICAgJCh0aGlzLl9lbGVtZW50KS5yZW1vdmVDbGFzcyhDbGFzc05hbWUuU0hPVyk7XG5cbiAgICAgICQodGhpcy5fZWxlbWVudCkub2ZmKEV2ZW50LkNMSUNLX0RJU01JU1MpO1xuICAgICAgJCh0aGlzLl9kaWFsb2cpLm9mZihFdmVudC5NT1VTRURPV05fRElTTUlTUyk7XG5cbiAgICAgIGlmICh0cmFuc2l0aW9uKSB7XG4gICAgICAgICQodGhpcy5fZWxlbWVudCkub25lKFV0aWwuVFJBTlNJVElPTl9FTkQsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIuX2hpZGVNb2RhbChldmVudCk7XG4gICAgICAgIH0pLmVtdWxhdGVUcmFuc2l0aW9uRW5kKFRSQU5TSVRJT05fRFVSQVRJT04pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5faGlkZU1vZGFsKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIE1vZGFsLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gZGlzcG9zZSgpIHtcbiAgICAgICQucmVtb3ZlRGF0YSh0aGlzLl9lbGVtZW50LCBEQVRBX0tFWSk7XG5cbiAgICAgICQod2luZG93LCBkb2N1bWVudCwgdGhpcy5fZWxlbWVudCwgdGhpcy5fYmFja2Ryb3ApLm9mZihFVkVOVF9LRVkpO1xuXG4gICAgICB0aGlzLl9jb25maWcgPSBudWxsO1xuICAgICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XG4gICAgICB0aGlzLl9kaWFsb2cgPSBudWxsO1xuICAgICAgdGhpcy5fYmFja2Ryb3AgPSBudWxsO1xuICAgICAgdGhpcy5faXNTaG93biA9IG51bGw7XG4gICAgICB0aGlzLl9pc0JvZHlPdmVyZmxvd2luZyA9IG51bGw7XG4gICAgICB0aGlzLl9pZ25vcmVCYWNrZHJvcENsaWNrID0gbnVsbDtcbiAgICAgIHRoaXMuX29yaWdpbmFsQm9keVBhZGRpbmcgPSBudWxsO1xuICAgICAgdGhpcy5fc2Nyb2xsYmFyV2lkdGggPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBwcml2YXRlXG5cbiAgICBNb2RhbC5wcm90b3R5cGUuX2dldENvbmZpZyA9IGZ1bmN0aW9uIF9nZXRDb25maWcoY29uZmlnKSB7XG4gICAgICBjb25maWcgPSAkLmV4dGVuZCh7fSwgRGVmYXVsdCwgY29uZmlnKTtcbiAgICAgIFV0aWwudHlwZUNoZWNrQ29uZmlnKE5BTUUsIGNvbmZpZywgRGVmYXVsdFR5cGUpO1xuICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICB9O1xuXG4gICAgTW9kYWwucHJvdG90eXBlLl9zaG93RWxlbWVudCA9IGZ1bmN0aW9uIF9zaG93RWxlbWVudChyZWxhdGVkVGFyZ2V0KSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgdmFyIHRyYW5zaXRpb24gPSBVdGlsLnN1cHBvcnRzVHJhbnNpdGlvbkVuZCgpICYmICQodGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MoQ2xhc3NOYW1lLkZBREUpO1xuXG4gICAgICBpZiAoIXRoaXMuX2VsZW1lbnQucGFyZW50Tm9kZSB8fCB0aGlzLl9lbGVtZW50LnBhcmVudE5vZGUubm9kZVR5cGUgIT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgIC8vIGRvbid0IG1vdmUgbW9kYWxzIGRvbSBwb3NpdGlvblxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuX2VsZW1lbnQpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9lbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJyk7XG4gICAgICB0aGlzLl9lbGVtZW50LnNjcm9sbFRvcCA9IDA7XG5cbiAgICAgIGlmICh0cmFuc2l0aW9uKSB7XG4gICAgICAgIFV0aWwucmVmbG93KHRoaXMuX2VsZW1lbnQpO1xuICAgICAgfVxuXG4gICAgICAkKHRoaXMuX2VsZW1lbnQpLmFkZENsYXNzKENsYXNzTmFtZS5TSE9XKTtcblxuICAgICAgaWYgKHRoaXMuX2NvbmZpZy5mb2N1cykge1xuICAgICAgICB0aGlzLl9lbmZvcmNlRm9jdXMoKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHNob3duRXZlbnQgPSAkLkV2ZW50KEV2ZW50LlNIT1dOLCB7XG4gICAgICAgIHJlbGF0ZWRUYXJnZXQ6IHJlbGF0ZWRUYXJnZXRcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgdHJhbnNpdGlvbkNvbXBsZXRlID0gZnVuY3Rpb24gdHJhbnNpdGlvbkNvbXBsZXRlKCkge1xuICAgICAgICBpZiAoX3RoaXMzLl9jb25maWcuZm9jdXMpIHtcbiAgICAgICAgICBfdGhpczMuX2VsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpczMuX2lzVHJhbnNpdGlvbmluZyA9IGZhbHNlO1xuICAgICAgICAkKF90aGlzMy5fZWxlbWVudCkudHJpZ2dlcihzaG93bkV2ZW50KTtcbiAgICAgIH07XG5cbiAgICAgIGlmICh0cmFuc2l0aW9uKSB7XG4gICAgICAgICQodGhpcy5fZGlhbG9nKS5vbmUoVXRpbC5UUkFOU0lUSU9OX0VORCwgdHJhbnNpdGlvbkNvbXBsZXRlKS5lbXVsYXRlVHJhbnNpdGlvbkVuZChUUkFOU0lUSU9OX0RVUkFUSU9OKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRyYW5zaXRpb25Db21wbGV0ZSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBNb2RhbC5wcm90b3R5cGUuX2VuZm9yY2VGb2N1cyA9IGZ1bmN0aW9uIF9lbmZvcmNlRm9jdXMoKSB7XG4gICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgJChkb2N1bWVudCkub2ZmKEV2ZW50LkZPQ1VTSU4pIC8vIGd1YXJkIGFnYWluc3QgaW5maW5pdGUgZm9jdXMgbG9vcFxuICAgICAgLm9uKEV2ZW50LkZPQ1VTSU4sIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAoZG9jdW1lbnQgIT09IGV2ZW50LnRhcmdldCAmJiBfdGhpczQuX2VsZW1lbnQgIT09IGV2ZW50LnRhcmdldCAmJiAhJChfdGhpczQuX2VsZW1lbnQpLmhhcyhldmVudC50YXJnZXQpLmxlbmd0aCkge1xuICAgICAgICAgIF90aGlzNC5fZWxlbWVudC5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgTW9kYWwucHJvdG90eXBlLl9zZXRFc2NhcGVFdmVudCA9IGZ1bmN0aW9uIF9zZXRFc2NhcGVFdmVudCgpIHtcbiAgICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gICAgICBpZiAodGhpcy5faXNTaG93biAmJiB0aGlzLl9jb25maWcua2V5Ym9hcmQpIHtcbiAgICAgICAgJCh0aGlzLl9lbGVtZW50KS5vbihFdmVudC5LRVlET1dOX0RJU01JU1MsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIGlmIChldmVudC53aGljaCA9PT0gRVNDQVBFX0tFWUNPREUpIHtcbiAgICAgICAgICAgIF90aGlzNS5oaWRlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX2lzU2hvd24pIHtcbiAgICAgICAgJCh0aGlzLl9lbGVtZW50KS5vZmYoRXZlbnQuS0VZRE9XTl9ESVNNSVNTKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgTW9kYWwucHJvdG90eXBlLl9zZXRSZXNpemVFdmVudCA9IGZ1bmN0aW9uIF9zZXRSZXNpemVFdmVudCgpIHtcbiAgICAgIHZhciBfdGhpczYgPSB0aGlzO1xuXG4gICAgICBpZiAodGhpcy5faXNTaG93bikge1xuICAgICAgICAkKHdpbmRvdykub24oRXZlbnQuUkVTSVpFLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXM2Ll9oYW5kbGVVcGRhdGUoZXZlbnQpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICQod2luZG93KS5vZmYoRXZlbnQuUkVTSVpFKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgTW9kYWwucHJvdG90eXBlLl9oaWRlTW9kYWwgPSBmdW5jdGlvbiBfaGlkZU1vZGFsKCkge1xuICAgICAgdmFyIF90aGlzNyA9IHRoaXM7XG5cbiAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgICB0aGlzLl9pc1RyYW5zaXRpb25pbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMuX3Nob3dCYWNrZHJvcChmdW5jdGlvbiAoKSB7XG4gICAgICAgICQoZG9jdW1lbnQuYm9keSkucmVtb3ZlQ2xhc3MoQ2xhc3NOYW1lLk9QRU4pO1xuICAgICAgICBfdGhpczcuX3Jlc2V0QWRqdXN0bWVudHMoKTtcbiAgICAgICAgX3RoaXM3Ll9yZXNldFNjcm9sbGJhcigpO1xuICAgICAgICAkKF90aGlzNy5fZWxlbWVudCkudHJpZ2dlcihFdmVudC5ISURERU4pO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIE1vZGFsLnByb3RvdHlwZS5fcmVtb3ZlQmFja2Ryb3AgPSBmdW5jdGlvbiBfcmVtb3ZlQmFja2Ryb3AoKSB7XG4gICAgICBpZiAodGhpcy5fYmFja2Ryb3ApIHtcbiAgICAgICAgJCh0aGlzLl9iYWNrZHJvcCkucmVtb3ZlKCk7XG4gICAgICAgIHRoaXMuX2JhY2tkcm9wID0gbnVsbDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgTW9kYWwucHJvdG90eXBlLl9zaG93QmFja2Ryb3AgPSBmdW5jdGlvbiBfc2hvd0JhY2tkcm9wKGNhbGxiYWNrKSB7XG4gICAgICB2YXIgX3RoaXM4ID0gdGhpcztcblxuICAgICAgdmFyIGFuaW1hdGUgPSAkKHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKENsYXNzTmFtZS5GQURFKSA/IENsYXNzTmFtZS5GQURFIDogJyc7XG5cbiAgICAgIGlmICh0aGlzLl9pc1Nob3duICYmIHRoaXMuX2NvbmZpZy5iYWNrZHJvcCkge1xuICAgICAgICB2YXIgZG9BbmltYXRlID0gVXRpbC5zdXBwb3J0c1RyYW5zaXRpb25FbmQoKSAmJiBhbmltYXRlO1xuXG4gICAgICAgIHRoaXMuX2JhY2tkcm9wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuX2JhY2tkcm9wLmNsYXNzTmFtZSA9IENsYXNzTmFtZS5CQUNLRFJPUDtcblxuICAgICAgICBpZiAoYW5pbWF0ZSkge1xuICAgICAgICAgICQodGhpcy5fYmFja2Ryb3ApLmFkZENsYXNzKGFuaW1hdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgJCh0aGlzLl9iYWNrZHJvcCkuYXBwZW5kVG8oZG9jdW1lbnQuYm9keSk7XG5cbiAgICAgICAgJCh0aGlzLl9lbGVtZW50KS5vbihFdmVudC5DTElDS19ESVNNSVNTLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICBpZiAoX3RoaXM4Ll9pZ25vcmVCYWNrZHJvcENsaWNrKSB7XG4gICAgICAgICAgICBfdGhpczguX2lnbm9yZUJhY2tkcm9wQ2xpY2sgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGV2ZW50LnRhcmdldCAhPT0gZXZlbnQuY3VycmVudFRhcmdldCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoX3RoaXM4Ll9jb25maWcuYmFja2Ryb3AgPT09ICdzdGF0aWMnKSB7XG4gICAgICAgICAgICBfdGhpczguX2VsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgX3RoaXM4LmhpZGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChkb0FuaW1hdGUpIHtcbiAgICAgICAgICBVdGlsLnJlZmxvdyh0aGlzLl9iYWNrZHJvcCk7XG4gICAgICAgIH1cblxuICAgICAgICAkKHRoaXMuX2JhY2tkcm9wKS5hZGRDbGFzcyhDbGFzc05hbWUuU0hPVyk7XG5cbiAgICAgICAgaWYgKCFjYWxsYmFjaykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZG9BbmltYXRlKSB7XG4gICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAkKHRoaXMuX2JhY2tkcm9wKS5vbmUoVXRpbC5UUkFOU0lUSU9OX0VORCwgY2FsbGJhY2spLmVtdWxhdGVUcmFuc2l0aW9uRW5kKEJBQ0tEUk9QX1RSQU5TSVRJT05fRFVSQVRJT04pO1xuICAgICAgfSBlbHNlIGlmICghdGhpcy5faXNTaG93biAmJiB0aGlzLl9iYWNrZHJvcCkge1xuICAgICAgICAkKHRoaXMuX2JhY2tkcm9wKS5yZW1vdmVDbGFzcyhDbGFzc05hbWUuU0hPVyk7XG5cbiAgICAgICAgdmFyIGNhbGxiYWNrUmVtb3ZlID0gZnVuY3Rpb24gY2FsbGJhY2tSZW1vdmUoKSB7XG4gICAgICAgICAgX3RoaXM4Ll9yZW1vdmVCYWNrZHJvcCgpO1xuICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKFV0aWwuc3VwcG9ydHNUcmFuc2l0aW9uRW5kKCkgJiYgJCh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhDbGFzc05hbWUuRkFERSkpIHtcbiAgICAgICAgICAkKHRoaXMuX2JhY2tkcm9wKS5vbmUoVXRpbC5UUkFOU0lUSU9OX0VORCwgY2FsbGJhY2tSZW1vdmUpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKEJBQ0tEUk9QX1RSQU5TSVRJT05fRFVSQVRJT04pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNhbGxiYWNrUmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIHRoZSBmb2xsb3dpbmcgbWV0aG9kcyBhcmUgdXNlZCB0byBoYW5kbGUgb3ZlcmZsb3dpbmcgbW9kYWxzXG4gICAgLy8gdG9kbyAoZmF0KTogdGhlc2Ugc2hvdWxkIHByb2JhYmx5IGJlIHJlZmFjdG9yZWQgb3V0IG9mIG1vZGFsLmpzXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgTW9kYWwucHJvdG90eXBlLl9oYW5kbGVVcGRhdGUgPSBmdW5jdGlvbiBfaGFuZGxlVXBkYXRlKCkge1xuICAgICAgdGhpcy5fYWRqdXN0RGlhbG9nKCk7XG4gICAgfTtcblxuICAgIE1vZGFsLnByb3RvdHlwZS5fYWRqdXN0RGlhbG9nID0gZnVuY3Rpb24gX2FkanVzdERpYWxvZygpIHtcbiAgICAgIHZhciBpc01vZGFsT3ZlcmZsb3dpbmcgPSB0aGlzLl9lbGVtZW50LnNjcm9sbEhlaWdodCA+IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7XG5cbiAgICAgIGlmICghdGhpcy5faXNCb2R5T3ZlcmZsb3dpbmcgJiYgaXNNb2RhbE92ZXJmbG93aW5nKSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUucGFkZGluZ0xlZnQgPSB0aGlzLl9zY3JvbGxiYXJXaWR0aCArICdweCc7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9pc0JvZHlPdmVyZmxvd2luZyAmJiAhaXNNb2RhbE92ZXJmbG93aW5nKSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUucGFkZGluZ1JpZ2h0ID0gdGhpcy5fc2Nyb2xsYmFyV2lkdGggKyAncHgnO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBNb2RhbC5wcm90b3R5cGUuX3Jlc2V0QWRqdXN0bWVudHMgPSBmdW5jdGlvbiBfcmVzZXRBZGp1c3RtZW50cygpIHtcbiAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUucGFkZGluZ0xlZnQgPSAnJztcbiAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUucGFkZGluZ1JpZ2h0ID0gJyc7XG4gICAgfTtcblxuICAgIE1vZGFsLnByb3RvdHlwZS5fY2hlY2tTY3JvbGxiYXIgPSBmdW5jdGlvbiBfY2hlY2tTY3JvbGxiYXIoKSB7XG4gICAgICB0aGlzLl9pc0JvZHlPdmVyZmxvd2luZyA9IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGggPCB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgIHRoaXMuX3Njcm9sbGJhcldpZHRoID0gdGhpcy5fZ2V0U2Nyb2xsYmFyV2lkdGgoKTtcbiAgICB9O1xuXG4gICAgTW9kYWwucHJvdG90eXBlLl9zZXRTY3JvbGxiYXIgPSBmdW5jdGlvbiBfc2V0U2Nyb2xsYmFyKCkge1xuICAgICAgdmFyIGJvZHlQYWRkaW5nID0gcGFyc2VJbnQoJChTZWxlY3Rvci5GSVhFRF9DT05URU5UKS5jc3MoJ3BhZGRpbmctcmlnaHQnKSB8fCAwLCAxMCk7XG5cbiAgICAgIHRoaXMuX29yaWdpbmFsQm9keVBhZGRpbmcgPSBkb2N1bWVudC5ib2R5LnN0eWxlLnBhZGRpbmdSaWdodCB8fCAnJztcblxuICAgICAgaWYgKHRoaXMuX2lzQm9keU92ZXJmbG93aW5nKSB7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucGFkZGluZ1JpZ2h0ID0gYm9keVBhZGRpbmcgKyB0aGlzLl9zY3JvbGxiYXJXaWR0aCArICdweCc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIE1vZGFsLnByb3RvdHlwZS5fcmVzZXRTY3JvbGxiYXIgPSBmdW5jdGlvbiBfcmVzZXRTY3JvbGxiYXIoKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnBhZGRpbmdSaWdodCA9IHRoaXMuX29yaWdpbmFsQm9keVBhZGRpbmc7XG4gICAgfTtcblxuICAgIE1vZGFsLnByb3RvdHlwZS5fZ2V0U2Nyb2xsYmFyV2lkdGggPSBmdW5jdGlvbiBfZ2V0U2Nyb2xsYmFyV2lkdGgoKSB7XG4gICAgICAvLyB0aHggZC53YWxzaFxuICAgICAgdmFyIHNjcm9sbERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgc2Nyb2xsRGl2LmNsYXNzTmFtZSA9IENsYXNzTmFtZS5TQ1JPTExCQVJfTUVBU1VSRVI7XG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcm9sbERpdik7XG4gICAgICB2YXIgc2Nyb2xsYmFyV2lkdGggPSBzY3JvbGxEaXYub2Zmc2V0V2lkdGggLSBzY3JvbGxEaXYuY2xpZW50V2lkdGg7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHNjcm9sbERpdik7XG4gICAgICByZXR1cm4gc2Nyb2xsYmFyV2lkdGg7XG4gICAgfTtcblxuICAgIC8vIHN0YXRpY1xuXG4gICAgTW9kYWwuX2pRdWVyeUludGVyZmFjZSA9IGZ1bmN0aW9uIF9qUXVlcnlJbnRlcmZhY2UoY29uZmlnLCByZWxhdGVkVGFyZ2V0KSB7XG4gICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRhdGEgPSAkKHRoaXMpLmRhdGEoREFUQV9LRVkpO1xuICAgICAgICB2YXIgX2NvbmZpZyA9ICQuZXh0ZW5kKHt9LCBNb2RhbC5EZWZhdWx0LCAkKHRoaXMpLmRhdGEoKSwgKHR5cGVvZiBjb25maWcgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGNvbmZpZykpID09PSAnb2JqZWN0JyAmJiBjb25maWcpO1xuXG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgIGRhdGEgPSBuZXcgTW9kYWwodGhpcywgX2NvbmZpZyk7XG4gICAgICAgICAgJCh0aGlzKS5kYXRhKERBVEFfS0VZLCBkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGlmIChkYXRhW2NvbmZpZ10gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBtZXRob2QgbmFtZWQgXCInICsgY29uZmlnICsgJ1wiJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRhdGFbY29uZmlnXShyZWxhdGVkVGFyZ2V0KTtcbiAgICAgICAgfSBlbHNlIGlmIChfY29uZmlnLnNob3cpIHtcbiAgICAgICAgICBkYXRhLnNob3cocmVsYXRlZFRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfY3JlYXRlQ2xhc3MoTW9kYWwsIG51bGwsIFt7XG4gICAgICBrZXk6ICdWRVJTSU9OJyxcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gVkVSU0lPTjtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6ICdEZWZhdWx0JyxcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gRGVmYXVsdDtcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gTW9kYWw7XG4gIH0oKTtcblxuICAvKipcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqIERhdGEgQXBpIGltcGxlbWVudGF0aW9uXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKi9cblxuICAkKGRvY3VtZW50KS5vbihFdmVudC5DTElDS19EQVRBX0FQSSwgU2VsZWN0b3IuREFUQV9UT0dHTEUsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIHZhciBfdGhpczkgPSB0aGlzO1xuXG4gICAgdmFyIHRhcmdldCA9IHZvaWQgMDtcbiAgICB2YXIgc2VsZWN0b3IgPSBVdGlsLmdldFNlbGVjdG9yRnJvbUVsZW1lbnQodGhpcyk7XG5cbiAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgIHRhcmdldCA9ICQoc2VsZWN0b3IpWzBdO1xuICAgIH1cblxuICAgIHZhciBjb25maWcgPSAkKHRhcmdldCkuZGF0YShEQVRBX0tFWSkgPyAndG9nZ2xlJyA6ICQuZXh0ZW5kKHt9LCAkKHRhcmdldCkuZGF0YSgpLCAkKHRoaXMpLmRhdGEoKSk7XG5cbiAgICBpZiAodGhpcy50YWdOYW1lID09PSAnQScgfHwgdGhpcy50YWdOYW1lID09PSAnQVJFQScpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgdmFyICR0YXJnZXQgPSAkKHRhcmdldCkub25lKEV2ZW50LlNIT1csIGZ1bmN0aW9uIChzaG93RXZlbnQpIHtcbiAgICAgIGlmIChzaG93RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgLy8gb25seSByZWdpc3RlciBmb2N1cyByZXN0b3JlciBpZiBtb2RhbCB3aWxsIGFjdHVhbGx5IGdldCBzaG93blxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgICR0YXJnZXQub25lKEV2ZW50LkhJRERFTiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoJChfdGhpczkpLmlzKCc6dmlzaWJsZScpKSB7XG4gICAgICAgICAgX3RoaXM5LmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgTW9kYWwuX2pRdWVyeUludGVyZmFjZS5jYWxsKCQodGFyZ2V0KSwgY29uZmlnLCB0aGlzKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBqUXVlcnlcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG4gICQuZm5bTkFNRV0gPSBNb2RhbC5falF1ZXJ5SW50ZXJmYWNlO1xuICAkLmZuW05BTUVdLkNvbnN0cnVjdG9yID0gTW9kYWw7XG4gICQuZm5bTkFNRV0ubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuW05BTUVdID0gSlFVRVJZX05PX0NPTkZMSUNUO1xuICAgIHJldHVybiBNb2RhbC5falF1ZXJ5SW50ZXJmYWNlO1xuICB9O1xuXG4gIHJldHVybiBNb2RhbDtcbn0oalF1ZXJ5KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1vZGFsLmpzLm1hcFxuIiwidmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBCb290c3RyYXAgKHY0LjAuMC1hbHBoYS42KTogdG9vbHRpcC5qc1xuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cblxudmFyIFRvb2x0aXAgPSBmdW5jdGlvbiAoJCkge1xuXG4gIC8qKlxuICAgKiBDaGVjayBmb3IgVGV0aGVyIGRlcGVuZGVuY3lcbiAgICogVGV0aGVyIC0gaHR0cDovL3RldGhlci5pby9cbiAgICovXG4gIGlmICh0eXBlb2YgVGV0aGVyID09PSAndW5kZWZpbmVkJykge1xuICAgIHRocm93IG5ldyBFcnJvcignQm9vdHN0cmFwIHRvb2x0aXBzIHJlcXVpcmUgVGV0aGVyIChodHRwOi8vdGV0aGVyLmlvLyknKTtcbiAgfVxuXG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogQ29uc3RhbnRzXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKi9cblxuICB2YXIgTkFNRSA9ICd0b29sdGlwJztcbiAgdmFyIFZFUlNJT04gPSAnNC4wLjAtYWxwaGEuNic7XG4gIHZhciBEQVRBX0tFWSA9ICdicy50b29sdGlwJztcbiAgdmFyIEVWRU5UX0tFWSA9ICcuJyArIERBVEFfS0VZO1xuICB2YXIgSlFVRVJZX05PX0NPTkZMSUNUID0gJC5mbltOQU1FXTtcbiAgdmFyIFRSQU5TSVRJT05fRFVSQVRJT04gPSAxNTA7XG4gIHZhciBDTEFTU19QUkVGSVggPSAnYnMtdGV0aGVyJztcblxuICB2YXIgRGVmYXVsdCA9IHtcbiAgICBhbmltYXRpb246IHRydWUsXG4gICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwidG9vbHRpcFwiIHJvbGU9XCJ0b29sdGlwXCI+JyArICc8ZGl2IGNsYXNzPVwidG9vbHRpcC1pbm5lclwiPjwvZGl2PjwvZGl2PicsXG4gICAgdHJpZ2dlcjogJ2hvdmVyIGZvY3VzJyxcbiAgICB0aXRsZTogJycsXG4gICAgZGVsYXk6IDAsXG4gICAgaHRtbDogZmFsc2UsXG4gICAgc2VsZWN0b3I6IGZhbHNlLFxuICAgIHBsYWNlbWVudDogJ3RvcCcsXG4gICAgb2Zmc2V0OiAnMCAwJyxcbiAgICBjb25zdHJhaW50czogW10sXG4gICAgY29udGFpbmVyOiBmYWxzZVxuICB9O1xuXG4gIHZhciBEZWZhdWx0VHlwZSA9IHtcbiAgICBhbmltYXRpb246ICdib29sZWFuJyxcbiAgICB0ZW1wbGF0ZTogJ3N0cmluZycsXG4gICAgdGl0bGU6ICcoc3RyaW5nfGVsZW1lbnR8ZnVuY3Rpb24pJyxcbiAgICB0cmlnZ2VyOiAnc3RyaW5nJyxcbiAgICBkZWxheTogJyhudW1iZXJ8b2JqZWN0KScsXG4gICAgaHRtbDogJ2Jvb2xlYW4nLFxuICAgIHNlbGVjdG9yOiAnKHN0cmluZ3xib29sZWFuKScsXG4gICAgcGxhY2VtZW50OiAnKHN0cmluZ3xmdW5jdGlvbiknLFxuICAgIG9mZnNldDogJ3N0cmluZycsXG4gICAgY29uc3RyYWludHM6ICdhcnJheScsXG4gICAgY29udGFpbmVyOiAnKHN0cmluZ3xlbGVtZW50fGJvb2xlYW4pJ1xuICB9O1xuXG4gIHZhciBBdHRhY2htZW50TWFwID0ge1xuICAgIFRPUDogJ2JvdHRvbSBjZW50ZXInLFxuICAgIFJJR0hUOiAnbWlkZGxlIGxlZnQnLFxuICAgIEJPVFRPTTogJ3RvcCBjZW50ZXInLFxuICAgIExFRlQ6ICdtaWRkbGUgcmlnaHQnXG4gIH07XG5cbiAgdmFyIEhvdmVyU3RhdGUgPSB7XG4gICAgU0hPVzogJ3Nob3cnLFxuICAgIE9VVDogJ291dCdcbiAgfTtcblxuICB2YXIgRXZlbnQgPSB7XG4gICAgSElERTogJ2hpZGUnICsgRVZFTlRfS0VZLFxuICAgIEhJRERFTjogJ2hpZGRlbicgKyBFVkVOVF9LRVksXG4gICAgU0hPVzogJ3Nob3cnICsgRVZFTlRfS0VZLFxuICAgIFNIT1dOOiAnc2hvd24nICsgRVZFTlRfS0VZLFxuICAgIElOU0VSVEVEOiAnaW5zZXJ0ZWQnICsgRVZFTlRfS0VZLFxuICAgIENMSUNLOiAnY2xpY2snICsgRVZFTlRfS0VZLFxuICAgIEZPQ1VTSU46ICdmb2N1c2luJyArIEVWRU5UX0tFWSxcbiAgICBGT0NVU09VVDogJ2ZvY3Vzb3V0JyArIEVWRU5UX0tFWSxcbiAgICBNT1VTRUVOVEVSOiAnbW91c2VlbnRlcicgKyBFVkVOVF9LRVksXG4gICAgTU9VU0VMRUFWRTogJ21vdXNlbGVhdmUnICsgRVZFTlRfS0VZXG4gIH07XG5cbiAgdmFyIENsYXNzTmFtZSA9IHtcbiAgICBGQURFOiAnZmFkZScsXG4gICAgU0hPVzogJ3Nob3cnXG4gIH07XG5cbiAgdmFyIFNlbGVjdG9yID0ge1xuICAgIFRPT0xUSVA6ICcudG9vbHRpcCcsXG4gICAgVE9PTFRJUF9JTk5FUjogJy50b29sdGlwLWlubmVyJ1xuICB9O1xuXG4gIHZhciBUZXRoZXJDbGFzcyA9IHtcbiAgICBlbGVtZW50OiBmYWxzZSxcbiAgICBlbmFibGVkOiBmYWxzZVxuICB9O1xuXG4gIHZhciBUcmlnZ2VyID0ge1xuICAgIEhPVkVSOiAnaG92ZXInLFxuICAgIEZPQ1VTOiAnZm9jdXMnLFxuICAgIENMSUNLOiAnY2xpY2snLFxuICAgIE1BTlVBTDogJ21hbnVhbCdcbiAgfTtcblxuICAvKipcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqIENsYXNzIERlZmluaXRpb25cbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG4gIHZhciBUb29sdGlwID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRvb2x0aXAoZWxlbWVudCwgY29uZmlnKSB7XG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVG9vbHRpcCk7XG5cbiAgICAgIC8vIHByaXZhdGVcbiAgICAgIHRoaXMuX2lzRW5hYmxlZCA9IHRydWU7XG4gICAgICB0aGlzLl90aW1lb3V0ID0gMDtcbiAgICAgIHRoaXMuX2hvdmVyU3RhdGUgPSAnJztcbiAgICAgIHRoaXMuX2FjdGl2ZVRyaWdnZXIgPSB7fTtcbiAgICAgIHRoaXMuX2lzVHJhbnNpdGlvbmluZyA9IGZhbHNlO1xuICAgICAgdGhpcy5fdGV0aGVyID0gbnVsbDtcblxuICAgICAgLy8gcHJvdGVjdGVkXG4gICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgdGhpcy5jb25maWcgPSB0aGlzLl9nZXRDb25maWcoY29uZmlnKTtcbiAgICAgIHRoaXMudGlwID0gbnVsbDtcblxuICAgICAgdGhpcy5fc2V0TGlzdGVuZXJzKCk7XG4gICAgfVxuXG4gICAgLy8gZ2V0dGVyc1xuXG4gICAgLy8gcHVibGljXG5cbiAgICBUb29sdGlwLnByb3RvdHlwZS5lbmFibGUgPSBmdW5jdGlvbiBlbmFibGUoKSB7XG4gICAgICB0aGlzLl9pc0VuYWJsZWQgPSB0cnVlO1xuICAgIH07XG5cbiAgICBUb29sdGlwLnByb3RvdHlwZS5kaXNhYmxlID0gZnVuY3Rpb24gZGlzYWJsZSgpIHtcbiAgICAgIHRoaXMuX2lzRW5hYmxlZCA9IGZhbHNlO1xuICAgIH07XG5cbiAgICBUb29sdGlwLnByb3RvdHlwZS50b2dnbGVFbmFibGVkID0gZnVuY3Rpb24gdG9nZ2xlRW5hYmxlZCgpIHtcbiAgICAgIHRoaXMuX2lzRW5hYmxlZCA9ICF0aGlzLl9pc0VuYWJsZWQ7XG4gICAgfTtcblxuICAgIFRvb2x0aXAucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uIHRvZ2dsZShldmVudCkge1xuICAgICAgaWYgKGV2ZW50KSB7XG4gICAgICAgIHZhciBkYXRhS2V5ID0gdGhpcy5jb25zdHJ1Y3Rvci5EQVRBX0tFWTtcbiAgICAgICAgdmFyIGNvbnRleHQgPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLmRhdGEoZGF0YUtleSk7XG5cbiAgICAgICAgaWYgKCFjb250ZXh0KSB7XG4gICAgICAgICAgY29udGV4dCA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKGV2ZW50LmN1cnJlbnRUYXJnZXQsIHRoaXMuX2dldERlbGVnYXRlQ29uZmlnKCkpO1xuICAgICAgICAgICQoZXZlbnQuY3VycmVudFRhcmdldCkuZGF0YShkYXRhS2V5LCBjb250ZXh0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQuX2FjdGl2ZVRyaWdnZXIuY2xpY2sgPSAhY29udGV4dC5fYWN0aXZlVHJpZ2dlci5jbGljaztcblxuICAgICAgICBpZiAoY29udGV4dC5faXNXaXRoQWN0aXZlVHJpZ2dlcigpKSB7XG4gICAgICAgICAgY29udGV4dC5fZW50ZXIobnVsbCwgY29udGV4dCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29udGV4dC5fbGVhdmUobnVsbCwgY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgaWYgKCQodGhpcy5nZXRUaXBFbGVtZW50KCkpLmhhc0NsYXNzKENsYXNzTmFtZS5TSE9XKSkge1xuICAgICAgICAgIHRoaXMuX2xlYXZlKG51bGwsIHRoaXMpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2VudGVyKG51bGwsIHRoaXMpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBUb29sdGlwLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gZGlzcG9zZSgpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0KTtcblxuICAgICAgdGhpcy5jbGVhbnVwVGV0aGVyKCk7XG5cbiAgICAgICQucmVtb3ZlRGF0YSh0aGlzLmVsZW1lbnQsIHRoaXMuY29uc3RydWN0b3IuREFUQV9LRVkpO1xuXG4gICAgICAkKHRoaXMuZWxlbWVudCkub2ZmKHRoaXMuY29uc3RydWN0b3IuRVZFTlRfS0VZKTtcbiAgICAgICQodGhpcy5lbGVtZW50KS5jbG9zZXN0KCcubW9kYWwnKS5vZmYoJ2hpZGUuYnMubW9kYWwnKTtcblxuICAgICAgaWYgKHRoaXMudGlwKSB7XG4gICAgICAgICQodGhpcy50aXApLnJlbW92ZSgpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9pc0VuYWJsZWQgPSBudWxsO1xuICAgICAgdGhpcy5fdGltZW91dCA9IG51bGw7XG4gICAgICB0aGlzLl9ob3ZlclN0YXRlID0gbnVsbDtcbiAgICAgIHRoaXMuX2FjdGl2ZVRyaWdnZXIgPSBudWxsO1xuICAgICAgdGhpcy5fdGV0aGVyID0gbnVsbDtcblxuICAgICAgdGhpcy5lbGVtZW50ID0gbnVsbDtcbiAgICAgIHRoaXMuY29uZmlnID0gbnVsbDtcbiAgICAgIHRoaXMudGlwID0gbnVsbDtcbiAgICB9O1xuXG4gICAgVG9vbHRpcC5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uIHNob3coKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBpZiAoJCh0aGlzLmVsZW1lbnQpLmNzcygnZGlzcGxheScpID09PSAnbm9uZScpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQbGVhc2UgdXNlIHNob3cgb24gdmlzaWJsZSBlbGVtZW50cycpO1xuICAgICAgfVxuXG4gICAgICB2YXIgc2hvd0V2ZW50ID0gJC5FdmVudCh0aGlzLmNvbnN0cnVjdG9yLkV2ZW50LlNIT1cpO1xuICAgICAgaWYgKHRoaXMuaXNXaXRoQ29udGVudCgpICYmIHRoaXMuX2lzRW5hYmxlZCkge1xuICAgICAgICBpZiAodGhpcy5faXNUcmFuc2l0aW9uaW5nKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUb29sdGlwIGlzIHRyYW5zaXRpb25pbmcnKTtcbiAgICAgICAgfVxuICAgICAgICAkKHRoaXMuZWxlbWVudCkudHJpZ2dlcihzaG93RXZlbnQpO1xuXG4gICAgICAgIHZhciBpc0luVGhlRG9tID0gJC5jb250YWlucyh0aGlzLmVsZW1lbnQub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIHRoaXMuZWxlbWVudCk7XG5cbiAgICAgICAgaWYgKHNob3dFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSB8fCAhaXNJblRoZURvbSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0aXAgPSB0aGlzLmdldFRpcEVsZW1lbnQoKTtcbiAgICAgICAgdmFyIHRpcElkID0gVXRpbC5nZXRVSUQodGhpcy5jb25zdHJ1Y3Rvci5OQU1FKTtcblxuICAgICAgICB0aXAuc2V0QXR0cmlidXRlKCdpZCcsIHRpcElkKTtcbiAgICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1kZXNjcmliZWRieScsIHRpcElkKTtcblxuICAgICAgICB0aGlzLnNldENvbnRlbnQoKTtcblxuICAgICAgICBpZiAodGhpcy5jb25maWcuYW5pbWF0aW9uKSB7XG4gICAgICAgICAgJCh0aXApLmFkZENsYXNzKENsYXNzTmFtZS5GQURFKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwbGFjZW1lbnQgPSB0eXBlb2YgdGhpcy5jb25maWcucGxhY2VtZW50ID09PSAnZnVuY3Rpb24nID8gdGhpcy5jb25maWcucGxhY2VtZW50LmNhbGwodGhpcywgdGlwLCB0aGlzLmVsZW1lbnQpIDogdGhpcy5jb25maWcucGxhY2VtZW50O1xuXG4gICAgICAgIHZhciBhdHRhY2htZW50ID0gdGhpcy5fZ2V0QXR0YWNobWVudChwbGFjZW1lbnQpO1xuXG4gICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLmNvbmZpZy5jb250YWluZXIgPT09IGZhbHNlID8gZG9jdW1lbnQuYm9keSA6ICQodGhpcy5jb25maWcuY29udGFpbmVyKTtcblxuICAgICAgICAkKHRpcCkuZGF0YSh0aGlzLmNvbnN0cnVjdG9yLkRBVEFfS0VZLCB0aGlzKS5hcHBlbmRUbyhjb250YWluZXIpO1xuXG4gICAgICAgICQodGhpcy5lbGVtZW50KS50cmlnZ2VyKHRoaXMuY29uc3RydWN0b3IuRXZlbnQuSU5TRVJURUQpO1xuXG4gICAgICAgIHRoaXMuX3RldGhlciA9IG5ldyBUZXRoZXIoe1xuICAgICAgICAgIGF0dGFjaG1lbnQ6IGF0dGFjaG1lbnQsXG4gICAgICAgICAgZWxlbWVudDogdGlwLFxuICAgICAgICAgIHRhcmdldDogdGhpcy5lbGVtZW50LFxuICAgICAgICAgIGNsYXNzZXM6IFRldGhlckNsYXNzLFxuICAgICAgICAgIGNsYXNzUHJlZml4OiBDTEFTU19QUkVGSVgsXG4gICAgICAgICAgb2Zmc2V0OiB0aGlzLmNvbmZpZy5vZmZzZXQsXG4gICAgICAgICAgY29uc3RyYWludHM6IHRoaXMuY29uZmlnLmNvbnN0cmFpbnRzLFxuICAgICAgICAgIGFkZFRhcmdldENsYXNzZXM6IGZhbHNlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIFV0aWwucmVmbG93KHRpcCk7XG4gICAgICAgIHRoaXMuX3RldGhlci5wb3NpdGlvbigpO1xuXG4gICAgICAgICQodGlwKS5hZGRDbGFzcyhDbGFzc05hbWUuU0hPVyk7XG5cbiAgICAgICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gY29tcGxldGUoKSB7XG4gICAgICAgICAgdmFyIHByZXZIb3ZlclN0YXRlID0gX3RoaXMuX2hvdmVyU3RhdGU7XG4gICAgICAgICAgX3RoaXMuX2hvdmVyU3RhdGUgPSBudWxsO1xuICAgICAgICAgIF90aGlzLl9pc1RyYW5zaXRpb25pbmcgPSBmYWxzZTtcblxuICAgICAgICAgICQoX3RoaXMuZWxlbWVudCkudHJpZ2dlcihfdGhpcy5jb25zdHJ1Y3Rvci5FdmVudC5TSE9XTik7XG5cbiAgICAgICAgICBpZiAocHJldkhvdmVyU3RhdGUgPT09IEhvdmVyU3RhdGUuT1VUKSB7XG4gICAgICAgICAgICBfdGhpcy5fbGVhdmUobnVsbCwgX3RoaXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoVXRpbC5zdXBwb3J0c1RyYW5zaXRpb25FbmQoKSAmJiAkKHRoaXMudGlwKS5oYXNDbGFzcyhDbGFzc05hbWUuRkFERSkpIHtcbiAgICAgICAgICB0aGlzLl9pc1RyYW5zaXRpb25pbmcgPSB0cnVlO1xuICAgICAgICAgICQodGhpcy50aXApLm9uZShVdGlsLlRSQU5TSVRJT05fRU5ELCBjb21wbGV0ZSkuZW11bGF0ZVRyYW5zaXRpb25FbmQoVG9vbHRpcC5fVFJBTlNJVElPTl9EVVJBVElPTik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29tcGxldGUoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgVG9vbHRpcC5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uIGhpZGUoY2FsbGJhY2spIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgdGlwID0gdGhpcy5nZXRUaXBFbGVtZW50KCk7XG4gICAgICB2YXIgaGlkZUV2ZW50ID0gJC5FdmVudCh0aGlzLmNvbnN0cnVjdG9yLkV2ZW50LkhJREUpO1xuICAgICAgaWYgKHRoaXMuX2lzVHJhbnNpdGlvbmluZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Rvb2x0aXAgaXMgdHJhbnNpdGlvbmluZycpO1xuICAgICAgfVxuICAgICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gY29tcGxldGUoKSB7XG4gICAgICAgIGlmIChfdGhpczIuX2hvdmVyU3RhdGUgIT09IEhvdmVyU3RhdGUuU0hPVyAmJiB0aXAucGFyZW50Tm9kZSkge1xuICAgICAgICAgIHRpcC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRpcCk7XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpczIuZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtZGVzY3JpYmVkYnknKTtcbiAgICAgICAgJChfdGhpczIuZWxlbWVudCkudHJpZ2dlcihfdGhpczIuY29uc3RydWN0b3IuRXZlbnQuSElEREVOKTtcbiAgICAgICAgX3RoaXMyLl9pc1RyYW5zaXRpb25pbmcgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMyLmNsZWFudXBUZXRoZXIoKTtcblxuICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAkKHRoaXMuZWxlbWVudCkudHJpZ2dlcihoaWRlRXZlbnQpO1xuXG4gICAgICBpZiAoaGlkZUV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgJCh0aXApLnJlbW92ZUNsYXNzKENsYXNzTmFtZS5TSE9XKTtcblxuICAgICAgdGhpcy5fYWN0aXZlVHJpZ2dlcltUcmlnZ2VyLkNMSUNLXSA9IGZhbHNlO1xuICAgICAgdGhpcy5fYWN0aXZlVHJpZ2dlcltUcmlnZ2VyLkZPQ1VTXSA9IGZhbHNlO1xuICAgICAgdGhpcy5fYWN0aXZlVHJpZ2dlcltUcmlnZ2VyLkhPVkVSXSA9IGZhbHNlO1xuXG4gICAgICBpZiAoVXRpbC5zdXBwb3J0c1RyYW5zaXRpb25FbmQoKSAmJiAkKHRoaXMudGlwKS5oYXNDbGFzcyhDbGFzc05hbWUuRkFERSkpIHtcbiAgICAgICAgdGhpcy5faXNUcmFuc2l0aW9uaW5nID0gdHJ1ZTtcbiAgICAgICAgJCh0aXApLm9uZShVdGlsLlRSQU5TSVRJT05fRU5ELCBjb21wbGV0ZSkuZW11bGF0ZVRyYW5zaXRpb25FbmQoVFJBTlNJVElPTl9EVVJBVElPTik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb21wbGV0ZSgpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9ob3ZlclN0YXRlID0gJyc7XG4gICAgfTtcblxuICAgIC8vIHByb3RlY3RlZFxuXG4gICAgVG9vbHRpcC5wcm90b3R5cGUuaXNXaXRoQ29udGVudCA9IGZ1bmN0aW9uIGlzV2l0aENvbnRlbnQoKSB7XG4gICAgICByZXR1cm4gQm9vbGVhbih0aGlzLmdldFRpdGxlKCkpO1xuICAgIH07XG5cbiAgICBUb29sdGlwLnByb3RvdHlwZS5nZXRUaXBFbGVtZW50ID0gZnVuY3Rpb24gZ2V0VGlwRWxlbWVudCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnRpcCA9IHRoaXMudGlwIHx8ICQodGhpcy5jb25maWcudGVtcGxhdGUpWzBdO1xuICAgIH07XG5cbiAgICBUb29sdGlwLnByb3RvdHlwZS5zZXRDb250ZW50ID0gZnVuY3Rpb24gc2V0Q29udGVudCgpIHtcbiAgICAgIHZhciAkdGlwID0gJCh0aGlzLmdldFRpcEVsZW1lbnQoKSk7XG5cbiAgICAgIHRoaXMuc2V0RWxlbWVudENvbnRlbnQoJHRpcC5maW5kKFNlbGVjdG9yLlRPT0xUSVBfSU5ORVIpLCB0aGlzLmdldFRpdGxlKCkpO1xuXG4gICAgICAkdGlwLnJlbW92ZUNsYXNzKENsYXNzTmFtZS5GQURFICsgJyAnICsgQ2xhc3NOYW1lLlNIT1cpO1xuXG4gICAgICB0aGlzLmNsZWFudXBUZXRoZXIoKTtcbiAgICB9O1xuXG4gICAgVG9vbHRpcC5wcm90b3R5cGUuc2V0RWxlbWVudENvbnRlbnQgPSBmdW5jdGlvbiBzZXRFbGVtZW50Q29udGVudCgkZWxlbWVudCwgY29udGVudCkge1xuICAgICAgdmFyIGh0bWwgPSB0aGlzLmNvbmZpZy5odG1sO1xuICAgICAgaWYgKCh0eXBlb2YgY29udGVudCA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoY29udGVudCkpID09PSAnb2JqZWN0JyAmJiAoY29udGVudC5ub2RlVHlwZSB8fCBjb250ZW50LmpxdWVyeSkpIHtcbiAgICAgICAgLy8gY29udGVudCBpcyBhIERPTSBub2RlIG9yIGEgalF1ZXJ5XG4gICAgICAgIGlmIChodG1sKSB7XG4gICAgICAgICAgaWYgKCEkKGNvbnRlbnQpLnBhcmVudCgpLmlzKCRlbGVtZW50KSkge1xuICAgICAgICAgICAgJGVsZW1lbnQuZW1wdHkoKS5hcHBlbmQoY29udGVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICRlbGVtZW50LnRleHQoJChjb250ZW50KS50ZXh0KCkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkZWxlbWVudFtodG1sID8gJ2h0bWwnIDogJ3RleHQnXShjb250ZW50KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0VGl0bGUgPSBmdW5jdGlvbiBnZXRUaXRsZSgpIHtcbiAgICAgIHZhciB0aXRsZSA9IHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnKTtcblxuICAgICAgaWYgKCF0aXRsZSkge1xuICAgICAgICB0aXRsZSA9IHR5cGVvZiB0aGlzLmNvbmZpZy50aXRsZSA9PT0gJ2Z1bmN0aW9uJyA/IHRoaXMuY29uZmlnLnRpdGxlLmNhbGwodGhpcy5lbGVtZW50KSA6IHRoaXMuY29uZmlnLnRpdGxlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGl0bGU7XG4gICAgfTtcblxuICAgIFRvb2x0aXAucHJvdG90eXBlLmNsZWFudXBUZXRoZXIgPSBmdW5jdGlvbiBjbGVhbnVwVGV0aGVyKCkge1xuICAgICAgaWYgKHRoaXMuX3RldGhlcikge1xuICAgICAgICB0aGlzLl90ZXRoZXIuZGVzdHJveSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBwcml2YXRlXG5cbiAgICBUb29sdGlwLnByb3RvdHlwZS5fZ2V0QXR0YWNobWVudCA9IGZ1bmN0aW9uIF9nZXRBdHRhY2htZW50KHBsYWNlbWVudCkge1xuICAgICAgcmV0dXJuIEF0dGFjaG1lbnRNYXBbcGxhY2VtZW50LnRvVXBwZXJDYXNlKCldO1xuICAgIH07XG5cbiAgICBUb29sdGlwLnByb3RvdHlwZS5fc2V0TGlzdGVuZXJzID0gZnVuY3Rpb24gX3NldExpc3RlbmVycygpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB2YXIgdHJpZ2dlcnMgPSB0aGlzLmNvbmZpZy50cmlnZ2VyLnNwbGl0KCcgJyk7XG5cbiAgICAgIHRyaWdnZXJzLmZvckVhY2goZnVuY3Rpb24gKHRyaWdnZXIpIHtcbiAgICAgICAgaWYgKHRyaWdnZXIgPT09ICdjbGljaycpIHtcbiAgICAgICAgICAkKF90aGlzMy5lbGVtZW50KS5vbihfdGhpczMuY29uc3RydWN0b3IuRXZlbnQuQ0xJQ0ssIF90aGlzMy5jb25maWcuc2VsZWN0b3IsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzMy50b2dnbGUoZXZlbnQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKHRyaWdnZXIgIT09IFRyaWdnZXIuTUFOVUFMKSB7XG4gICAgICAgICAgdmFyIGV2ZW50SW4gPSB0cmlnZ2VyID09PSBUcmlnZ2VyLkhPVkVSID8gX3RoaXMzLmNvbnN0cnVjdG9yLkV2ZW50Lk1PVVNFRU5URVIgOiBfdGhpczMuY29uc3RydWN0b3IuRXZlbnQuRk9DVVNJTjtcbiAgICAgICAgICB2YXIgZXZlbnRPdXQgPSB0cmlnZ2VyID09PSBUcmlnZ2VyLkhPVkVSID8gX3RoaXMzLmNvbnN0cnVjdG9yLkV2ZW50Lk1PVVNFTEVBVkUgOiBfdGhpczMuY29uc3RydWN0b3IuRXZlbnQuRk9DVVNPVVQ7XG5cbiAgICAgICAgICAkKF90aGlzMy5lbGVtZW50KS5vbihldmVudEluLCBfdGhpczMuY29uZmlnLnNlbGVjdG9yLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczMuX2VudGVyKGV2ZW50KTtcbiAgICAgICAgICB9KS5vbihldmVudE91dCwgX3RoaXMzLmNvbmZpZy5zZWxlY3RvciwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMzLl9sZWF2ZShldmVudCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAkKF90aGlzMy5lbGVtZW50KS5jbG9zZXN0KCcubW9kYWwnKS5vbignaGlkZS5icy5tb2RhbCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMzLmhpZGUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKHRoaXMuY29uZmlnLnNlbGVjdG9yKSB7XG4gICAgICAgIHRoaXMuY29uZmlnID0gJC5leHRlbmQoe30sIHRoaXMuY29uZmlnLCB7XG4gICAgICAgICAgdHJpZ2dlcjogJ21hbnVhbCcsXG4gICAgICAgICAgc2VsZWN0b3I6ICcnXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fZml4VGl0bGUoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgVG9vbHRpcC5wcm90b3R5cGUuX2ZpeFRpdGxlID0gZnVuY3Rpb24gX2ZpeFRpdGxlKCkge1xuICAgICAgdmFyIHRpdGxlVHlwZSA9IF90eXBlb2YodGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1vcmlnaW5hbC10aXRsZScpKTtcbiAgICAgIGlmICh0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKCd0aXRsZScpIHx8IHRpdGxlVHlwZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1vcmlnaW5hbC10aXRsZScsIHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3RpdGxlJykgfHwgJycpO1xuICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCd0aXRsZScsICcnKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgVG9vbHRpcC5wcm90b3R5cGUuX2VudGVyID0gZnVuY3Rpb24gX2VudGVyKGV2ZW50LCBjb250ZXh0KSB7XG4gICAgICB2YXIgZGF0YUtleSA9IHRoaXMuY29uc3RydWN0b3IuREFUQV9LRVk7XG5cbiAgICAgIGNvbnRleHQgPSBjb250ZXh0IHx8ICQoZXZlbnQuY3VycmVudFRhcmdldCkuZGF0YShkYXRhS2V5KTtcblxuICAgICAgaWYgKCFjb250ZXh0KSB7XG4gICAgICAgIGNvbnRleHQgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcihldmVudC5jdXJyZW50VGFyZ2V0LCB0aGlzLl9nZXREZWxlZ2F0ZUNvbmZpZygpKTtcbiAgICAgICAgJChldmVudC5jdXJyZW50VGFyZ2V0KS5kYXRhKGRhdGFLZXksIGNvbnRleHQpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXZlbnQpIHtcbiAgICAgICAgY29udGV4dC5fYWN0aXZlVHJpZ2dlcltldmVudC50eXBlID09PSAnZm9jdXNpbicgPyBUcmlnZ2VyLkZPQ1VTIDogVHJpZ2dlci5IT1ZFUl0gPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoJChjb250ZXh0LmdldFRpcEVsZW1lbnQoKSkuaGFzQ2xhc3MoQ2xhc3NOYW1lLlNIT1cpIHx8IGNvbnRleHQuX2hvdmVyU3RhdGUgPT09IEhvdmVyU3RhdGUuU0hPVykge1xuICAgICAgICBjb250ZXh0Ll9ob3ZlclN0YXRlID0gSG92ZXJTdGF0ZS5TSE9XO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNsZWFyVGltZW91dChjb250ZXh0Ll90aW1lb3V0KTtcblxuICAgICAgY29udGV4dC5faG92ZXJTdGF0ZSA9IEhvdmVyU3RhdGUuU0hPVztcblxuICAgICAgaWYgKCFjb250ZXh0LmNvbmZpZy5kZWxheSB8fCAhY29udGV4dC5jb25maWcuZGVsYXkuc2hvdykge1xuICAgICAgICBjb250ZXh0LnNob3coKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb250ZXh0Ll90aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChjb250ZXh0Ll9ob3ZlclN0YXRlID09PSBIb3ZlclN0YXRlLlNIT1cpIHtcbiAgICAgICAgICBjb250ZXh0LnNob3coKTtcbiAgICAgICAgfVxuICAgICAgfSwgY29udGV4dC5jb25maWcuZGVsYXkuc2hvdyk7XG4gICAgfTtcblxuICAgIFRvb2x0aXAucHJvdG90eXBlLl9sZWF2ZSA9IGZ1bmN0aW9uIF9sZWF2ZShldmVudCwgY29udGV4dCkge1xuICAgICAgdmFyIGRhdGFLZXkgPSB0aGlzLmNvbnN0cnVjdG9yLkRBVEFfS0VZO1xuXG4gICAgICBjb250ZXh0ID0gY29udGV4dCB8fCAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLmRhdGEoZGF0YUtleSk7XG5cbiAgICAgIGlmICghY29udGV4dCkge1xuICAgICAgICBjb250ZXh0ID0gbmV3IHRoaXMuY29uc3RydWN0b3IoZXZlbnQuY3VycmVudFRhcmdldCwgdGhpcy5fZ2V0RGVsZWdhdGVDb25maWcoKSk7XG4gICAgICAgICQoZXZlbnQuY3VycmVudFRhcmdldCkuZGF0YShkYXRhS2V5LCBjb250ZXh0KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGV2ZW50KSB7XG4gICAgICAgIGNvbnRleHQuX2FjdGl2ZVRyaWdnZXJbZXZlbnQudHlwZSA9PT0gJ2ZvY3Vzb3V0JyA/IFRyaWdnZXIuRk9DVVMgOiBUcmlnZ2VyLkhPVkVSXSA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAoY29udGV4dC5faXNXaXRoQWN0aXZlVHJpZ2dlcigpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY2xlYXJUaW1lb3V0KGNvbnRleHQuX3RpbWVvdXQpO1xuXG4gICAgICBjb250ZXh0Ll9ob3ZlclN0YXRlID0gSG92ZXJTdGF0ZS5PVVQ7XG5cbiAgICAgIGlmICghY29udGV4dC5jb25maWcuZGVsYXkgfHwgIWNvbnRleHQuY29uZmlnLmRlbGF5LmhpZGUpIHtcbiAgICAgICAgY29udGV4dC5oaWRlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29udGV4dC5fdGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoY29udGV4dC5faG92ZXJTdGF0ZSA9PT0gSG92ZXJTdGF0ZS5PVVQpIHtcbiAgICAgICAgICBjb250ZXh0LmhpZGUoKTtcbiAgICAgICAgfVxuICAgICAgfSwgY29udGV4dC5jb25maWcuZGVsYXkuaGlkZSk7XG4gICAgfTtcblxuICAgIFRvb2x0aXAucHJvdG90eXBlLl9pc1dpdGhBY3RpdmVUcmlnZ2VyID0gZnVuY3Rpb24gX2lzV2l0aEFjdGl2ZVRyaWdnZXIoKSB7XG4gICAgICBmb3IgKHZhciB0cmlnZ2VyIGluIHRoaXMuX2FjdGl2ZVRyaWdnZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZVRyaWdnZXJbdHJpZ2dlcl0pIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIFRvb2x0aXAucHJvdG90eXBlLl9nZXRDb25maWcgPSBmdW5jdGlvbiBfZ2V0Q29uZmlnKGNvbmZpZykge1xuICAgICAgY29uZmlnID0gJC5leHRlbmQoe30sIHRoaXMuY29uc3RydWN0b3IuRGVmYXVsdCwgJCh0aGlzLmVsZW1lbnQpLmRhdGEoKSwgY29uZmlnKTtcblxuICAgICAgaWYgKGNvbmZpZy5kZWxheSAmJiB0eXBlb2YgY29uZmlnLmRlbGF5ID09PSAnbnVtYmVyJykge1xuICAgICAgICBjb25maWcuZGVsYXkgPSB7XG4gICAgICAgICAgc2hvdzogY29uZmlnLmRlbGF5LFxuICAgICAgICAgIGhpZGU6IGNvbmZpZy5kZWxheVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBVdGlsLnR5cGVDaGVja0NvbmZpZyhOQU1FLCBjb25maWcsIHRoaXMuY29uc3RydWN0b3IuRGVmYXVsdFR5cGUpO1xuXG4gICAgICByZXR1cm4gY29uZmlnO1xuICAgIH07XG5cbiAgICBUb29sdGlwLnByb3RvdHlwZS5fZ2V0RGVsZWdhdGVDb25maWcgPSBmdW5jdGlvbiBfZ2V0RGVsZWdhdGVDb25maWcoKSB7XG4gICAgICB2YXIgY29uZmlnID0ge307XG5cbiAgICAgIGlmICh0aGlzLmNvbmZpZykge1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5jb25maWcpIHtcbiAgICAgICAgICBpZiAodGhpcy5jb25zdHJ1Y3Rvci5EZWZhdWx0W2tleV0gIT09IHRoaXMuY29uZmlnW2tleV0pIHtcbiAgICAgICAgICAgIGNvbmZpZ1trZXldID0gdGhpcy5jb25maWdba2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICB9O1xuXG4gICAgLy8gc3RhdGljXG5cbiAgICBUb29sdGlwLl9qUXVlcnlJbnRlcmZhY2UgPSBmdW5jdGlvbiBfalF1ZXJ5SW50ZXJmYWNlKGNvbmZpZykge1xuICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkYXRhID0gJCh0aGlzKS5kYXRhKERBVEFfS0VZKTtcbiAgICAgICAgdmFyIF9jb25maWcgPSAodHlwZW9mIGNvbmZpZyA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoY29uZmlnKSkgPT09ICdvYmplY3QnICYmIGNvbmZpZztcblxuICAgICAgICBpZiAoIWRhdGEgJiYgL2Rpc3Bvc2V8aGlkZS8udGVzdChjb25maWcpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgZGF0YSA9IG5ldyBUb29sdGlwKHRoaXMsIF9jb25maWcpO1xuICAgICAgICAgICQodGhpcykuZGF0YShEQVRBX0tFWSwgZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIGNvbmZpZyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBpZiAoZGF0YVtjb25maWddID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gbWV0aG9kIG5hbWVkIFwiJyArIGNvbmZpZyArICdcIicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkYXRhW2NvbmZpZ10oKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF9jcmVhdGVDbGFzcyhUb29sdGlwLCBudWxsLCBbe1xuICAgICAga2V5OiAnVkVSU0lPTicsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIFZFUlNJT047XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiAnRGVmYXVsdCcsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIERlZmF1bHQ7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiAnTkFNRScsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIE5BTUU7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiAnREFUQV9LRVknLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBEQVRBX0tFWTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6ICdFdmVudCcsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIEV2ZW50O1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogJ0VWRU5UX0tFWScsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIEVWRU5UX0tFWTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6ICdEZWZhdWx0VHlwZScsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIERlZmF1bHRUeXBlO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBUb29sdGlwO1xuICB9KCk7XG5cbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBqUXVlcnlcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG4gICQuZm5bTkFNRV0gPSBUb29sdGlwLl9qUXVlcnlJbnRlcmZhY2U7XG4gICQuZm5bTkFNRV0uQ29uc3RydWN0b3IgPSBUb29sdGlwO1xuICAkLmZuW05BTUVdLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbltOQU1FXSA9IEpRVUVSWV9OT19DT05GTElDVDtcbiAgICByZXR1cm4gVG9vbHRpcC5falF1ZXJ5SW50ZXJmYWNlO1xuICB9O1xuXG4gIHJldHVybiBUb29sdGlwO1xufShqUXVlcnkpOyAvKiBnbG9iYWwgVGV0aGVyICovXG4vLyMgc291cmNlTWFwcGluZ1VSTD10b29sdGlwLmpzLm1hcFxuIiwidmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBCb290c3RyYXAgKHY0LjAuMC1hbHBoYS42KTogY29sbGFwc2UuanNcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5cbnZhciBDb2xsYXBzZSA9IGZ1bmN0aW9uICgkKSB7XG5cbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBDb25zdGFudHNcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG4gIHZhciBOQU1FID0gJ2NvbGxhcHNlJztcbiAgdmFyIFZFUlNJT04gPSAnNC4wLjAtYWxwaGEuNic7XG4gIHZhciBEQVRBX0tFWSA9ICdicy5jb2xsYXBzZSc7XG4gIHZhciBFVkVOVF9LRVkgPSAnLicgKyBEQVRBX0tFWTtcbiAgdmFyIERBVEFfQVBJX0tFWSA9ICcuZGF0YS1hcGknO1xuICB2YXIgSlFVRVJZX05PX0NPTkZMSUNUID0gJC5mbltOQU1FXTtcbiAgdmFyIFRSQU5TSVRJT05fRFVSQVRJT04gPSA2MDA7XG5cbiAgdmFyIERlZmF1bHQgPSB7XG4gICAgdG9nZ2xlOiB0cnVlLFxuICAgIHBhcmVudDogJydcbiAgfTtcblxuICB2YXIgRGVmYXVsdFR5cGUgPSB7XG4gICAgdG9nZ2xlOiAnYm9vbGVhbicsXG4gICAgcGFyZW50OiAnc3RyaW5nJ1xuICB9O1xuXG4gIHZhciBFdmVudCA9IHtcbiAgICBTSE9XOiAnc2hvdycgKyBFVkVOVF9LRVksXG4gICAgU0hPV046ICdzaG93bicgKyBFVkVOVF9LRVksXG4gICAgSElERTogJ2hpZGUnICsgRVZFTlRfS0VZLFxuICAgIEhJRERFTjogJ2hpZGRlbicgKyBFVkVOVF9LRVksXG4gICAgQ0xJQ0tfREFUQV9BUEk6ICdjbGljaycgKyBFVkVOVF9LRVkgKyBEQVRBX0FQSV9LRVlcbiAgfTtcblxuICB2YXIgQ2xhc3NOYW1lID0ge1xuICAgIFNIT1c6ICdzaG93JyxcbiAgICBDT0xMQVBTRTogJ2NvbGxhcHNlJyxcbiAgICBDT0xMQVBTSU5HOiAnY29sbGFwc2luZycsXG4gICAgQ09MTEFQU0VEOiAnY29sbGFwc2VkJ1xuICB9O1xuXG4gIHZhciBEaW1lbnNpb24gPSB7XG4gICAgV0lEVEg6ICd3aWR0aCcsXG4gICAgSEVJR0hUOiAnaGVpZ2h0J1xuICB9O1xuXG4gIHZhciBTZWxlY3RvciA9IHtcbiAgICBBQ1RJVkVTOiAnLmNhcmQgPiAuc2hvdywgLmNhcmQgPiAuY29sbGFwc2luZycsXG4gICAgREFUQV9UT0dHTEU6ICdbZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiXSdcbiAgfTtcblxuICAvKipcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqIENsYXNzIERlZmluaXRpb25cbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG4gIHZhciBDb2xsYXBzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb2xsYXBzZShlbGVtZW50LCBjb25maWcpIHtcbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb2xsYXBzZSk7XG5cbiAgICAgIHRoaXMuX2lzVHJhbnNpdGlvbmluZyA9IGZhbHNlO1xuICAgICAgdGhpcy5fZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICB0aGlzLl9jb25maWcgPSB0aGlzLl9nZXRDb25maWcoY29uZmlnKTtcbiAgICAgIHRoaXMuX3RyaWdnZXJBcnJheSA9ICQubWFrZUFycmF5KCQoJ1tkYXRhLXRvZ2dsZT1cImNvbGxhcHNlXCJdW2hyZWY9XCIjJyArIGVsZW1lbnQuaWQgKyAnXCJdLCcgKyAoJ1tkYXRhLXRvZ2dsZT1cImNvbGxhcHNlXCJdW2RhdGEtdGFyZ2V0PVwiIycgKyBlbGVtZW50LmlkICsgJ1wiXScpKSk7XG5cbiAgICAgIHRoaXMuX3BhcmVudCA9IHRoaXMuX2NvbmZpZy5wYXJlbnQgPyB0aGlzLl9nZXRQYXJlbnQoKSA6IG51bGw7XG5cbiAgICAgIGlmICghdGhpcy5fY29uZmlnLnBhcmVudCkge1xuICAgICAgICB0aGlzLl9hZGRBcmlhQW5kQ29sbGFwc2VkQ2xhc3ModGhpcy5fZWxlbWVudCwgdGhpcy5fdHJpZ2dlckFycmF5KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX2NvbmZpZy50b2dnbGUpIHtcbiAgICAgICAgdGhpcy50b2dnbGUoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBnZXR0ZXJzXG5cbiAgICAvLyBwdWJsaWNcblxuICAgIENvbGxhcHNlLnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbiB0b2dnbGUoKSB7XG4gICAgICBpZiAoJCh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhDbGFzc05hbWUuU0hPVykpIHtcbiAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNob3coKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQ29sbGFwc2UucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiBzaG93KCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgaWYgKHRoaXMuX2lzVHJhbnNpdGlvbmluZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbGxhcHNlIGlzIHRyYW5zaXRpb25pbmcnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCQodGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MoQ2xhc3NOYW1lLlNIT1cpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGFjdGl2ZXMgPSB2b2lkIDA7XG4gICAgICB2YXIgYWN0aXZlc0RhdGEgPSB2b2lkIDA7XG5cbiAgICAgIGlmICh0aGlzLl9wYXJlbnQpIHtcbiAgICAgICAgYWN0aXZlcyA9ICQubWFrZUFycmF5KCQodGhpcy5fcGFyZW50KS5maW5kKFNlbGVjdG9yLkFDVElWRVMpKTtcbiAgICAgICAgaWYgKCFhY3RpdmVzLmxlbmd0aCkge1xuICAgICAgICAgIGFjdGl2ZXMgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChhY3RpdmVzKSB7XG4gICAgICAgIGFjdGl2ZXNEYXRhID0gJChhY3RpdmVzKS5kYXRhKERBVEFfS0VZKTtcbiAgICAgICAgaWYgKGFjdGl2ZXNEYXRhICYmIGFjdGl2ZXNEYXRhLl9pc1RyYW5zaXRpb25pbmcpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIHN0YXJ0RXZlbnQgPSAkLkV2ZW50KEV2ZW50LlNIT1cpO1xuICAgICAgJCh0aGlzLl9lbGVtZW50KS50cmlnZ2VyKHN0YXJ0RXZlbnQpO1xuICAgICAgaWYgKHN0YXJ0RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoYWN0aXZlcykge1xuICAgICAgICBDb2xsYXBzZS5falF1ZXJ5SW50ZXJmYWNlLmNhbGwoJChhY3RpdmVzKSwgJ2hpZGUnKTtcbiAgICAgICAgaWYgKCFhY3RpdmVzRGF0YSkge1xuICAgICAgICAgICQoYWN0aXZlcykuZGF0YShEQVRBX0tFWSwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuX2dldERpbWVuc2lvbigpO1xuXG4gICAgICAkKHRoaXMuX2VsZW1lbnQpLnJlbW92ZUNsYXNzKENsYXNzTmFtZS5DT0xMQVBTRSkuYWRkQ2xhc3MoQ2xhc3NOYW1lLkNPTExBUFNJTkcpO1xuXG4gICAgICB0aGlzLl9lbGVtZW50LnN0eWxlW2RpbWVuc2lvbl0gPSAwO1xuICAgICAgdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCB0cnVlKTtcblxuICAgICAgaWYgKHRoaXMuX3RyaWdnZXJBcnJheS5sZW5ndGgpIHtcbiAgICAgICAgJCh0aGlzLl90cmlnZ2VyQXJyYXkpLnJlbW92ZUNsYXNzKENsYXNzTmFtZS5DT0xMQVBTRUQpLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCB0cnVlKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zZXRUcmFuc2l0aW9uaW5nKHRydWUpO1xuXG4gICAgICB2YXIgY29tcGxldGUgPSBmdW5jdGlvbiBjb21wbGV0ZSgpIHtcbiAgICAgICAgJChfdGhpcy5fZWxlbWVudCkucmVtb3ZlQ2xhc3MoQ2xhc3NOYW1lLkNPTExBUFNJTkcpLmFkZENsYXNzKENsYXNzTmFtZS5DT0xMQVBTRSkuYWRkQ2xhc3MoQ2xhc3NOYW1lLlNIT1cpO1xuXG4gICAgICAgIF90aGlzLl9lbGVtZW50LnN0eWxlW2RpbWVuc2lvbl0gPSAnJztcblxuICAgICAgICBfdGhpcy5zZXRUcmFuc2l0aW9uaW5nKGZhbHNlKTtcblxuICAgICAgICAkKF90aGlzLl9lbGVtZW50KS50cmlnZ2VyKEV2ZW50LlNIT1dOKTtcbiAgICAgIH07XG5cbiAgICAgIGlmICghVXRpbC5zdXBwb3J0c1RyYW5zaXRpb25FbmQoKSkge1xuICAgICAgICBjb21wbGV0ZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBjYXBpdGFsaXplZERpbWVuc2lvbiA9IGRpbWVuc2lvblswXS50b1VwcGVyQ2FzZSgpICsgZGltZW5zaW9uLnNsaWNlKDEpO1xuICAgICAgdmFyIHNjcm9sbFNpemUgPSAnc2Nyb2xsJyArIGNhcGl0YWxpemVkRGltZW5zaW9uO1xuXG4gICAgICAkKHRoaXMuX2VsZW1lbnQpLm9uZShVdGlsLlRSQU5TSVRJT05fRU5ELCBjb21wbGV0ZSkuZW11bGF0ZVRyYW5zaXRpb25FbmQoVFJBTlNJVElPTl9EVVJBVElPTik7XG5cbiAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGVbZGltZW5zaW9uXSA9IHRoaXMuX2VsZW1lbnRbc2Nyb2xsU2l6ZV0gKyAncHgnO1xuICAgIH07XG5cbiAgICBDb2xsYXBzZS5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uIGhpZGUoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgaWYgKHRoaXMuX2lzVHJhbnNpdGlvbmluZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbGxhcHNlIGlzIHRyYW5zaXRpb25pbmcnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCEkKHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKENsYXNzTmFtZS5TSE9XKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBzdGFydEV2ZW50ID0gJC5FdmVudChFdmVudC5ISURFKTtcbiAgICAgICQodGhpcy5fZWxlbWVudCkudHJpZ2dlcihzdGFydEV2ZW50KTtcbiAgICAgIGlmIChzdGFydEV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuX2dldERpbWVuc2lvbigpO1xuICAgICAgdmFyIG9mZnNldERpbWVuc2lvbiA9IGRpbWVuc2lvbiA9PT0gRGltZW5zaW9uLldJRFRIID8gJ29mZnNldFdpZHRoJyA6ICdvZmZzZXRIZWlnaHQnO1xuXG4gICAgICB0aGlzLl9lbGVtZW50LnN0eWxlW2RpbWVuc2lvbl0gPSB0aGlzLl9lbGVtZW50W29mZnNldERpbWVuc2lvbl0gKyAncHgnO1xuXG4gICAgICBVdGlsLnJlZmxvdyh0aGlzLl9lbGVtZW50KTtcblxuICAgICAgJCh0aGlzLl9lbGVtZW50KS5hZGRDbGFzcyhDbGFzc05hbWUuQ09MTEFQU0lORykucmVtb3ZlQ2xhc3MoQ2xhc3NOYW1lLkNPTExBUFNFKS5yZW1vdmVDbGFzcyhDbGFzc05hbWUuU0hPVyk7XG5cbiAgICAgIHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgZmFsc2UpO1xuXG4gICAgICBpZiAodGhpcy5fdHJpZ2dlckFycmF5Lmxlbmd0aCkge1xuICAgICAgICAkKHRoaXMuX3RyaWdnZXJBcnJheSkuYWRkQ2xhc3MoQ2xhc3NOYW1lLkNPTExBUFNFRCkuYXR0cignYXJpYS1leHBhbmRlZCcsIGZhbHNlKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zZXRUcmFuc2l0aW9uaW5nKHRydWUpO1xuXG4gICAgICB2YXIgY29tcGxldGUgPSBmdW5jdGlvbiBjb21wbGV0ZSgpIHtcbiAgICAgICAgX3RoaXMyLnNldFRyYW5zaXRpb25pbmcoZmFsc2UpO1xuICAgICAgICAkKF90aGlzMi5fZWxlbWVudCkucmVtb3ZlQ2xhc3MoQ2xhc3NOYW1lLkNPTExBUFNJTkcpLmFkZENsYXNzKENsYXNzTmFtZS5DT0xMQVBTRSkudHJpZ2dlcihFdmVudC5ISURERU4pO1xuICAgICAgfTtcblxuICAgICAgdGhpcy5fZWxlbWVudC5zdHlsZVtkaW1lbnNpb25dID0gJyc7XG5cbiAgICAgIGlmICghVXRpbC5zdXBwb3J0c1RyYW5zaXRpb25FbmQoKSkge1xuICAgICAgICBjb21wbGV0ZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgICQodGhpcy5fZWxlbWVudCkub25lKFV0aWwuVFJBTlNJVElPTl9FTkQsIGNvbXBsZXRlKS5lbXVsYXRlVHJhbnNpdGlvbkVuZChUUkFOU0lUSU9OX0RVUkFUSU9OKTtcbiAgICB9O1xuXG4gICAgQ29sbGFwc2UucHJvdG90eXBlLnNldFRyYW5zaXRpb25pbmcgPSBmdW5jdGlvbiBzZXRUcmFuc2l0aW9uaW5nKGlzVHJhbnNpdGlvbmluZykge1xuICAgICAgdGhpcy5faXNUcmFuc2l0aW9uaW5nID0gaXNUcmFuc2l0aW9uaW5nO1xuICAgIH07XG5cbiAgICBDb2xsYXBzZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG4gICAgICAkLnJlbW92ZURhdGEodGhpcy5fZWxlbWVudCwgREFUQV9LRVkpO1xuXG4gICAgICB0aGlzLl9jb25maWcgPSBudWxsO1xuICAgICAgdGhpcy5fcGFyZW50ID0gbnVsbDtcbiAgICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xuICAgICAgdGhpcy5fdHJpZ2dlckFycmF5ID0gbnVsbDtcbiAgICAgIHRoaXMuX2lzVHJhbnNpdGlvbmluZyA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIHByaXZhdGVcblxuICAgIENvbGxhcHNlLnByb3RvdHlwZS5fZ2V0Q29uZmlnID0gZnVuY3Rpb24gX2dldENvbmZpZyhjb25maWcpIHtcbiAgICAgIGNvbmZpZyA9ICQuZXh0ZW5kKHt9LCBEZWZhdWx0LCBjb25maWcpO1xuICAgICAgY29uZmlnLnRvZ2dsZSA9IEJvb2xlYW4oY29uZmlnLnRvZ2dsZSk7IC8vIGNvZXJjZSBzdHJpbmcgdmFsdWVzXG4gICAgICBVdGlsLnR5cGVDaGVja0NvbmZpZyhOQU1FLCBjb25maWcsIERlZmF1bHRUeXBlKTtcbiAgICAgIHJldHVybiBjb25maWc7XG4gICAgfTtcblxuICAgIENvbGxhcHNlLnByb3RvdHlwZS5fZ2V0RGltZW5zaW9uID0gZnVuY3Rpb24gX2dldERpbWVuc2lvbigpIHtcbiAgICAgIHZhciBoYXNXaWR0aCA9ICQodGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MoRGltZW5zaW9uLldJRFRIKTtcbiAgICAgIHJldHVybiBoYXNXaWR0aCA/IERpbWVuc2lvbi5XSURUSCA6IERpbWVuc2lvbi5IRUlHSFQ7XG4gICAgfTtcblxuICAgIENvbGxhcHNlLnByb3RvdHlwZS5fZ2V0UGFyZW50ID0gZnVuY3Rpb24gX2dldFBhcmVudCgpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB2YXIgcGFyZW50ID0gJCh0aGlzLl9jb25maWcucGFyZW50KVswXTtcbiAgICAgIHZhciBzZWxlY3RvciA9ICdbZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiXVtkYXRhLXBhcmVudD1cIicgKyB0aGlzLl9jb25maWcucGFyZW50ICsgJ1wiXSc7XG5cbiAgICAgICQocGFyZW50KS5maW5kKHNlbGVjdG9yKS5lYWNoKGZ1bmN0aW9uIChpLCBlbGVtZW50KSB7XG4gICAgICAgIF90aGlzMy5fYWRkQXJpYUFuZENvbGxhcHNlZENsYXNzKENvbGxhcHNlLl9nZXRUYXJnZXRGcm9tRWxlbWVudChlbGVtZW50KSwgW2VsZW1lbnRdKTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gcGFyZW50O1xuICAgIH07XG5cbiAgICBDb2xsYXBzZS5wcm90b3R5cGUuX2FkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyA9IGZ1bmN0aW9uIF9hZGRBcmlhQW5kQ29sbGFwc2VkQ2xhc3MoZWxlbWVudCwgdHJpZ2dlckFycmF5KSB7XG4gICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICB2YXIgaXNPcGVuID0gJChlbGVtZW50KS5oYXNDbGFzcyhDbGFzc05hbWUuU0hPVyk7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgaXNPcGVuKTtcblxuICAgICAgICBpZiAodHJpZ2dlckFycmF5Lmxlbmd0aCkge1xuICAgICAgICAgICQodHJpZ2dlckFycmF5KS50b2dnbGVDbGFzcyhDbGFzc05hbWUuQ09MTEFQU0VELCAhaXNPcGVuKS5hdHRyKCdhcmlhLWV4cGFuZGVkJywgaXNPcGVuKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBzdGF0aWNcblxuICAgIENvbGxhcHNlLl9nZXRUYXJnZXRGcm9tRWxlbWVudCA9IGZ1bmN0aW9uIF9nZXRUYXJnZXRGcm9tRWxlbWVudChlbGVtZW50KSB7XG4gICAgICB2YXIgc2VsZWN0b3IgPSBVdGlsLmdldFNlbGVjdG9yRnJvbUVsZW1lbnQoZWxlbWVudCk7XG4gICAgICByZXR1cm4gc2VsZWN0b3IgPyAkKHNlbGVjdG9yKVswXSA6IG51bGw7XG4gICAgfTtcblxuICAgIENvbGxhcHNlLl9qUXVlcnlJbnRlcmZhY2UgPSBmdW5jdGlvbiBfalF1ZXJ5SW50ZXJmYWNlKGNvbmZpZykge1xuICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XG4gICAgICAgIHZhciBkYXRhID0gJHRoaXMuZGF0YShEQVRBX0tFWSk7XG4gICAgICAgIHZhciBfY29uZmlnID0gJC5leHRlbmQoe30sIERlZmF1bHQsICR0aGlzLmRhdGEoKSwgKHR5cGVvZiBjb25maWcgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGNvbmZpZykpID09PSAnb2JqZWN0JyAmJiBjb25maWcpO1xuXG4gICAgICAgIGlmICghZGF0YSAmJiBfY29uZmlnLnRvZ2dsZSAmJiAvc2hvd3xoaWRlLy50ZXN0KGNvbmZpZykpIHtcbiAgICAgICAgICBfY29uZmlnLnRvZ2dsZSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgZGF0YSA9IG5ldyBDb2xsYXBzZSh0aGlzLCBfY29uZmlnKTtcbiAgICAgICAgICAkdGhpcy5kYXRhKERBVEFfS0VZLCBkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGlmIChkYXRhW2NvbmZpZ10gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBtZXRob2QgbmFtZWQgXCInICsgY29uZmlnICsgJ1wiJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRhdGFbY29uZmlnXSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX2NyZWF0ZUNsYXNzKENvbGxhcHNlLCBudWxsLCBbe1xuICAgICAga2V5OiAnVkVSU0lPTicsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIFZFUlNJT047XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiAnRGVmYXVsdCcsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIERlZmF1bHQ7XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIENvbGxhcHNlO1xuICB9KCk7XG5cbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBEYXRhIEFwaSBpbXBsZW1lbnRhdGlvblxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cbiAgJChkb2N1bWVudCkub24oRXZlbnQuQ0xJQ0tfREFUQV9BUEksIFNlbGVjdG9yLkRBVEFfVE9HR0xFLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgdmFyIHRhcmdldCA9IENvbGxhcHNlLl9nZXRUYXJnZXRGcm9tRWxlbWVudCh0aGlzKTtcbiAgICB2YXIgZGF0YSA9ICQodGFyZ2V0KS5kYXRhKERBVEFfS0VZKTtcbiAgICB2YXIgY29uZmlnID0gZGF0YSA/ICd0b2dnbGUnIDogJCh0aGlzKS5kYXRhKCk7XG5cbiAgICBDb2xsYXBzZS5falF1ZXJ5SW50ZXJmYWNlLmNhbGwoJCh0YXJnZXQpLCBjb25maWcpO1xuICB9KTtcblxuICAvKipcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqIGpRdWVyeVxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cbiAgJC5mbltOQU1FXSA9IENvbGxhcHNlLl9qUXVlcnlJbnRlcmZhY2U7XG4gICQuZm5bTkFNRV0uQ29uc3RydWN0b3IgPSBDb2xsYXBzZTtcbiAgJC5mbltOQU1FXS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm5bTkFNRV0gPSBKUVVFUllfTk9fQ09ORkxJQ1Q7XG4gICAgcmV0dXJuIENvbGxhcHNlLl9qUXVlcnlJbnRlcmZhY2U7XG4gIH07XG5cbiAgcmV0dXJuIENvbGxhcHNlO1xufShqUXVlcnkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29sbGFwc2UuanMubWFwXG4iLCIvKiEgdGV0aGVyIDEuNC4wICovXG5cbihmdW5jdGlvbihyb290LCBmYWN0b3J5KSB7XG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoZmFjdG9yeSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSk7XG4gIH0gZWxzZSB7XG4gICAgcm9vdC5UZXRoZXIgPSBmYWN0b3J5KCk7XG4gIH1cbn0odGhpcywgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cbid1c2Ugc3RyaWN0JztcblxudmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9XG5cbnZhciBUZXRoZXJCYXNlID0gdW5kZWZpbmVkO1xuaWYgKHR5cGVvZiBUZXRoZXJCYXNlID09PSAndW5kZWZpbmVkJykge1xuICBUZXRoZXJCYXNlID0geyBtb2R1bGVzOiBbXSB9O1xufVxuXG52YXIgemVyb0VsZW1lbnQgPSBudWxsO1xuXG4vLyBTYW1lIGFzIG5hdGl2ZSBnZXRCb3VuZGluZ0NsaWVudFJlY3QsIGV4Y2VwdCBpdCB0YWtlcyBpbnRvIGFjY291bnQgcGFyZW50IDxmcmFtZT4gb2Zmc2V0c1xuLy8gaWYgdGhlIGVsZW1lbnQgbGllcyB3aXRoaW4gYSBuZXN0ZWQgZG9jdW1lbnQgKDxmcmFtZT4gb3IgPGlmcmFtZT4tbGlrZSkuXG5mdW5jdGlvbiBnZXRBY3R1YWxCb3VuZGluZ0NsaWVudFJlY3Qobm9kZSkge1xuICB2YXIgYm91bmRpbmdSZWN0ID0gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAvLyBUaGUgb3JpZ2luYWwgb2JqZWN0IHJldHVybmVkIGJ5IGdldEJvdW5kaW5nQ2xpZW50UmVjdCBpcyBpbW11dGFibGUsIHNvIHdlIGNsb25lIGl0XG4gIC8vIFdlIGNhbid0IHVzZSBleHRlbmQgYmVjYXVzZSB0aGUgcHJvcGVydGllcyBhcmUgbm90IGNvbnNpZGVyZWQgcGFydCBvZiB0aGUgb2JqZWN0IGJ5IGhhc093blByb3BlcnR5IGluIElFOVxuICB2YXIgcmVjdCA9IHt9O1xuICBmb3IgKHZhciBrIGluIGJvdW5kaW5nUmVjdCkge1xuICAgIHJlY3Rba10gPSBib3VuZGluZ1JlY3Rba107XG4gIH1cblxuICBpZiAobm9kZS5vd25lckRvY3VtZW50ICE9PSBkb2N1bWVudCkge1xuICAgIHZhciBfZnJhbWVFbGVtZW50ID0gbm9kZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmZyYW1lRWxlbWVudDtcbiAgICBpZiAoX2ZyYW1lRWxlbWVudCkge1xuICAgICAgdmFyIGZyYW1lUmVjdCA9IGdldEFjdHVhbEJvdW5kaW5nQ2xpZW50UmVjdChfZnJhbWVFbGVtZW50KTtcbiAgICAgIHJlY3QudG9wICs9IGZyYW1lUmVjdC50b3A7XG4gICAgICByZWN0LmJvdHRvbSArPSBmcmFtZVJlY3QudG9wO1xuICAgICAgcmVjdC5sZWZ0ICs9IGZyYW1lUmVjdC5sZWZ0O1xuICAgICAgcmVjdC5yaWdodCArPSBmcmFtZVJlY3QubGVmdDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVjdDtcbn1cblxuZnVuY3Rpb24gZ2V0U2Nyb2xsUGFyZW50cyhlbCkge1xuICAvLyBJbiBmaXJlZm94IGlmIHRoZSBlbCBpcyBpbnNpZGUgYW4gaWZyYW1lIHdpdGggZGlzcGxheTogbm9uZTsgd2luZG93LmdldENvbXB1dGVkU3R5bGUoKSB3aWxsIHJldHVybiBudWxsO1xuICAvLyBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD01NDgzOTdcbiAgdmFyIGNvbXB1dGVkU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsKSB8fCB7fTtcbiAgdmFyIHBvc2l0aW9uID0gY29tcHV0ZWRTdHlsZS5wb3NpdGlvbjtcbiAgdmFyIHBhcmVudHMgPSBbXTtcblxuICBpZiAocG9zaXRpb24gPT09ICdmaXhlZCcpIHtcbiAgICByZXR1cm4gW2VsXTtcbiAgfVxuXG4gIHZhciBwYXJlbnQgPSBlbDtcbiAgd2hpbGUgKChwYXJlbnQgPSBwYXJlbnQucGFyZW50Tm9kZSkgJiYgcGFyZW50ICYmIHBhcmVudC5ub2RlVHlwZSA9PT0gMSkge1xuICAgIHZhciBzdHlsZSA9IHVuZGVmaW5lZDtcbiAgICB0cnkge1xuICAgICAgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKHBhcmVudCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7fVxuXG4gICAgaWYgKHR5cGVvZiBzdHlsZSA9PT0gJ3VuZGVmaW5lZCcgfHwgc3R5bGUgPT09IG51bGwpIHtcbiAgICAgIHBhcmVudHMucHVzaChwYXJlbnQpO1xuICAgICAgcmV0dXJuIHBhcmVudHM7XG4gICAgfVxuXG4gICAgdmFyIF9zdHlsZSA9IHN0eWxlO1xuICAgIHZhciBvdmVyZmxvdyA9IF9zdHlsZS5vdmVyZmxvdztcbiAgICB2YXIgb3ZlcmZsb3dYID0gX3N0eWxlLm92ZXJmbG93WDtcbiAgICB2YXIgb3ZlcmZsb3dZID0gX3N0eWxlLm92ZXJmbG93WTtcblxuICAgIGlmICgvKGF1dG98c2Nyb2xsKS8udGVzdChvdmVyZmxvdyArIG92ZXJmbG93WSArIG92ZXJmbG93WCkpIHtcbiAgICAgIGlmIChwb3NpdGlvbiAhPT0gJ2Fic29sdXRlJyB8fCBbJ3JlbGF0aXZlJywgJ2Fic29sdXRlJywgJ2ZpeGVkJ10uaW5kZXhPZihzdHlsZS5wb3NpdGlvbikgPj0gMCkge1xuICAgICAgICBwYXJlbnRzLnB1c2gocGFyZW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwYXJlbnRzLnB1c2goZWwub3duZXJEb2N1bWVudC5ib2R5KTtcblxuICAvLyBJZiB0aGUgbm9kZSBpcyB3aXRoaW4gYSBmcmFtZSwgYWNjb3VudCBmb3IgdGhlIHBhcmVudCB3aW5kb3cgc2Nyb2xsXG4gIGlmIChlbC5vd25lckRvY3VtZW50ICE9PSBkb2N1bWVudCkge1xuICAgIHBhcmVudHMucHVzaChlbC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3KTtcbiAgfVxuXG4gIHJldHVybiBwYXJlbnRzO1xufVxuXG52YXIgdW5pcXVlSWQgPSAoZnVuY3Rpb24gKCkge1xuICB2YXIgaWQgPSAwO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiArK2lkO1xuICB9O1xufSkoKTtcblxudmFyIHplcm9Qb3NDYWNoZSA9IHt9O1xudmFyIGdldE9yaWdpbiA9IGZ1bmN0aW9uIGdldE9yaWdpbigpIHtcbiAgLy8gZ2V0Qm91bmRpbmdDbGllbnRSZWN0IGlzIHVuZm9ydHVuYXRlbHkgdG9vIGFjY3VyYXRlLiAgSXQgaW50cm9kdWNlcyBhIHBpeGVsIG9yIHR3byBvZlxuICAvLyBqaXR0ZXIgYXMgdGhlIHVzZXIgc2Nyb2xscyB0aGF0IG1lc3NlcyB3aXRoIG91ciBhYmlsaXR5IHRvIGRldGVjdCBpZiB0d28gcG9zaXRpb25zXG4gIC8vIGFyZSBlcXVpdmlsYW50IG9yIG5vdC4gIFdlIHBsYWNlIGFuIGVsZW1lbnQgYXQgdGhlIHRvcCBsZWZ0IG9mIHRoZSBwYWdlIHRoYXQgd2lsbFxuICAvLyBnZXQgdGhlIHNhbWUgaml0dGVyLCBzbyB3ZSBjYW4gY2FuY2VsIHRoZSB0d28gb3V0LlxuICB2YXIgbm9kZSA9IHplcm9FbGVtZW50O1xuICBpZiAoIW5vZGUgfHwgIWRvY3VtZW50LmJvZHkuY29udGFpbnMobm9kZSkpIHtcbiAgICBub2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbm9kZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtdGV0aGVyLWlkJywgdW5pcXVlSWQoKSk7XG4gICAgZXh0ZW5kKG5vZGUuc3R5bGUsIHtcbiAgICAgIHRvcDogMCxcbiAgICAgIGxlZnQ6IDAsXG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJ1xuICAgIH0pO1xuXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChub2RlKTtcblxuICAgIHplcm9FbGVtZW50ID0gbm9kZTtcbiAgfVxuXG4gIHZhciBpZCA9IG5vZGUuZ2V0QXR0cmlidXRlKCdkYXRhLXRldGhlci1pZCcpO1xuICBpZiAodHlwZW9mIHplcm9Qb3NDYWNoZVtpZF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgemVyb1Bvc0NhY2hlW2lkXSA9IGdldEFjdHVhbEJvdW5kaW5nQ2xpZW50UmVjdChub2RlKTtcblxuICAgIC8vIENsZWFyIHRoZSBjYWNoZSB3aGVuIHRoaXMgcG9zaXRpb24gY2FsbCBpcyBkb25lXG4gICAgZGVmZXIoZnVuY3Rpb24gKCkge1xuICAgICAgZGVsZXRlIHplcm9Qb3NDYWNoZVtpZF07XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gemVyb1Bvc0NhY2hlW2lkXTtcbn07XG5cbmZ1bmN0aW9uIHJlbW92ZVV0aWxFbGVtZW50cygpIHtcbiAgaWYgKHplcm9FbGVtZW50KSB7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh6ZXJvRWxlbWVudCk7XG4gIH1cbiAgemVyb0VsZW1lbnQgPSBudWxsO1xufTtcblxuZnVuY3Rpb24gZ2V0Qm91bmRzKGVsKSB7XG4gIHZhciBkb2MgPSB1bmRlZmluZWQ7XG4gIGlmIChlbCA9PT0gZG9jdW1lbnQpIHtcbiAgICBkb2MgPSBkb2N1bWVudDtcbiAgICBlbCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgfSBlbHNlIHtcbiAgICBkb2MgPSBlbC5vd25lckRvY3VtZW50O1xuICB9XG5cbiAgdmFyIGRvY0VsID0gZG9jLmRvY3VtZW50RWxlbWVudDtcblxuICB2YXIgYm94ID0gZ2V0QWN0dWFsQm91bmRpbmdDbGllbnRSZWN0KGVsKTtcblxuICB2YXIgb3JpZ2luID0gZ2V0T3JpZ2luKCk7XG5cbiAgYm94LnRvcCAtPSBvcmlnaW4udG9wO1xuICBib3gubGVmdCAtPSBvcmlnaW4ubGVmdDtcblxuICBpZiAodHlwZW9mIGJveC53aWR0aCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBib3gud2lkdGggPSBkb2N1bWVudC5ib2R5LnNjcm9sbFdpZHRoIC0gYm94LmxlZnQgLSBib3gucmlnaHQ7XG4gIH1cbiAgaWYgKHR5cGVvZiBib3guaGVpZ2h0ID09PSAndW5kZWZpbmVkJykge1xuICAgIGJveC5oZWlnaHQgPSBkb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodCAtIGJveC50b3AgLSBib3guYm90dG9tO1xuICB9XG5cbiAgYm94LnRvcCA9IGJveC50b3AgLSBkb2NFbC5jbGllbnRUb3A7XG4gIGJveC5sZWZ0ID0gYm94LmxlZnQgLSBkb2NFbC5jbGllbnRMZWZ0O1xuICBib3gucmlnaHQgPSBkb2MuYm9keS5jbGllbnRXaWR0aCAtIGJveC53aWR0aCAtIGJveC5sZWZ0O1xuICBib3guYm90dG9tID0gZG9jLmJvZHkuY2xpZW50SGVpZ2h0IC0gYm94LmhlaWdodCAtIGJveC50b3A7XG5cbiAgcmV0dXJuIGJveDtcbn1cblxuZnVuY3Rpb24gZ2V0T2Zmc2V0UGFyZW50KGVsKSB7XG4gIHJldHVybiBlbC5vZmZzZXRQYXJlbnQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xufVxuXG52YXIgX3Njcm9sbEJhclNpemUgPSBudWxsO1xuZnVuY3Rpb24gZ2V0U2Nyb2xsQmFyU2l6ZSgpIHtcbiAgaWYgKF9zY3JvbGxCYXJTaXplKSB7XG4gICAgcmV0dXJuIF9zY3JvbGxCYXJTaXplO1xuICB9XG4gIHZhciBpbm5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBpbm5lci5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgaW5uZXIuc3R5bGUuaGVpZ2h0ID0gJzIwMHB4JztcblxuICB2YXIgb3V0ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgZXh0ZW5kKG91dGVyLnN0eWxlLCB7XG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgdG9wOiAwLFxuICAgIGxlZnQ6IDAsXG4gICAgcG9pbnRlckV2ZW50czogJ25vbmUnLFxuICAgIHZpc2liaWxpdHk6ICdoaWRkZW4nLFxuICAgIHdpZHRoOiAnMjAwcHgnLFxuICAgIGhlaWdodDogJzE1MHB4JyxcbiAgICBvdmVyZmxvdzogJ2hpZGRlbidcbiAgfSk7XG5cbiAgb3V0ZXIuYXBwZW5kQ2hpbGQoaW5uZXIpO1xuXG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQob3V0ZXIpO1xuXG4gIHZhciB3aWR0aENvbnRhaW5lZCA9IGlubmVyLm9mZnNldFdpZHRoO1xuICBvdXRlci5zdHlsZS5vdmVyZmxvdyA9ICdzY3JvbGwnO1xuICB2YXIgd2lkdGhTY3JvbGwgPSBpbm5lci5vZmZzZXRXaWR0aDtcblxuICBpZiAod2lkdGhDb250YWluZWQgPT09IHdpZHRoU2Nyb2xsKSB7XG4gICAgd2lkdGhTY3JvbGwgPSBvdXRlci5jbGllbnRXaWR0aDtcbiAgfVxuXG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQob3V0ZXIpO1xuXG4gIHZhciB3aWR0aCA9IHdpZHRoQ29udGFpbmVkIC0gd2lkdGhTY3JvbGw7XG5cbiAgX3Njcm9sbEJhclNpemUgPSB7IHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiB3aWR0aCB9O1xuICByZXR1cm4gX3Njcm9sbEJhclNpemU7XG59XG5cbmZ1bmN0aW9uIGV4dGVuZCgpIHtcbiAgdmFyIG91dCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdO1xuXG4gIHZhciBhcmdzID0gW107XG5cbiAgQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoYXJncywgYXJndW1lbnRzKTtcblxuICBhcmdzLnNsaWNlKDEpLmZvckVhY2goZnVuY3Rpb24gKG9iaikge1xuICAgIGlmIChvYmopIHtcbiAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgICAgaWYgKCh7fSkuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcbiAgICAgICAgICBvdXRba2V5XSA9IG9ialtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gb3V0O1xufVxuXG5mdW5jdGlvbiByZW1vdmVDbGFzcyhlbCwgbmFtZSkge1xuICBpZiAodHlwZW9mIGVsLmNsYXNzTGlzdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBuYW1lLnNwbGl0KCcgJykuZm9yRWFjaChmdW5jdGlvbiAoY2xzKSB7XG4gICAgICBpZiAoY2xzLnRyaW0oKSkge1xuICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKGNscyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cCgnKF58ICknICsgbmFtZS5zcGxpdCgnICcpLmpvaW4oJ3wnKSArICcoIHwkKScsICdnaScpO1xuICAgIHZhciBjbGFzc05hbWUgPSBnZXRDbGFzc05hbWUoZWwpLnJlcGxhY2UocmVnZXgsICcgJyk7XG4gICAgc2V0Q2xhc3NOYW1lKGVsLCBjbGFzc05hbWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFkZENsYXNzKGVsLCBuYW1lKSB7XG4gIGlmICh0eXBlb2YgZWwuY2xhc3NMaXN0ICE9PSAndW5kZWZpbmVkJykge1xuICAgIG5hbWUuc3BsaXQoJyAnKS5mb3JFYWNoKGZ1bmN0aW9uIChjbHMpIHtcbiAgICAgIGlmIChjbHMudHJpbSgpKSB7XG4gICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoY2xzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZW1vdmVDbGFzcyhlbCwgbmFtZSk7XG4gICAgdmFyIGNscyA9IGdldENsYXNzTmFtZShlbCkgKyAoJyAnICsgbmFtZSk7XG4gICAgc2V0Q2xhc3NOYW1lKGVsLCBjbHMpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGhhc0NsYXNzKGVsLCBuYW1lKSB7XG4gIGlmICh0eXBlb2YgZWwuY2xhc3NMaXN0ICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBlbC5jbGFzc0xpc3QuY29udGFpbnMobmFtZSk7XG4gIH1cbiAgdmFyIGNsYXNzTmFtZSA9IGdldENsYXNzTmFtZShlbCk7XG4gIHJldHVybiBuZXcgUmVnRXhwKCcoXnwgKScgKyBuYW1lICsgJyggfCQpJywgJ2dpJykudGVzdChjbGFzc05hbWUpO1xufVxuXG5mdW5jdGlvbiBnZXRDbGFzc05hbWUoZWwpIHtcbiAgLy8gQ2FuJ3QgdXNlIGp1c3QgU1ZHQW5pbWF0ZWRTdHJpbmcgaGVyZSBzaW5jZSBub2RlcyB3aXRoaW4gYSBGcmFtZSBpbiBJRSBoYXZlXG4gIC8vIGNvbXBsZXRlbHkgc2VwYXJhdGVseSBTVkdBbmltYXRlZFN0cmluZyBiYXNlIGNsYXNzZXNcbiAgaWYgKGVsLmNsYXNzTmFtZSBpbnN0YW5jZW9mIGVsLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuU1ZHQW5pbWF0ZWRTdHJpbmcpIHtcbiAgICByZXR1cm4gZWwuY2xhc3NOYW1lLmJhc2VWYWw7XG4gIH1cbiAgcmV0dXJuIGVsLmNsYXNzTmFtZTtcbn1cblxuZnVuY3Rpb24gc2V0Q2xhc3NOYW1lKGVsLCBjbGFzc05hbWUpIHtcbiAgZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsIGNsYXNzTmFtZSk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUNsYXNzZXMoZWwsIGFkZCwgYWxsKSB7XG4gIC8vIE9mIHRoZSBzZXQgb2YgJ2FsbCcgY2xhc3Nlcywgd2UgbmVlZCB0aGUgJ2FkZCcgY2xhc3NlcywgYW5kIG9ubHkgdGhlXG4gIC8vICdhZGQnIGNsYXNzZXMgdG8gYmUgc2V0LlxuICBhbGwuZm9yRWFjaChmdW5jdGlvbiAoY2xzKSB7XG4gICAgaWYgKGFkZC5pbmRleE9mKGNscykgPT09IC0xICYmIGhhc0NsYXNzKGVsLCBjbHMpKSB7XG4gICAgICByZW1vdmVDbGFzcyhlbCwgY2xzKTtcbiAgICB9XG4gIH0pO1xuXG4gIGFkZC5mb3JFYWNoKGZ1bmN0aW9uIChjbHMpIHtcbiAgICBpZiAoIWhhc0NsYXNzKGVsLCBjbHMpKSB7XG4gICAgICBhZGRDbGFzcyhlbCwgY2xzKTtcbiAgICB9XG4gIH0pO1xufVxuXG52YXIgZGVmZXJyZWQgPSBbXTtcblxudmFyIGRlZmVyID0gZnVuY3Rpb24gZGVmZXIoZm4pIHtcbiAgZGVmZXJyZWQucHVzaChmbik7XG59O1xuXG52YXIgZmx1c2ggPSBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgdmFyIGZuID0gdW5kZWZpbmVkO1xuICB3aGlsZSAoZm4gPSBkZWZlcnJlZC5wb3AoKSkge1xuICAgIGZuKCk7XG4gIH1cbn07XG5cbnZhciBFdmVudGVkID0gKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gRXZlbnRlZCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRXZlbnRlZCk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoRXZlbnRlZCwgW3tcbiAgICBrZXk6ICdvbicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uKGV2ZW50LCBoYW5kbGVyLCBjdHgpIHtcbiAgICAgIHZhciBvbmNlID0gYXJndW1lbnRzLmxlbmd0aCA8PSAzIHx8IGFyZ3VtZW50c1szXSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBhcmd1bWVudHNbM107XG5cbiAgICAgIGlmICh0eXBlb2YgdGhpcy5iaW5kaW5ncyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhpcy5iaW5kaW5ncyA9IHt9O1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiB0aGlzLmJpbmRpbmdzW2V2ZW50XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhpcy5iaW5kaW5nc1tldmVudF0gPSBbXTtcbiAgICAgIH1cbiAgICAgIHRoaXMuYmluZGluZ3NbZXZlbnRdLnB1c2goeyBoYW5kbGVyOiBoYW5kbGVyLCBjdHg6IGN0eCwgb25jZTogb25jZSB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvbmNlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25jZShldmVudCwgaGFuZGxlciwgY3R4KSB7XG4gICAgICB0aGlzLm9uKGV2ZW50LCBoYW5kbGVyLCBjdHgsIHRydWUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29mZicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9mZihldmVudCwgaGFuZGxlcikge1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLmJpbmRpbmdzID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgdGhpcy5iaW5kaW5nc1tldmVudF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBkZWxldGUgdGhpcy5iaW5kaW5nc1tldmVudF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgdGhpcy5iaW5kaW5nc1tldmVudF0ubGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKHRoaXMuYmluZGluZ3NbZXZlbnRdW2ldLmhhbmRsZXIgPT09IGhhbmRsZXIpIHtcbiAgICAgICAgICAgIHRoaXMuYmluZGluZ3NbZXZlbnRdLnNwbGljZShpLCAxKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgKytpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3RyaWdnZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0cmlnZ2VyKGV2ZW50KSB7XG4gICAgICBpZiAodHlwZW9mIHRoaXMuYmluZGluZ3MgIT09ICd1bmRlZmluZWQnICYmIHRoaXMuYmluZGluZ3NbZXZlbnRdKSB7XG4gICAgICAgIHZhciBpID0gMDtcblxuICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdoaWxlIChpIDwgdGhpcy5iaW5kaW5nc1tldmVudF0ubGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIF9iaW5kaW5ncyRldmVudCRpID0gdGhpcy5iaW5kaW5nc1tldmVudF1baV07XG4gICAgICAgICAgdmFyIGhhbmRsZXIgPSBfYmluZGluZ3MkZXZlbnQkaS5oYW5kbGVyO1xuICAgICAgICAgIHZhciBjdHggPSBfYmluZGluZ3MkZXZlbnQkaS5jdHg7XG4gICAgICAgICAgdmFyIG9uY2UgPSBfYmluZGluZ3MkZXZlbnQkaS5vbmNlO1xuXG4gICAgICAgICAgdmFyIGNvbnRleHQgPSBjdHg7XG4gICAgICAgICAgaWYgKHR5cGVvZiBjb250ZXh0ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgY29udGV4dCA9IHRoaXM7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaGFuZGxlci5hcHBseShjb250ZXh0LCBhcmdzKTtcblxuICAgICAgICAgIGlmIChvbmNlKSB7XG4gICAgICAgICAgICB0aGlzLmJpbmRpbmdzW2V2ZW50XS5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICsraTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRXZlbnRlZDtcbn0pKCk7XG5cblRldGhlckJhc2UuVXRpbHMgPSB7XG4gIGdldEFjdHVhbEJvdW5kaW5nQ2xpZW50UmVjdDogZ2V0QWN0dWFsQm91bmRpbmdDbGllbnRSZWN0LFxuICBnZXRTY3JvbGxQYXJlbnRzOiBnZXRTY3JvbGxQYXJlbnRzLFxuICBnZXRCb3VuZHM6IGdldEJvdW5kcyxcbiAgZ2V0T2Zmc2V0UGFyZW50OiBnZXRPZmZzZXRQYXJlbnQsXG4gIGV4dGVuZDogZXh0ZW5kLFxuICBhZGRDbGFzczogYWRkQ2xhc3MsXG4gIHJlbW92ZUNsYXNzOiByZW1vdmVDbGFzcyxcbiAgaGFzQ2xhc3M6IGhhc0NsYXNzLFxuICB1cGRhdGVDbGFzc2VzOiB1cGRhdGVDbGFzc2VzLFxuICBkZWZlcjogZGVmZXIsXG4gIGZsdXNoOiBmbHVzaCxcbiAgdW5pcXVlSWQ6IHVuaXF1ZUlkLFxuICBFdmVudGVkOiBFdmVudGVkLFxuICBnZXRTY3JvbGxCYXJTaXplOiBnZXRTY3JvbGxCYXJTaXplLFxuICByZW1vdmVVdGlsRWxlbWVudHM6IHJlbW92ZVV0aWxFbGVtZW50c1xufTtcbi8qIGdsb2JhbHMgVGV0aGVyQmFzZSwgcGVyZm9ybWFuY2UgKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgX3NsaWNlZFRvQXJyYXkgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBzbGljZUl0ZXJhdG9yKGFyciwgaSkgeyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVsncmV0dXJuJ10pIF9pWydyZXR1cm4nXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH0gcmV0dXJuIGZ1bmN0aW9uIChhcnIsIGkpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyByZXR1cm4gYXJyOyB9IGVsc2UgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkgeyByZXR1cm4gc2xpY2VJdGVyYXRvcihhcnIsIGkpOyB9IGVsc2UgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlJyk7IH0gfTsgfSkoKTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTtcblxudmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQoX3g2LCBfeDcsIF94OCkgeyB2YXIgX2FnYWluID0gdHJ1ZTsgX2Z1bmN0aW9uOiB3aGlsZSAoX2FnYWluKSB7IHZhciBvYmplY3QgPSBfeDYsIHByb3BlcnR5ID0gX3g3LCByZWNlaXZlciA9IF94ODsgX2FnYWluID0gZmFsc2U7IGlmIChvYmplY3QgPT09IG51bGwpIG9iamVjdCA9IEZ1bmN0aW9uLnByb3RvdHlwZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyBfeDYgPSBwYXJlbnQ7IF94NyA9IHByb3BlcnR5OyBfeDggPSByZWNlaXZlcjsgX2FnYWluID0gdHJ1ZTsgZGVzYyA9IHBhcmVudCA9IHVuZGVmaW5lZDsgY29udGludWUgX2Z1bmN0aW9uOyB9IH0gZWxzZSBpZiAoJ3ZhbHVlJyBpbiBkZXNjKSB7IHJldHVybiBkZXNjLnZhbHVlOyB9IGVsc2UgeyB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7IGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7IH0gfSB9O1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gJ2Z1bmN0aW9uJyAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ1N1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgJyArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuaWYgKHR5cGVvZiBUZXRoZXJCYXNlID09PSAndW5kZWZpbmVkJykge1xuICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBtdXN0IGluY2x1ZGUgdGhlIHV0aWxzLmpzIGZpbGUgYmVmb3JlIHRldGhlci5qcycpO1xufVxuXG52YXIgX1RldGhlckJhc2UkVXRpbHMgPSBUZXRoZXJCYXNlLlV0aWxzO1xudmFyIGdldFNjcm9sbFBhcmVudHMgPSBfVGV0aGVyQmFzZSRVdGlscy5nZXRTY3JvbGxQYXJlbnRzO1xudmFyIGdldEJvdW5kcyA9IF9UZXRoZXJCYXNlJFV0aWxzLmdldEJvdW5kcztcbnZhciBnZXRPZmZzZXRQYXJlbnQgPSBfVGV0aGVyQmFzZSRVdGlscy5nZXRPZmZzZXRQYXJlbnQ7XG52YXIgZXh0ZW5kID0gX1RldGhlckJhc2UkVXRpbHMuZXh0ZW5kO1xudmFyIGFkZENsYXNzID0gX1RldGhlckJhc2UkVXRpbHMuYWRkQ2xhc3M7XG52YXIgcmVtb3ZlQ2xhc3MgPSBfVGV0aGVyQmFzZSRVdGlscy5yZW1vdmVDbGFzcztcbnZhciB1cGRhdGVDbGFzc2VzID0gX1RldGhlckJhc2UkVXRpbHMudXBkYXRlQ2xhc3NlcztcbnZhciBkZWZlciA9IF9UZXRoZXJCYXNlJFV0aWxzLmRlZmVyO1xudmFyIGZsdXNoID0gX1RldGhlckJhc2UkVXRpbHMuZmx1c2g7XG52YXIgZ2V0U2Nyb2xsQmFyU2l6ZSA9IF9UZXRoZXJCYXNlJFV0aWxzLmdldFNjcm9sbEJhclNpemU7XG52YXIgcmVtb3ZlVXRpbEVsZW1lbnRzID0gX1RldGhlckJhc2UkVXRpbHMucmVtb3ZlVXRpbEVsZW1lbnRzO1xuXG5mdW5jdGlvbiB3aXRoaW4oYSwgYikge1xuICB2YXIgZGlmZiA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMiB8fCBhcmd1bWVudHNbMl0gPT09IHVuZGVmaW5lZCA/IDEgOiBhcmd1bWVudHNbMl07XG5cbiAgcmV0dXJuIGEgKyBkaWZmID49IGIgJiYgYiA+PSBhIC0gZGlmZjtcbn1cblxudmFyIHRyYW5zZm9ybUtleSA9IChmdW5jdGlvbiAoKSB7XG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG4gIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gIHZhciB0cmFuc2Zvcm1zID0gWyd0cmFuc2Zvcm0nLCAnV2Via2l0VHJhbnNmb3JtJywgJ09UcmFuc2Zvcm0nLCAnTW96VHJhbnNmb3JtJywgJ21zVHJhbnNmb3JtJ107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdHJhbnNmb3Jtcy5sZW5ndGg7ICsraSkge1xuICAgIHZhciBrZXkgPSB0cmFuc2Zvcm1zW2ldO1xuICAgIGlmIChlbC5zdHlsZVtrZXldICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBrZXk7XG4gICAgfVxuICB9XG59KSgpO1xuXG52YXIgdGV0aGVycyA9IFtdO1xuXG52YXIgcG9zaXRpb24gPSBmdW5jdGlvbiBwb3NpdGlvbigpIHtcbiAgdGV0aGVycy5mb3JFYWNoKGZ1bmN0aW9uICh0ZXRoZXIpIHtcbiAgICB0ZXRoZXIucG9zaXRpb24oZmFsc2UpO1xuICB9KTtcbiAgZmx1c2goKTtcbn07XG5cbmZ1bmN0aW9uIG5vdygpIHtcbiAgaWYgKHR5cGVvZiBwZXJmb3JtYW5jZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHBlcmZvcm1hbmNlLm5vdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gcGVyZm9ybWFuY2Uubm93KCk7XG4gIH1cbiAgcmV0dXJuICtuZXcgRGF0ZSgpO1xufVxuXG4oZnVuY3Rpb24gKCkge1xuICB2YXIgbGFzdENhbGwgPSBudWxsO1xuICB2YXIgbGFzdER1cmF0aW9uID0gbnVsbDtcbiAgdmFyIHBlbmRpbmdUaW1lb3V0ID0gbnVsbDtcblxuICB2YXIgdGljayA9IGZ1bmN0aW9uIHRpY2soKSB7XG4gICAgaWYgKHR5cGVvZiBsYXN0RHVyYXRpb24gIT09ICd1bmRlZmluZWQnICYmIGxhc3REdXJhdGlvbiA+IDE2KSB7XG4gICAgICAvLyBXZSB2b2x1bnRhcmlseSB0aHJvdHRsZSBvdXJzZWx2ZXMgaWYgd2UgY2FuJ3QgbWFuYWdlIDYwZnBzXG4gICAgICBsYXN0RHVyYXRpb24gPSBNYXRoLm1pbihsYXN0RHVyYXRpb24gLSAxNiwgMjUwKTtcblxuICAgICAgLy8gSnVzdCBpbiBjYXNlIHRoaXMgaXMgdGhlIGxhc3QgZXZlbnQsIHJlbWVtYmVyIHRvIHBvc2l0aW9uIGp1c3Qgb25jZSBtb3JlXG4gICAgICBwZW5kaW5nVGltZW91dCA9IHNldFRpbWVvdXQodGljaywgMjUwKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGxhc3RDYWxsICE9PSAndW5kZWZpbmVkJyAmJiBub3coKSAtIGxhc3RDYWxsIDwgMTApIHtcbiAgICAgIC8vIFNvbWUgYnJvd3NlcnMgY2FsbCBldmVudHMgYSBsaXR0bGUgdG9vIGZyZXF1ZW50bHksIHJlZnVzZSB0byBydW4gbW9yZSB0aGFuIGlzIHJlYXNvbmFibGVcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAocGVuZGluZ1RpbWVvdXQgIT0gbnVsbCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHBlbmRpbmdUaW1lb3V0KTtcbiAgICAgIHBlbmRpbmdUaW1lb3V0ID0gbnVsbDtcbiAgICB9XG5cbiAgICBsYXN0Q2FsbCA9IG5vdygpO1xuICAgIHBvc2l0aW9uKCk7XG4gICAgbGFzdER1cmF0aW9uID0gbm93KCkgLSBsYXN0Q2FsbDtcbiAgfTtcblxuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyICE9PSAndW5kZWZpbmVkJykge1xuICAgIFsncmVzaXplJywgJ3Njcm9sbCcsICd0b3VjaG1vdmUnXS5mb3JFYWNoKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIHRpY2spO1xuICAgIH0pO1xuICB9XG59KSgpO1xuXG52YXIgTUlSUk9SX0xSID0ge1xuICBjZW50ZXI6ICdjZW50ZXInLFxuICBsZWZ0OiAncmlnaHQnLFxuICByaWdodDogJ2xlZnQnXG59O1xuXG52YXIgTUlSUk9SX1RCID0ge1xuICBtaWRkbGU6ICdtaWRkbGUnLFxuICB0b3A6ICdib3R0b20nLFxuICBib3R0b206ICd0b3AnXG59O1xuXG52YXIgT0ZGU0VUX01BUCA9IHtcbiAgdG9wOiAwLFxuICBsZWZ0OiAwLFxuICBtaWRkbGU6ICc1MCUnLFxuICBjZW50ZXI6ICc1MCUnLFxuICBib3R0b206ICcxMDAlJyxcbiAgcmlnaHQ6ICcxMDAlJ1xufTtcblxudmFyIGF1dG9Ub0ZpeGVkQXR0YWNobWVudCA9IGZ1bmN0aW9uIGF1dG9Ub0ZpeGVkQXR0YWNobWVudChhdHRhY2htZW50LCByZWxhdGl2ZVRvQXR0YWNobWVudCkge1xuICB2YXIgbGVmdCA9IGF0dGFjaG1lbnQubGVmdDtcbiAgdmFyIHRvcCA9IGF0dGFjaG1lbnQudG9wO1xuXG4gIGlmIChsZWZ0ID09PSAnYXV0bycpIHtcbiAgICBsZWZ0ID0gTUlSUk9SX0xSW3JlbGF0aXZlVG9BdHRhY2htZW50LmxlZnRdO1xuICB9XG5cbiAgaWYgKHRvcCA9PT0gJ2F1dG8nKSB7XG4gICAgdG9wID0gTUlSUk9SX1RCW3JlbGF0aXZlVG9BdHRhY2htZW50LnRvcF07XG4gIH1cblxuICByZXR1cm4geyBsZWZ0OiBsZWZ0LCB0b3A6IHRvcCB9O1xufTtcblxudmFyIGF0dGFjaG1lbnRUb09mZnNldCA9IGZ1bmN0aW9uIGF0dGFjaG1lbnRUb09mZnNldChhdHRhY2htZW50KSB7XG4gIHZhciBsZWZ0ID0gYXR0YWNobWVudC5sZWZ0O1xuICB2YXIgdG9wID0gYXR0YWNobWVudC50b3A7XG5cbiAgaWYgKHR5cGVvZiBPRkZTRVRfTUFQW2F0dGFjaG1lbnQubGVmdF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgbGVmdCA9IE9GRlNFVF9NQVBbYXR0YWNobWVudC5sZWZ0XTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgT0ZGU0VUX01BUFthdHRhY2htZW50LnRvcF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgdG9wID0gT0ZGU0VUX01BUFthdHRhY2htZW50LnRvcF07XG4gIH1cblxuICByZXR1cm4geyBsZWZ0OiBsZWZ0LCB0b3A6IHRvcCB9O1xufTtcblxuZnVuY3Rpb24gYWRkT2Zmc2V0KCkge1xuICB2YXIgb3V0ID0geyB0b3A6IDAsIGxlZnQ6IDAgfTtcblxuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgb2Zmc2V0cyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIG9mZnNldHNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICBvZmZzZXRzLmZvckVhY2goZnVuY3Rpb24gKF9yZWYpIHtcbiAgICB2YXIgdG9wID0gX3JlZi50b3A7XG4gICAgdmFyIGxlZnQgPSBfcmVmLmxlZnQ7XG5cbiAgICBpZiAodHlwZW9mIHRvcCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRvcCA9IHBhcnNlRmxvYXQodG9wLCAxMCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgbGVmdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGxlZnQgPSBwYXJzZUZsb2F0KGxlZnQsIDEwKTtcbiAgICB9XG5cbiAgICBvdXQudG9wICs9IHRvcDtcbiAgICBvdXQubGVmdCArPSBsZWZ0O1xuICB9KTtcblxuICByZXR1cm4gb3V0O1xufVxuXG5mdW5jdGlvbiBvZmZzZXRUb1B4KG9mZnNldCwgc2l6ZSkge1xuICBpZiAodHlwZW9mIG9mZnNldC5sZWZ0ID09PSAnc3RyaW5nJyAmJiBvZmZzZXQubGVmdC5pbmRleE9mKCclJykgIT09IC0xKSB7XG4gICAgb2Zmc2V0LmxlZnQgPSBwYXJzZUZsb2F0KG9mZnNldC5sZWZ0LCAxMCkgLyAxMDAgKiBzaXplLndpZHRoO1xuICB9XG4gIGlmICh0eXBlb2Ygb2Zmc2V0LnRvcCA9PT0gJ3N0cmluZycgJiYgb2Zmc2V0LnRvcC5pbmRleE9mKCclJykgIT09IC0xKSB7XG4gICAgb2Zmc2V0LnRvcCA9IHBhcnNlRmxvYXQob2Zmc2V0LnRvcCwgMTApIC8gMTAwICogc2l6ZS5oZWlnaHQ7XG4gIH1cblxuICByZXR1cm4gb2Zmc2V0O1xufVxuXG52YXIgcGFyc2VPZmZzZXQgPSBmdW5jdGlvbiBwYXJzZU9mZnNldCh2YWx1ZSkge1xuICB2YXIgX3ZhbHVlJHNwbGl0ID0gdmFsdWUuc3BsaXQoJyAnKTtcblxuICB2YXIgX3ZhbHVlJHNwbGl0MiA9IF9zbGljZWRUb0FycmF5KF92YWx1ZSRzcGxpdCwgMik7XG5cbiAgdmFyIHRvcCA9IF92YWx1ZSRzcGxpdDJbMF07XG4gIHZhciBsZWZ0ID0gX3ZhbHVlJHNwbGl0MlsxXTtcblxuICByZXR1cm4geyB0b3A6IHRvcCwgbGVmdDogbGVmdCB9O1xufTtcbnZhciBwYXJzZUF0dGFjaG1lbnQgPSBwYXJzZU9mZnNldDtcblxudmFyIFRldGhlckNsYXNzID0gKGZ1bmN0aW9uIChfRXZlbnRlZCkge1xuICBfaW5oZXJpdHMoVGV0aGVyQ2xhc3MsIF9FdmVudGVkKTtcblxuICBmdW5jdGlvbiBUZXRoZXJDbGFzcyhvcHRpb25zKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUZXRoZXJDbGFzcyk7XG5cbiAgICBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihUZXRoZXJDbGFzcy5wcm90b3R5cGUpLCAnY29uc3RydWN0b3InLCB0aGlzKS5jYWxsKHRoaXMpO1xuICAgIHRoaXMucG9zaXRpb24gPSB0aGlzLnBvc2l0aW9uLmJpbmQodGhpcyk7XG5cbiAgICB0ZXRoZXJzLnB1c2godGhpcyk7XG5cbiAgICB0aGlzLmhpc3RvcnkgPSBbXTtcblxuICAgIHRoaXMuc2V0T3B0aW9ucyhvcHRpb25zLCBmYWxzZSk7XG5cbiAgICBUZXRoZXJCYXNlLm1vZHVsZXMuZm9yRWFjaChmdW5jdGlvbiAobW9kdWxlKSB7XG4gICAgICBpZiAodHlwZW9mIG1vZHVsZS5pbml0aWFsaXplICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBtb2R1bGUuaW5pdGlhbGl6ZS5jYWxsKF90aGlzKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMucG9zaXRpb24oKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhUZXRoZXJDbGFzcywgW3tcbiAgICBrZXk6ICdnZXRDbGFzcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldENsYXNzKCkge1xuICAgICAgdmFyIGtleSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/ICcnIDogYXJndW1lbnRzWzBdO1xuICAgICAgdmFyIGNsYXNzZXMgPSB0aGlzLm9wdGlvbnMuY2xhc3NlcztcblxuICAgICAgaWYgKHR5cGVvZiBjbGFzc2VzICE9PSAndW5kZWZpbmVkJyAmJiBjbGFzc2VzW2tleV0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5jbGFzc2VzW2tleV07XG4gICAgICB9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5jbGFzc1ByZWZpeCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmNsYXNzUHJlZml4ICsgJy0nICsga2V5O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzZXRPcHRpb25zJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIHBvcyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IHRydWUgOiBhcmd1bWVudHNbMV07XG5cbiAgICAgIHZhciBkZWZhdWx0cyA9IHtcbiAgICAgICAgb2Zmc2V0OiAnMCAwJyxcbiAgICAgICAgdGFyZ2V0T2Zmc2V0OiAnMCAwJyxcbiAgICAgICAgdGFyZ2V0QXR0YWNobWVudDogJ2F1dG8gYXV0bycsXG4gICAgICAgIGNsYXNzUHJlZml4OiAndGV0aGVyJ1xuICAgICAgfTtcblxuICAgICAgdGhpcy5vcHRpb25zID0gZXh0ZW5kKGRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgICAgdmFyIF9vcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgdmFyIGVsZW1lbnQgPSBfb3B0aW9ucy5lbGVtZW50O1xuICAgICAgdmFyIHRhcmdldCA9IF9vcHRpb25zLnRhcmdldDtcbiAgICAgIHZhciB0YXJnZXRNb2RpZmllciA9IF9vcHRpb25zLnRhcmdldE1vZGlmaWVyO1xuXG4gICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICB0aGlzLnRhcmdldE1vZGlmaWVyID0gdGFyZ2V0TW9kaWZpZXI7XG5cbiAgICAgIGlmICh0aGlzLnRhcmdldCA9PT0gJ3ZpZXdwb3J0Jykge1xuICAgICAgICB0aGlzLnRhcmdldCA9IGRvY3VtZW50LmJvZHk7XG4gICAgICAgIHRoaXMudGFyZ2V0TW9kaWZpZXIgPSAndmlzaWJsZSc7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMudGFyZ2V0ID09PSAnc2Nyb2xsLWhhbmRsZScpIHtcbiAgICAgICAgdGhpcy50YXJnZXQgPSBkb2N1bWVudC5ib2R5O1xuICAgICAgICB0aGlzLnRhcmdldE1vZGlmaWVyID0gJ3Njcm9sbC1oYW5kbGUnO1xuICAgICAgfVxuXG4gICAgICBbJ2VsZW1lbnQnLCAndGFyZ2V0J10uZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmICh0eXBlb2YgX3RoaXMyW2tleV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUZXRoZXIgRXJyb3I6IEJvdGggZWxlbWVudCBhbmQgdGFyZ2V0IG11c3QgYmUgZGVmaW5lZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBfdGhpczJba2V5XS5qcXVlcnkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgX3RoaXMyW2tleV0gPSBfdGhpczJba2V5XVswXTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgX3RoaXMyW2tleV0gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgX3RoaXMyW2tleV0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKF90aGlzMltrZXldKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGFkZENsYXNzKHRoaXMuZWxlbWVudCwgdGhpcy5nZXRDbGFzcygnZWxlbWVudCcpKTtcbiAgICAgIGlmICghKHRoaXMub3B0aW9ucy5hZGRUYXJnZXRDbGFzc2VzID09PSBmYWxzZSkpIHtcbiAgICAgICAgYWRkQ2xhc3ModGhpcy50YXJnZXQsIHRoaXMuZ2V0Q2xhc3MoJ3RhcmdldCcpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuYXR0YWNobWVudCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RldGhlciBFcnJvcjogWW91IG11c3QgcHJvdmlkZSBhbiBhdHRhY2htZW50Jyk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMudGFyZ2V0QXR0YWNobWVudCA9IHBhcnNlQXR0YWNobWVudCh0aGlzLm9wdGlvbnMudGFyZ2V0QXR0YWNobWVudCk7XG4gICAgICB0aGlzLmF0dGFjaG1lbnQgPSBwYXJzZUF0dGFjaG1lbnQodGhpcy5vcHRpb25zLmF0dGFjaG1lbnQpO1xuICAgICAgdGhpcy5vZmZzZXQgPSBwYXJzZU9mZnNldCh0aGlzLm9wdGlvbnMub2Zmc2V0KTtcbiAgICAgIHRoaXMudGFyZ2V0T2Zmc2V0ID0gcGFyc2VPZmZzZXQodGhpcy5vcHRpb25zLnRhcmdldE9mZnNldCk7XG5cbiAgICAgIGlmICh0eXBlb2YgdGhpcy5zY3JvbGxQYXJlbnRzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aGlzLmRpc2FibGUoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMudGFyZ2V0TW9kaWZpZXIgPT09ICdzY3JvbGwtaGFuZGxlJykge1xuICAgICAgICB0aGlzLnNjcm9sbFBhcmVudHMgPSBbdGhpcy50YXJnZXRdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zY3JvbGxQYXJlbnRzID0gZ2V0U2Nyb2xsUGFyZW50cyh0aGlzLnRhcmdldCk7XG4gICAgICB9XG5cbiAgICAgIGlmICghKHRoaXMub3B0aW9ucy5lbmFibGVkID09PSBmYWxzZSkpIHtcbiAgICAgICAgdGhpcy5lbmFibGUocG9zKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRUYXJnZXRCb3VuZHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRUYXJnZXRCb3VuZHMoKSB7XG4gICAgICBpZiAodHlwZW9mIHRoaXMudGFyZ2V0TW9kaWZpZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGlmICh0aGlzLnRhcmdldE1vZGlmaWVyID09PSAndmlzaWJsZScpIHtcbiAgICAgICAgICBpZiAodGhpcy50YXJnZXQgPT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHRvcDogcGFnZVlPZmZzZXQsIGxlZnQ6IHBhZ2VYT2Zmc2V0LCBoZWlnaHQ6IGlubmVySGVpZ2h0LCB3aWR0aDogaW5uZXJXaWR0aCB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgYm91bmRzID0gZ2V0Qm91bmRzKHRoaXMudGFyZ2V0KTtcblxuICAgICAgICAgICAgdmFyIG91dCA9IHtcbiAgICAgICAgICAgICAgaGVpZ2h0OiBib3VuZHMuaGVpZ2h0LFxuICAgICAgICAgICAgICB3aWR0aDogYm91bmRzLndpZHRoLFxuICAgICAgICAgICAgICB0b3A6IGJvdW5kcy50b3AsXG4gICAgICAgICAgICAgIGxlZnQ6IGJvdW5kcy5sZWZ0XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBvdXQuaGVpZ2h0ID0gTWF0aC5taW4ob3V0LmhlaWdodCwgYm91bmRzLmhlaWdodCAtIChwYWdlWU9mZnNldCAtIGJvdW5kcy50b3ApKTtcbiAgICAgICAgICAgIG91dC5oZWlnaHQgPSBNYXRoLm1pbihvdXQuaGVpZ2h0LCBib3VuZHMuaGVpZ2h0IC0gKGJvdW5kcy50b3AgKyBib3VuZHMuaGVpZ2h0IC0gKHBhZ2VZT2Zmc2V0ICsgaW5uZXJIZWlnaHQpKSk7XG4gICAgICAgICAgICBvdXQuaGVpZ2h0ID0gTWF0aC5taW4oaW5uZXJIZWlnaHQsIG91dC5oZWlnaHQpO1xuICAgICAgICAgICAgb3V0LmhlaWdodCAtPSAyO1xuXG4gICAgICAgICAgICBvdXQud2lkdGggPSBNYXRoLm1pbihvdXQud2lkdGgsIGJvdW5kcy53aWR0aCAtIChwYWdlWE9mZnNldCAtIGJvdW5kcy5sZWZ0KSk7XG4gICAgICAgICAgICBvdXQud2lkdGggPSBNYXRoLm1pbihvdXQud2lkdGgsIGJvdW5kcy53aWR0aCAtIChib3VuZHMubGVmdCArIGJvdW5kcy53aWR0aCAtIChwYWdlWE9mZnNldCArIGlubmVyV2lkdGgpKSk7XG4gICAgICAgICAgICBvdXQud2lkdGggPSBNYXRoLm1pbihpbm5lcldpZHRoLCBvdXQud2lkdGgpO1xuICAgICAgICAgICAgb3V0LndpZHRoIC09IDI7XG5cbiAgICAgICAgICAgIGlmIChvdXQudG9wIDwgcGFnZVlPZmZzZXQpIHtcbiAgICAgICAgICAgICAgb3V0LnRvcCA9IHBhZ2VZT2Zmc2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG91dC5sZWZ0IDwgcGFnZVhPZmZzZXQpIHtcbiAgICAgICAgICAgICAgb3V0LmxlZnQgPSBwYWdlWE9mZnNldDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG91dDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy50YXJnZXRNb2RpZmllciA9PT0gJ3Njcm9sbC1oYW5kbGUnKSB7XG4gICAgICAgICAgdmFyIGJvdW5kcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB2YXIgdGFyZ2V0ID0gdGhpcy50YXJnZXQ7XG4gICAgICAgICAgaWYgKHRhcmdldCA9PT0gZG9jdW1lbnQuYm9keSkge1xuICAgICAgICAgICAgdGFyZ2V0ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXG4gICAgICAgICAgICBib3VuZHMgPSB7XG4gICAgICAgICAgICAgIGxlZnQ6IHBhZ2VYT2Zmc2V0LFxuICAgICAgICAgICAgICB0b3A6IHBhZ2VZT2Zmc2V0LFxuICAgICAgICAgICAgICBoZWlnaHQ6IGlubmVySGVpZ2h0LFxuICAgICAgICAgICAgICB3aWR0aDogaW5uZXJXaWR0aFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYm91bmRzID0gZ2V0Qm91bmRzKHRhcmdldCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZSh0YXJnZXQpO1xuXG4gICAgICAgICAgdmFyIGhhc0JvdHRvbVNjcm9sbCA9IHRhcmdldC5zY3JvbGxXaWR0aCA+IHRhcmdldC5jbGllbnRXaWR0aCB8fCBbc3R5bGUub3ZlcmZsb3csIHN0eWxlLm92ZXJmbG93WF0uaW5kZXhPZignc2Nyb2xsJykgPj0gMCB8fCB0aGlzLnRhcmdldCAhPT0gZG9jdW1lbnQuYm9keTtcblxuICAgICAgICAgIHZhciBzY3JvbGxCb3R0b20gPSAwO1xuICAgICAgICAgIGlmIChoYXNCb3R0b21TY3JvbGwpIHtcbiAgICAgICAgICAgIHNjcm9sbEJvdHRvbSA9IDE1O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBoZWlnaHQgPSBib3VuZHMuaGVpZ2h0IC0gcGFyc2VGbG9hdChzdHlsZS5ib3JkZXJUb3BXaWR0aCkgLSBwYXJzZUZsb2F0KHN0eWxlLmJvcmRlckJvdHRvbVdpZHRoKSAtIHNjcm9sbEJvdHRvbTtcblxuICAgICAgICAgIHZhciBvdXQgPSB7XG4gICAgICAgICAgICB3aWR0aDogMTUsXG4gICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCAqIDAuOTc1ICogKGhlaWdodCAvIHRhcmdldC5zY3JvbGxIZWlnaHQpLFxuICAgICAgICAgICAgbGVmdDogYm91bmRzLmxlZnQgKyBib3VuZHMud2lkdGggLSBwYXJzZUZsb2F0KHN0eWxlLmJvcmRlckxlZnRXaWR0aCkgLSAxNVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICB2YXIgZml0QWRqID0gMDtcbiAgICAgICAgICBpZiAoaGVpZ2h0IDwgNDA4ICYmIHRoaXMudGFyZ2V0ID09PSBkb2N1bWVudC5ib2R5KSB7XG4gICAgICAgICAgICBmaXRBZGogPSAtMC4wMDAxMSAqIE1hdGgucG93KGhlaWdodCwgMikgLSAwLjAwNzI3ICogaGVpZ2h0ICsgMjIuNTg7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHRoaXMudGFyZ2V0ICE9PSBkb2N1bWVudC5ib2R5KSB7XG4gICAgICAgICAgICBvdXQuaGVpZ2h0ID0gTWF0aC5tYXgob3V0LmhlaWdodCwgMjQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBzY3JvbGxQZXJjZW50YWdlID0gdGhpcy50YXJnZXQuc2Nyb2xsVG9wIC8gKHRhcmdldC5zY3JvbGxIZWlnaHQgLSBoZWlnaHQpO1xuICAgICAgICAgIG91dC50b3AgPSBzY3JvbGxQZXJjZW50YWdlICogKGhlaWdodCAtIG91dC5oZWlnaHQgLSBmaXRBZGopICsgYm91bmRzLnRvcCArIHBhcnNlRmxvYXQoc3R5bGUuYm9yZGVyVG9wV2lkdGgpO1xuXG4gICAgICAgICAgaWYgKHRoaXMudGFyZ2V0ID09PSBkb2N1bWVudC5ib2R5KSB7XG4gICAgICAgICAgICBvdXQuaGVpZ2h0ID0gTWF0aC5tYXgob3V0LmhlaWdodCwgMjQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBvdXQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBnZXRCb3VuZHModGhpcy50YXJnZXQpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NsZWFyQ2FjaGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhckNhY2hlKCkge1xuICAgICAgdGhpcy5fY2FjaGUgPSB7fTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjYWNoZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNhY2hlKGssIGdldHRlcikge1xuICAgICAgLy8gTW9yZSB0aGFuIG9uZSBtb2R1bGUgd2lsbCBvZnRlbiBuZWVkIHRoZSBzYW1lIERPTSBpbmZvLCBzb1xuICAgICAgLy8gd2Uga2VlcCBhIGNhY2hlIHdoaWNoIGlzIGNsZWFyZWQgb24gZWFjaCBwb3NpdGlvbiBjYWxsXG4gICAgICBpZiAodHlwZW9mIHRoaXMuX2NhY2hlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aGlzLl9jYWNoZSA9IHt9O1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIHRoaXMuX2NhY2hlW2tdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aGlzLl9jYWNoZVtrXSA9IGdldHRlci5jYWxsKHRoaXMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5fY2FjaGVba107XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZW5hYmxlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZW5hYmxlKCkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIHZhciBwb3MgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB0cnVlIDogYXJndW1lbnRzWzBdO1xuXG4gICAgICBpZiAoISh0aGlzLm9wdGlvbnMuYWRkVGFyZ2V0Q2xhc3NlcyA9PT0gZmFsc2UpKSB7XG4gICAgICAgIGFkZENsYXNzKHRoaXMudGFyZ2V0LCB0aGlzLmdldENsYXNzKCdlbmFibGVkJykpO1xuICAgICAgfVxuICAgICAgYWRkQ2xhc3ModGhpcy5lbGVtZW50LCB0aGlzLmdldENsYXNzKCdlbmFibGVkJykpO1xuICAgICAgdGhpcy5lbmFibGVkID0gdHJ1ZTtcblxuICAgICAgdGhpcy5zY3JvbGxQYXJlbnRzLmZvckVhY2goZnVuY3Rpb24gKHBhcmVudCkge1xuICAgICAgICBpZiAocGFyZW50ICE9PSBfdGhpczMudGFyZ2V0Lm93bmVyRG9jdW1lbnQpIHtcbiAgICAgICAgICBwYXJlbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgX3RoaXMzLnBvc2l0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChwb3MpIHtcbiAgICAgICAgdGhpcy5wb3NpdGlvbigpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2Rpc2FibGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNhYmxlKCkge1xuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgIHJlbW92ZUNsYXNzKHRoaXMudGFyZ2V0LCB0aGlzLmdldENsYXNzKCdlbmFibGVkJykpO1xuICAgICAgcmVtb3ZlQ2xhc3ModGhpcy5lbGVtZW50LCB0aGlzLmdldENsYXNzKCdlbmFibGVkJykpO1xuICAgICAgdGhpcy5lbmFibGVkID0gZmFsc2U7XG5cbiAgICAgIGlmICh0eXBlb2YgdGhpcy5zY3JvbGxQYXJlbnRzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aGlzLnNjcm9sbFBhcmVudHMuZm9yRWFjaChmdW5jdGlvbiAocGFyZW50KSB7XG4gICAgICAgICAgcGFyZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIF90aGlzNC5wb3NpdGlvbik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2Rlc3Ryb3knLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICAgIHRoaXMuZGlzYWJsZSgpO1xuXG4gICAgICB0ZXRoZXJzLmZvckVhY2goZnVuY3Rpb24gKHRldGhlciwgaSkge1xuICAgICAgICBpZiAodGV0aGVyID09PSBfdGhpczUpIHtcbiAgICAgICAgICB0ZXRoZXJzLnNwbGljZShpLCAxKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIFJlbW92ZSBhbnkgZWxlbWVudHMgd2Ugd2VyZSB1c2luZyBmb3IgY29udmVuaWVuY2UgZnJvbSB0aGUgRE9NXG4gICAgICBpZiAodGV0aGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmVtb3ZlVXRpbEVsZW1lbnRzKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAndXBkYXRlQXR0YWNoQ2xhc3NlcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZUF0dGFjaENsYXNzZXMoZWxlbWVudEF0dGFjaCwgdGFyZ2V0QXR0YWNoKSB7XG4gICAgICB2YXIgX3RoaXM2ID0gdGhpcztcblxuICAgICAgZWxlbWVudEF0dGFjaCA9IGVsZW1lbnRBdHRhY2ggfHwgdGhpcy5hdHRhY2htZW50O1xuICAgICAgdGFyZ2V0QXR0YWNoID0gdGFyZ2V0QXR0YWNoIHx8IHRoaXMudGFyZ2V0QXR0YWNobWVudDtcbiAgICAgIHZhciBzaWRlcyA9IFsnbGVmdCcsICd0b3AnLCAnYm90dG9tJywgJ3JpZ2h0JywgJ21pZGRsZScsICdjZW50ZXInXTtcblxuICAgICAgaWYgKHR5cGVvZiB0aGlzLl9hZGRBdHRhY2hDbGFzc2VzICE9PSAndW5kZWZpbmVkJyAmJiB0aGlzLl9hZGRBdHRhY2hDbGFzc2VzLmxlbmd0aCkge1xuICAgICAgICAvLyB1cGRhdGVBdHRhY2hDbGFzc2VzIGNhbiBiZSBjYWxsZWQgbW9yZSB0aGFuIG9uY2UgaW4gYSBwb3NpdGlvbiBjYWxsLCBzb1xuICAgICAgICAvLyB3ZSBuZWVkIHRvIGNsZWFuIHVwIGFmdGVyIG91cnNlbHZlcyBzdWNoIHRoYXQgd2hlbiB0aGUgbGFzdCBkZWZlciBnZXRzXG4gICAgICAgIC8vIHJhbiBpdCBkb2Vzbid0IGFkZCBhbnkgZXh0cmEgY2xhc3NlcyBmcm9tIHByZXZpb3VzIGNhbGxzLlxuICAgICAgICB0aGlzLl9hZGRBdHRhY2hDbGFzc2VzLnNwbGljZSgwLCB0aGlzLl9hZGRBdHRhY2hDbGFzc2VzLmxlbmd0aCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgdGhpcy5fYWRkQXR0YWNoQ2xhc3NlcyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhpcy5fYWRkQXR0YWNoQ2xhc3NlcyA9IFtdO1xuICAgICAgfVxuICAgICAgdmFyIGFkZCA9IHRoaXMuX2FkZEF0dGFjaENsYXNzZXM7XG5cbiAgICAgIGlmIChlbGVtZW50QXR0YWNoLnRvcCkge1xuICAgICAgICBhZGQucHVzaCh0aGlzLmdldENsYXNzKCdlbGVtZW50LWF0dGFjaGVkJykgKyAnLScgKyBlbGVtZW50QXR0YWNoLnRvcCk7XG4gICAgICB9XG4gICAgICBpZiAoZWxlbWVudEF0dGFjaC5sZWZ0KSB7XG4gICAgICAgIGFkZC5wdXNoKHRoaXMuZ2V0Q2xhc3MoJ2VsZW1lbnQtYXR0YWNoZWQnKSArICctJyArIGVsZW1lbnRBdHRhY2gubGVmdCk7XG4gICAgICB9XG4gICAgICBpZiAodGFyZ2V0QXR0YWNoLnRvcCkge1xuICAgICAgICBhZGQucHVzaCh0aGlzLmdldENsYXNzKCd0YXJnZXQtYXR0YWNoZWQnKSArICctJyArIHRhcmdldEF0dGFjaC50b3ApO1xuICAgICAgfVxuICAgICAgaWYgKHRhcmdldEF0dGFjaC5sZWZ0KSB7XG4gICAgICAgIGFkZC5wdXNoKHRoaXMuZ2V0Q2xhc3MoJ3RhcmdldC1hdHRhY2hlZCcpICsgJy0nICsgdGFyZ2V0QXR0YWNoLmxlZnQpO1xuICAgICAgfVxuXG4gICAgICB2YXIgYWxsID0gW107XG4gICAgICBzaWRlcy5mb3JFYWNoKGZ1bmN0aW9uIChzaWRlKSB7XG4gICAgICAgIGFsbC5wdXNoKF90aGlzNi5nZXRDbGFzcygnZWxlbWVudC1hdHRhY2hlZCcpICsgJy0nICsgc2lkZSk7XG4gICAgICAgIGFsbC5wdXNoKF90aGlzNi5nZXRDbGFzcygndGFyZ2V0LWF0dGFjaGVkJykgKyAnLScgKyBzaWRlKTtcbiAgICAgIH0pO1xuXG4gICAgICBkZWZlcihmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghKHR5cGVvZiBfdGhpczYuX2FkZEF0dGFjaENsYXNzZXMgIT09ICd1bmRlZmluZWQnKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHVwZGF0ZUNsYXNzZXMoX3RoaXM2LmVsZW1lbnQsIF90aGlzNi5fYWRkQXR0YWNoQ2xhc3NlcywgYWxsKTtcbiAgICAgICAgaWYgKCEoX3RoaXM2Lm9wdGlvbnMuYWRkVGFyZ2V0Q2xhc3NlcyA9PT0gZmFsc2UpKSB7XG4gICAgICAgICAgdXBkYXRlQ2xhc3NlcyhfdGhpczYudGFyZ2V0LCBfdGhpczYuX2FkZEF0dGFjaENsYXNzZXMsIGFsbCk7XG4gICAgICAgIH1cblxuICAgICAgICBkZWxldGUgX3RoaXM2Ll9hZGRBdHRhY2hDbGFzc2VzO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncG9zaXRpb24nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwb3NpdGlvbigpIHtcbiAgICAgIHZhciBfdGhpczcgPSB0aGlzO1xuXG4gICAgICB2YXIgZmx1c2hDaGFuZ2VzID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGFyZ3VtZW50c1swXTtcblxuICAgICAgLy8gZmx1c2hDaGFuZ2VzIGNvbW1pdHMgdGhlIGNoYW5nZXMgaW1tZWRpYXRlbHksIGxlYXZlIHRydWUgdW5sZXNzIHlvdSBhcmUgcG9zaXRpb25pbmcgbXVsdGlwbGVcbiAgICAgIC8vIHRldGhlcnMgKGluIHdoaWNoIGNhc2UgY2FsbCBUZXRoZXIuVXRpbHMuZmx1c2ggeW91cnNlbGYgd2hlbiB5b3UncmUgZG9uZSlcblxuICAgICAgaWYgKCF0aGlzLmVuYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmNsZWFyQ2FjaGUoKTtcblxuICAgICAgLy8gVHVybiAnYXV0bycgYXR0YWNobWVudHMgaW50byB0aGUgYXBwcm9wcmlhdGUgY29ybmVyIG9yIGVkZ2VcbiAgICAgIHZhciB0YXJnZXRBdHRhY2htZW50ID0gYXV0b1RvRml4ZWRBdHRhY2htZW50KHRoaXMudGFyZ2V0QXR0YWNobWVudCwgdGhpcy5hdHRhY2htZW50KTtcblxuICAgICAgdGhpcy51cGRhdGVBdHRhY2hDbGFzc2VzKHRoaXMuYXR0YWNobWVudCwgdGFyZ2V0QXR0YWNobWVudCk7XG5cbiAgICAgIHZhciBlbGVtZW50UG9zID0gdGhpcy5jYWNoZSgnZWxlbWVudC1ib3VuZHMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBnZXRCb3VuZHMoX3RoaXM3LmVsZW1lbnQpO1xuICAgICAgfSk7XG5cbiAgICAgIHZhciB3aWR0aCA9IGVsZW1lbnRQb3Mud2lkdGg7XG4gICAgICB2YXIgaGVpZ2h0ID0gZWxlbWVudFBvcy5oZWlnaHQ7XG5cbiAgICAgIGlmICh3aWR0aCA9PT0gMCAmJiBoZWlnaHQgPT09IDAgJiYgdHlwZW9mIHRoaXMubGFzdFNpemUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHZhciBfbGFzdFNpemUgPSB0aGlzLmxhc3RTaXplO1xuXG4gICAgICAgIC8vIFdlIGNhY2hlIHRoZSBoZWlnaHQgYW5kIHdpZHRoIHRvIG1ha2UgaXQgcG9zc2libGUgdG8gcG9zaXRpb24gZWxlbWVudHMgdGhhdCBhcmVcbiAgICAgICAgLy8gZ2V0dGluZyBoaWRkZW4uXG4gICAgICAgIHdpZHRoID0gX2xhc3RTaXplLndpZHRoO1xuICAgICAgICBoZWlnaHQgPSBfbGFzdFNpemUuaGVpZ2h0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5sYXN0U2l6ZSA9IHsgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCB9O1xuICAgICAgfVxuXG4gICAgICB2YXIgdGFyZ2V0UG9zID0gdGhpcy5jYWNoZSgndGFyZ2V0LWJvdW5kcycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzNy5nZXRUYXJnZXRCb3VuZHMoKTtcbiAgICAgIH0pO1xuICAgICAgdmFyIHRhcmdldFNpemUgPSB0YXJnZXRQb3M7XG5cbiAgICAgIC8vIEdldCBhbiBhY3R1YWwgcHggb2Zmc2V0IGZyb20gdGhlIGF0dGFjaG1lbnRcbiAgICAgIHZhciBvZmZzZXQgPSBvZmZzZXRUb1B4KGF0dGFjaG1lbnRUb09mZnNldCh0aGlzLmF0dGFjaG1lbnQpLCB7IHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQgfSk7XG4gICAgICB2YXIgdGFyZ2V0T2Zmc2V0ID0gb2Zmc2V0VG9QeChhdHRhY2htZW50VG9PZmZzZXQodGFyZ2V0QXR0YWNobWVudCksIHRhcmdldFNpemUpO1xuXG4gICAgICB2YXIgbWFudWFsT2Zmc2V0ID0gb2Zmc2V0VG9QeCh0aGlzLm9mZnNldCwgeyB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0IH0pO1xuICAgICAgdmFyIG1hbnVhbFRhcmdldE9mZnNldCA9IG9mZnNldFRvUHgodGhpcy50YXJnZXRPZmZzZXQsIHRhcmdldFNpemUpO1xuXG4gICAgICAvLyBBZGQgdGhlIG1hbnVhbGx5IHByb3ZpZGVkIG9mZnNldFxuICAgICAgb2Zmc2V0ID0gYWRkT2Zmc2V0KG9mZnNldCwgbWFudWFsT2Zmc2V0KTtcbiAgICAgIHRhcmdldE9mZnNldCA9IGFkZE9mZnNldCh0YXJnZXRPZmZzZXQsIG1hbnVhbFRhcmdldE9mZnNldCk7XG5cbiAgICAgIC8vIEl0J3Mgbm93IG91ciBnb2FsIHRvIG1ha2UgKGVsZW1lbnQgcG9zaXRpb24gKyBvZmZzZXQpID09ICh0YXJnZXQgcG9zaXRpb24gKyB0YXJnZXQgb2Zmc2V0KVxuICAgICAgdmFyIGxlZnQgPSB0YXJnZXRQb3MubGVmdCArIHRhcmdldE9mZnNldC5sZWZ0IC0gb2Zmc2V0LmxlZnQ7XG4gICAgICB2YXIgdG9wID0gdGFyZ2V0UG9zLnRvcCArIHRhcmdldE9mZnNldC50b3AgLSBvZmZzZXQudG9wO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IFRldGhlckJhc2UubW9kdWxlcy5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgX21vZHVsZTIgPSBUZXRoZXJCYXNlLm1vZHVsZXNbaV07XG4gICAgICAgIHZhciByZXQgPSBfbW9kdWxlMi5wb3NpdGlvbi5jYWxsKHRoaXMsIHtcbiAgICAgICAgICBsZWZ0OiBsZWZ0LFxuICAgICAgICAgIHRvcDogdG9wLFxuICAgICAgICAgIHRhcmdldEF0dGFjaG1lbnQ6IHRhcmdldEF0dGFjaG1lbnQsXG4gICAgICAgICAgdGFyZ2V0UG9zOiB0YXJnZXRQb3MsXG4gICAgICAgICAgZWxlbWVudFBvczogZWxlbWVudFBvcyxcbiAgICAgICAgICBvZmZzZXQ6IG9mZnNldCxcbiAgICAgICAgICB0YXJnZXRPZmZzZXQ6IHRhcmdldE9mZnNldCxcbiAgICAgICAgICBtYW51YWxPZmZzZXQ6IG1hbnVhbE9mZnNldCxcbiAgICAgICAgICBtYW51YWxUYXJnZXRPZmZzZXQ6IG1hbnVhbFRhcmdldE9mZnNldCxcbiAgICAgICAgICBzY3JvbGxiYXJTaXplOiBzY3JvbGxiYXJTaXplLFxuICAgICAgICAgIGF0dGFjaG1lbnQ6IHRoaXMuYXR0YWNobWVudFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAocmV0ID09PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcmV0ID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgcmV0ICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRvcCA9IHJldC50b3A7XG4gICAgICAgICAgbGVmdCA9IHJldC5sZWZ0O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFdlIGRlc2NyaWJlIHRoZSBwb3NpdGlvbiB0aHJlZSBkaWZmZXJlbnQgd2F5cyB0byBnaXZlIHRoZSBvcHRpbWl6ZXJcbiAgICAgIC8vIGEgY2hhbmNlIHRvIGRlY2lkZSB0aGUgYmVzdCBwb3NzaWJsZSB3YXkgdG8gcG9zaXRpb24gdGhlIGVsZW1lbnRcbiAgICAgIC8vIHdpdGggdGhlIGZld2VzdCByZXBhaW50cy5cbiAgICAgIHZhciBuZXh0ID0ge1xuICAgICAgICAvLyBJdCdzIHBvc2l0aW9uIHJlbGF0aXZlIHRvIHRoZSBwYWdlIChhYnNvbHV0ZSBwb3NpdGlvbmluZyB3aGVuXG4gICAgICAgIC8vIHRoZSBlbGVtZW50IGlzIGEgY2hpbGQgb2YgdGhlIGJvZHkpXG4gICAgICAgIHBhZ2U6IHtcbiAgICAgICAgICB0b3A6IHRvcCxcbiAgICAgICAgICBsZWZ0OiBsZWZ0XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gSXQncyBwb3NpdGlvbiByZWxhdGl2ZSB0byB0aGUgdmlld3BvcnQgKGZpeGVkIHBvc2l0aW9uaW5nKVxuICAgICAgICB2aWV3cG9ydDoge1xuICAgICAgICAgIHRvcDogdG9wIC0gcGFnZVlPZmZzZXQsXG4gICAgICAgICAgYm90dG9tOiBwYWdlWU9mZnNldCAtIHRvcCAtIGhlaWdodCArIGlubmVySGVpZ2h0LFxuICAgICAgICAgIGxlZnQ6IGxlZnQgLSBwYWdlWE9mZnNldCxcbiAgICAgICAgICByaWdodDogcGFnZVhPZmZzZXQgLSBsZWZ0IC0gd2lkdGggKyBpbm5lcldpZHRoXG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHZhciBkb2MgPSB0aGlzLnRhcmdldC5vd25lckRvY3VtZW50O1xuICAgICAgdmFyIHdpbiA9IGRvYy5kZWZhdWx0VmlldztcblxuICAgICAgdmFyIHNjcm9sbGJhclNpemUgPSB1bmRlZmluZWQ7XG4gICAgICBpZiAod2luLmlubmVySGVpZ2h0ID4gZG9jLmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpIHtcbiAgICAgICAgc2Nyb2xsYmFyU2l6ZSA9IHRoaXMuY2FjaGUoJ3Njcm9sbGJhci1zaXplJywgZ2V0U2Nyb2xsQmFyU2l6ZSk7XG4gICAgICAgIG5leHQudmlld3BvcnQuYm90dG9tIC09IHNjcm9sbGJhclNpemUuaGVpZ2h0O1xuICAgICAgfVxuXG4gICAgICBpZiAod2luLmlubmVyV2lkdGggPiBkb2MuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKSB7XG4gICAgICAgIHNjcm9sbGJhclNpemUgPSB0aGlzLmNhY2hlKCdzY3JvbGxiYXItc2l6ZScsIGdldFNjcm9sbEJhclNpemUpO1xuICAgICAgICBuZXh0LnZpZXdwb3J0LnJpZ2h0IC09IHNjcm9sbGJhclNpemUud2lkdGg7XG4gICAgICB9XG5cbiAgICAgIGlmIChbJycsICdzdGF0aWMnXS5pbmRleE9mKGRvYy5ib2R5LnN0eWxlLnBvc2l0aW9uKSA9PT0gLTEgfHwgWycnLCAnc3RhdGljJ10uaW5kZXhPZihkb2MuYm9keS5wYXJlbnRFbGVtZW50LnN0eWxlLnBvc2l0aW9uKSA9PT0gLTEpIHtcbiAgICAgICAgLy8gQWJzb2x1dGUgcG9zaXRpb25pbmcgaW4gdGhlIGJvZHkgd2lsbCBiZSByZWxhdGl2ZSB0byB0aGUgcGFnZSwgbm90IHRoZSAnaW5pdGlhbCBjb250YWluaW5nIGJsb2NrJ1xuICAgICAgICBuZXh0LnBhZ2UuYm90dG9tID0gZG9jLmJvZHkuc2Nyb2xsSGVpZ2h0IC0gdG9wIC0gaGVpZ2h0O1xuICAgICAgICBuZXh0LnBhZ2UucmlnaHQgPSBkb2MuYm9keS5zY3JvbGxXaWR0aCAtIGxlZnQgLSB3aWR0aDtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub3B0aW1pemF0aW9ucyAhPT0gJ3VuZGVmaW5lZCcgJiYgdGhpcy5vcHRpb25zLm9wdGltaXphdGlvbnMubW92ZUVsZW1lbnQgIT09IGZhbHNlICYmICEodHlwZW9mIHRoaXMudGFyZ2V0TW9kaWZpZXIgIT09ICd1bmRlZmluZWQnKSkge1xuICAgICAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBvZmZzZXRQYXJlbnQgPSBfdGhpczcuY2FjaGUoJ3RhcmdldC1vZmZzZXRwYXJlbnQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0T2Zmc2V0UGFyZW50KF90aGlzNy50YXJnZXQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHZhciBvZmZzZXRQb3NpdGlvbiA9IF90aGlzNy5jYWNoZSgndGFyZ2V0LW9mZnNldHBhcmVudC1ib3VuZHMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0Qm91bmRzKG9mZnNldFBhcmVudCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdmFyIG9mZnNldFBhcmVudFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShvZmZzZXRQYXJlbnQpO1xuICAgICAgICAgIHZhciBvZmZzZXRQYXJlbnRTaXplID0gb2Zmc2V0UG9zaXRpb247XG5cbiAgICAgICAgICB2YXIgb2Zmc2V0Qm9yZGVyID0ge307XG4gICAgICAgICAgWydUb3AnLCAnTGVmdCcsICdCb3R0b20nLCAnUmlnaHQnXS5mb3JFYWNoKGZ1bmN0aW9uIChzaWRlKSB7XG4gICAgICAgICAgICBvZmZzZXRCb3JkZXJbc2lkZS50b0xvd2VyQ2FzZSgpXSA9IHBhcnNlRmxvYXQob2Zmc2V0UGFyZW50U3R5bGVbJ2JvcmRlcicgKyBzaWRlICsgJ1dpZHRoJ10pO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgb2Zmc2V0UG9zaXRpb24ucmlnaHQgPSBkb2MuYm9keS5zY3JvbGxXaWR0aCAtIG9mZnNldFBvc2l0aW9uLmxlZnQgLSBvZmZzZXRQYXJlbnRTaXplLndpZHRoICsgb2Zmc2V0Qm9yZGVyLnJpZ2h0O1xuICAgICAgICAgIG9mZnNldFBvc2l0aW9uLmJvdHRvbSA9IGRvYy5ib2R5LnNjcm9sbEhlaWdodCAtIG9mZnNldFBvc2l0aW9uLnRvcCAtIG9mZnNldFBhcmVudFNpemUuaGVpZ2h0ICsgb2Zmc2V0Qm9yZGVyLmJvdHRvbTtcblxuICAgICAgICAgIGlmIChuZXh0LnBhZ2UudG9wID49IG9mZnNldFBvc2l0aW9uLnRvcCArIG9mZnNldEJvcmRlci50b3AgJiYgbmV4dC5wYWdlLmJvdHRvbSA+PSBvZmZzZXRQb3NpdGlvbi5ib3R0b20pIHtcbiAgICAgICAgICAgIGlmIChuZXh0LnBhZ2UubGVmdCA+PSBvZmZzZXRQb3NpdGlvbi5sZWZ0ICsgb2Zmc2V0Qm9yZGVyLmxlZnQgJiYgbmV4dC5wYWdlLnJpZ2h0ID49IG9mZnNldFBvc2l0aW9uLnJpZ2h0KSB7XG4gICAgICAgICAgICAgIC8vIFdlJ3JlIHdpdGhpbiB0aGUgdmlzaWJsZSBwYXJ0IG9mIHRoZSB0YXJnZXQncyBzY3JvbGwgcGFyZW50XG4gICAgICAgICAgICAgIHZhciBzY3JvbGxUb3AgPSBvZmZzZXRQYXJlbnQuc2Nyb2xsVG9wO1xuICAgICAgICAgICAgICB2YXIgc2Nyb2xsTGVmdCA9IG9mZnNldFBhcmVudC5zY3JvbGxMZWZ0O1xuXG4gICAgICAgICAgICAgIC8vIEl0J3MgcG9zaXRpb24gcmVsYXRpdmUgdG8gdGhlIHRhcmdldCdzIG9mZnNldCBwYXJlbnQgKGFic29sdXRlIHBvc2l0aW9uaW5nIHdoZW5cbiAgICAgICAgICAgICAgLy8gdGhlIGVsZW1lbnQgaXMgbW92ZWQgdG8gYmUgYSBjaGlsZCBvZiB0aGUgdGFyZ2V0J3Mgb2Zmc2V0IHBhcmVudCkuXG4gICAgICAgICAgICAgIG5leHQub2Zmc2V0ID0ge1xuICAgICAgICAgICAgICAgIHRvcDogbmV4dC5wYWdlLnRvcCAtIG9mZnNldFBvc2l0aW9uLnRvcCArIHNjcm9sbFRvcCAtIG9mZnNldEJvcmRlci50b3AsXG4gICAgICAgICAgICAgICAgbGVmdDogbmV4dC5wYWdlLmxlZnQgLSBvZmZzZXRQb3NpdGlvbi5sZWZ0ICsgc2Nyb2xsTGVmdCAtIG9mZnNldEJvcmRlci5sZWZ0XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KSgpO1xuICAgICAgfVxuXG4gICAgICAvLyBXZSBjb3VsZCBhbHNvIHRyYXZlbCB1cCB0aGUgRE9NIGFuZCB0cnkgZWFjaCBjb250YWluaW5nIGNvbnRleHQsIHJhdGhlciB0aGFuIG9ubHlcbiAgICAgIC8vIGxvb2tpbmcgYXQgdGhlIGJvZHksIGJ1dCB3ZSdyZSBnb25uYSBnZXQgZGltaW5pc2hpbmcgcmV0dXJucy5cblxuICAgICAgdGhpcy5tb3ZlKG5leHQpO1xuXG4gICAgICB0aGlzLmhpc3RvcnkudW5zaGlmdChuZXh0KTtcblxuICAgICAgaWYgKHRoaXMuaGlzdG9yeS5sZW5ndGggPiAzKSB7XG4gICAgICAgIHRoaXMuaGlzdG9yeS5wb3AoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGZsdXNoQ2hhbmdlcykge1xuICAgICAgICBmbHVzaCgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBUSEUgSVNTVUVcbiAgfSwge1xuICAgIGtleTogJ21vdmUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtb3ZlKHBvcykge1xuICAgICAgdmFyIF90aGlzOCA9IHRoaXM7XG5cbiAgICAgIGlmICghKHR5cGVvZiB0aGlzLmVsZW1lbnQucGFyZW50Tm9kZSAhPT0gJ3VuZGVmaW5lZCcpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHNhbWUgPSB7fTtcblxuICAgICAgZm9yICh2YXIgdHlwZSBpbiBwb3MpIHtcbiAgICAgICAgc2FtZVt0eXBlXSA9IHt9O1xuXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBwb3NbdHlwZV0pIHtcbiAgICAgICAgICB2YXIgZm91bmQgPSBmYWxzZTtcblxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5oaXN0b3J5Lmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgcG9pbnQgPSB0aGlzLmhpc3RvcnlbaV07XG4gICAgICAgICAgICBpZiAodHlwZW9mIHBvaW50W3R5cGVdICE9PSAndW5kZWZpbmVkJyAmJiAhd2l0aGluKHBvaW50W3R5cGVdW2tleV0sIHBvc1t0eXBlXVtrZXldKSkge1xuICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghZm91bmQpIHtcbiAgICAgICAgICAgIHNhbWVbdHlwZV1ba2V5XSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBjc3MgPSB7IHRvcDogJycsIGxlZnQ6ICcnLCByaWdodDogJycsIGJvdHRvbTogJycgfTtcblxuICAgICAgdmFyIHRyYW5zY3JpYmUgPSBmdW5jdGlvbiB0cmFuc2NyaWJlKF9zYW1lLCBfcG9zKSB7XG4gICAgICAgIHZhciBoYXNPcHRpbWl6YXRpb25zID0gdHlwZW9mIF90aGlzOC5vcHRpb25zLm9wdGltaXphdGlvbnMgIT09ICd1bmRlZmluZWQnO1xuICAgICAgICB2YXIgZ3B1ID0gaGFzT3B0aW1pemF0aW9ucyA/IF90aGlzOC5vcHRpb25zLm9wdGltaXphdGlvbnMuZ3B1IDogbnVsbDtcbiAgICAgICAgaWYgKGdwdSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICB2YXIgeVBvcyA9IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgeFBvcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBpZiAoX3NhbWUudG9wKSB7XG4gICAgICAgICAgICBjc3MudG9wID0gMDtcbiAgICAgICAgICAgIHlQb3MgPSBfcG9zLnRvcDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY3NzLmJvdHRvbSA9IDA7XG4gICAgICAgICAgICB5UG9zID0gLV9wb3MuYm90dG9tO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChfc2FtZS5sZWZ0KSB7XG4gICAgICAgICAgICBjc3MubGVmdCA9IDA7XG4gICAgICAgICAgICB4UG9zID0gX3Bvcy5sZWZ0O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjc3MucmlnaHQgPSAwO1xuICAgICAgICAgICAgeFBvcyA9IC1fcG9zLnJpZ2h0O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh3aW5kb3cubWF0Y2hNZWRpYSkge1xuICAgICAgICAgICAgLy8gSHViU3BvdC90ZXRoZXIjMjA3XG4gICAgICAgICAgICB2YXIgcmV0aW5hID0gd2luZG93Lm1hdGNoTWVkaWEoJ29ubHkgc2NyZWVuIGFuZCAobWluLXJlc29sdXRpb246IDEuM2RwcHgpJykubWF0Y2hlcyB8fCB3aW5kb3cubWF0Y2hNZWRpYSgnb25seSBzY3JlZW4gYW5kICgtd2Via2l0LW1pbi1kZXZpY2UtcGl4ZWwtcmF0aW86IDEuMyknKS5tYXRjaGVzO1xuICAgICAgICAgICAgaWYgKCFyZXRpbmEpIHtcbiAgICAgICAgICAgICAgeFBvcyA9IE1hdGgucm91bmQoeFBvcyk7XG4gICAgICAgICAgICAgIHlQb3MgPSBNYXRoLnJvdW5kKHlQb3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNzc1t0cmFuc2Zvcm1LZXldID0gJ3RyYW5zbGF0ZVgoJyArIHhQb3MgKyAncHgpIHRyYW5zbGF0ZVkoJyArIHlQb3MgKyAncHgpJztcblxuICAgICAgICAgIGlmICh0cmFuc2Zvcm1LZXkgIT09ICdtc1RyYW5zZm9ybScpIHtcbiAgICAgICAgICAgIC8vIFRoZSBaIHRyYW5zZm9ybSB3aWxsIGtlZXAgdGhpcyBpbiB0aGUgR1BVIChmYXN0ZXIsIGFuZCBwcmV2ZW50cyBhcnRpZmFjdHMpLFxuICAgICAgICAgICAgLy8gYnV0IElFOSBkb2Vzbid0IHN1cHBvcnQgM2QgdHJhbnNmb3JtcyBhbmQgd2lsbCBjaG9rZS5cbiAgICAgICAgICAgIGNzc1t0cmFuc2Zvcm1LZXldICs9IFwiIHRyYW5zbGF0ZVooMClcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKF9zYW1lLnRvcCkge1xuICAgICAgICAgICAgY3NzLnRvcCA9IF9wb3MudG9wICsgJ3B4JztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY3NzLmJvdHRvbSA9IF9wb3MuYm90dG9tICsgJ3B4JztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoX3NhbWUubGVmdCkge1xuICAgICAgICAgICAgY3NzLmxlZnQgPSBfcG9zLmxlZnQgKyAncHgnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjc3MucmlnaHQgPSBfcG9zLnJpZ2h0ICsgJ3B4JztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHZhciBtb3ZlZCA9IGZhbHNlO1xuICAgICAgaWYgKChzYW1lLnBhZ2UudG9wIHx8IHNhbWUucGFnZS5ib3R0b20pICYmIChzYW1lLnBhZ2UubGVmdCB8fCBzYW1lLnBhZ2UucmlnaHQpKSB7XG4gICAgICAgIGNzcy5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIHRyYW5zY3JpYmUoc2FtZS5wYWdlLCBwb3MucGFnZSk7XG4gICAgICB9IGVsc2UgaWYgKChzYW1lLnZpZXdwb3J0LnRvcCB8fCBzYW1lLnZpZXdwb3J0LmJvdHRvbSkgJiYgKHNhbWUudmlld3BvcnQubGVmdCB8fCBzYW1lLnZpZXdwb3J0LnJpZ2h0KSkge1xuICAgICAgICBjc3MucG9zaXRpb24gPSAnZml4ZWQnO1xuICAgICAgICB0cmFuc2NyaWJlKHNhbWUudmlld3BvcnQsIHBvcy52aWV3cG9ydCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBzYW1lLm9mZnNldCAhPT0gJ3VuZGVmaW5lZCcgJiYgc2FtZS5vZmZzZXQudG9wICYmIHNhbWUub2Zmc2V0LmxlZnQpIHtcbiAgICAgICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjc3MucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICAgIHZhciBvZmZzZXRQYXJlbnQgPSBfdGhpczguY2FjaGUoJ3RhcmdldC1vZmZzZXRwYXJlbnQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0T2Zmc2V0UGFyZW50KF90aGlzOC50YXJnZXQpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYgKGdldE9mZnNldFBhcmVudChfdGhpczguZWxlbWVudCkgIT09IG9mZnNldFBhcmVudCkge1xuICAgICAgICAgICAgZGVmZXIoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBfdGhpczguZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKF90aGlzOC5lbGVtZW50KTtcbiAgICAgICAgICAgICAgb2Zmc2V0UGFyZW50LmFwcGVuZENoaWxkKF90aGlzOC5lbGVtZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRyYW5zY3JpYmUoc2FtZS5vZmZzZXQsIHBvcy5vZmZzZXQpO1xuICAgICAgICAgIG1vdmVkID0gdHJ1ZTtcbiAgICAgICAgfSkoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNzcy5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIHRyYW5zY3JpYmUoeyB0b3A6IHRydWUsIGxlZnQ6IHRydWUgfSwgcG9zLnBhZ2UpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIW1vdmVkKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYm9keUVsZW1lbnQpIHtcbiAgICAgICAgICB0aGlzLm9wdGlvbnMuYm9keUVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgb2Zmc2V0UGFyZW50SXNCb2R5ID0gdHJ1ZTtcbiAgICAgICAgICB2YXIgY3VycmVudE5vZGUgPSB0aGlzLmVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICAgICAgICB3aGlsZSAoY3VycmVudE5vZGUgJiYgY3VycmVudE5vZGUubm9kZVR5cGUgPT09IDEgJiYgY3VycmVudE5vZGUudGFnTmFtZSAhPT0gJ0JPRFknKSB7XG4gICAgICAgICAgICBpZiAoZ2V0Q29tcHV0ZWRTdHlsZShjdXJyZW50Tm9kZSkucG9zaXRpb24gIT09ICdzdGF0aWMnKSB7XG4gICAgICAgICAgICAgIG9mZnNldFBhcmVudElzQm9keSA9IGZhbHNlO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY3VycmVudE5vZGUgPSBjdXJyZW50Tm9kZS5wYXJlbnROb2RlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghb2Zmc2V0UGFyZW50SXNCb2R5KSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmVsZW1lbnQpO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50Lm93bmVyRG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBBbnkgY3NzIGNoYW5nZSB3aWxsIHRyaWdnZXIgYSByZXBhaW50LCBzbyBsZXQncyBhdm9pZCBvbmUgaWYgbm90aGluZyBjaGFuZ2VkXG4gICAgICB2YXIgd3JpdGVDU1MgPSB7fTtcbiAgICAgIHZhciB3cml0ZSA9IGZhbHNlO1xuICAgICAgZm9yICh2YXIga2V5IGluIGNzcykge1xuICAgICAgICB2YXIgdmFsID0gY3NzW2tleV07XG4gICAgICAgIHZhciBlbFZhbCA9IHRoaXMuZWxlbWVudC5zdHlsZVtrZXldO1xuXG4gICAgICAgIGlmIChlbFZhbCAhPT0gdmFsKSB7XG4gICAgICAgICAgd3JpdGUgPSB0cnVlO1xuICAgICAgICAgIHdyaXRlQ1NTW2tleV0gPSB2YWw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHdyaXRlKSB7XG4gICAgICAgIGRlZmVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBleHRlbmQoX3RoaXM4LmVsZW1lbnQuc3R5bGUsIHdyaXRlQ1NTKTtcbiAgICAgICAgICBfdGhpczgudHJpZ2dlcigncmVwb3NpdGlvbmVkJyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBUZXRoZXJDbGFzcztcbn0pKEV2ZW50ZWQpO1xuXG5UZXRoZXJDbGFzcy5tb2R1bGVzID0gW107XG5cblRldGhlckJhc2UucG9zaXRpb24gPSBwb3NpdGlvbjtcblxudmFyIFRldGhlciA9IGV4dGVuZChUZXRoZXJDbGFzcywgVGV0aGVyQmFzZSk7XG4vKiBnbG9iYWxzIFRldGhlckJhc2UgKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgX3NsaWNlZFRvQXJyYXkgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBzbGljZUl0ZXJhdG9yKGFyciwgaSkgeyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVsncmV0dXJuJ10pIF9pWydyZXR1cm4nXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH0gcmV0dXJuIGZ1bmN0aW9uIChhcnIsIGkpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyByZXR1cm4gYXJyOyB9IGVsc2UgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkgeyByZXR1cm4gc2xpY2VJdGVyYXRvcihhcnIsIGkpOyB9IGVsc2UgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlJyk7IH0gfTsgfSkoKTtcblxudmFyIF9UZXRoZXJCYXNlJFV0aWxzID0gVGV0aGVyQmFzZS5VdGlscztcbnZhciBnZXRCb3VuZHMgPSBfVGV0aGVyQmFzZSRVdGlscy5nZXRCb3VuZHM7XG52YXIgZXh0ZW5kID0gX1RldGhlckJhc2UkVXRpbHMuZXh0ZW5kO1xudmFyIHVwZGF0ZUNsYXNzZXMgPSBfVGV0aGVyQmFzZSRVdGlscy51cGRhdGVDbGFzc2VzO1xudmFyIGRlZmVyID0gX1RldGhlckJhc2UkVXRpbHMuZGVmZXI7XG5cbnZhciBCT1VORFNfRk9STUFUID0gWydsZWZ0JywgJ3RvcCcsICdyaWdodCcsICdib3R0b20nXTtcblxuZnVuY3Rpb24gZ2V0Qm91bmRpbmdSZWN0KHRldGhlciwgdG8pIHtcbiAgaWYgKHRvID09PSAnc2Nyb2xsUGFyZW50Jykge1xuICAgIHRvID0gdGV0aGVyLnNjcm9sbFBhcmVudHNbMF07XG4gIH0gZWxzZSBpZiAodG8gPT09ICd3aW5kb3cnKSB7XG4gICAgdG8gPSBbcGFnZVhPZmZzZXQsIHBhZ2VZT2Zmc2V0LCBpbm5lcldpZHRoICsgcGFnZVhPZmZzZXQsIGlubmVySGVpZ2h0ICsgcGFnZVlPZmZzZXRdO1xuICB9XG5cbiAgaWYgKHRvID09PSBkb2N1bWVudCkge1xuICAgIHRvID0gdG8uZG9jdW1lbnRFbGVtZW50O1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0by5ub2RlVHlwZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIG5vZGUgPSB0bztcbiAgICAgIHZhciBzaXplID0gZ2V0Qm91bmRzKHRvKTtcbiAgICAgIHZhciBwb3MgPSBzaXplO1xuICAgICAgdmFyIHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZSh0byk7XG5cbiAgICAgIHRvID0gW3Bvcy5sZWZ0LCBwb3MudG9wLCBzaXplLndpZHRoICsgcG9zLmxlZnQsIHNpemUuaGVpZ2h0ICsgcG9zLnRvcF07XG5cbiAgICAgIC8vIEFjY291bnQgYW55IHBhcmVudCBGcmFtZXMgc2Nyb2xsIG9mZnNldFxuICAgICAgaWYgKG5vZGUub3duZXJEb2N1bWVudCAhPT0gZG9jdW1lbnQpIHtcbiAgICAgICAgdmFyIHdpbiA9IG5vZGUub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldztcbiAgICAgICAgdG9bMF0gKz0gd2luLnBhZ2VYT2Zmc2V0O1xuICAgICAgICB0b1sxXSArPSB3aW4ucGFnZVlPZmZzZXQ7XG4gICAgICAgIHRvWzJdICs9IHdpbi5wYWdlWE9mZnNldDtcbiAgICAgICAgdG9bM10gKz0gd2luLnBhZ2VZT2Zmc2V0O1xuICAgICAgfVxuXG4gICAgICBCT1VORFNfRk9STUFULmZvckVhY2goZnVuY3Rpb24gKHNpZGUsIGkpIHtcbiAgICAgICAgc2lkZSA9IHNpZGVbMF0udG9VcHBlckNhc2UoKSArIHNpZGUuc3Vic3RyKDEpO1xuICAgICAgICBpZiAoc2lkZSA9PT0gJ1RvcCcgfHwgc2lkZSA9PT0gJ0xlZnQnKSB7XG4gICAgICAgICAgdG9baV0gKz0gcGFyc2VGbG9hdChzdHlsZVsnYm9yZGVyJyArIHNpZGUgKyAnV2lkdGgnXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdG9baV0gLT0gcGFyc2VGbG9hdChzdHlsZVsnYm9yZGVyJyArIHNpZGUgKyAnV2lkdGgnXSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pKCk7XG4gIH1cblxuICByZXR1cm4gdG87XG59XG5cblRldGhlckJhc2UubW9kdWxlcy5wdXNoKHtcbiAgcG9zaXRpb246IGZ1bmN0aW9uIHBvc2l0aW9uKF9yZWYpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIHRvcCA9IF9yZWYudG9wO1xuICAgIHZhciBsZWZ0ID0gX3JlZi5sZWZ0O1xuICAgIHZhciB0YXJnZXRBdHRhY2htZW50ID0gX3JlZi50YXJnZXRBdHRhY2htZW50O1xuXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuY29uc3RyYWludHMpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHZhciBfY2FjaGUgPSB0aGlzLmNhY2hlKCdlbGVtZW50LWJvdW5kcycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBnZXRCb3VuZHMoX3RoaXMuZWxlbWVudCk7XG4gICAgfSk7XG5cbiAgICB2YXIgaGVpZ2h0ID0gX2NhY2hlLmhlaWdodDtcbiAgICB2YXIgd2lkdGggPSBfY2FjaGUud2lkdGg7XG5cbiAgICBpZiAod2lkdGggPT09IDAgJiYgaGVpZ2h0ID09PSAwICYmIHR5cGVvZiB0aGlzLmxhc3RTaXplICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIF9sYXN0U2l6ZSA9IHRoaXMubGFzdFNpemU7XG5cbiAgICAgIC8vIEhhbmRsZSB0aGUgaXRlbSBnZXR0aW5nIGhpZGRlbiBhcyBhIHJlc3VsdCBvZiBvdXIgcG9zaXRpb25pbmcgd2l0aG91dCBnbGl0Y2hpbmdcbiAgICAgIC8vIHRoZSBjbGFzc2VzIGluIGFuZCBvdXRcbiAgICAgIHdpZHRoID0gX2xhc3RTaXplLndpZHRoO1xuICAgICAgaGVpZ2h0ID0gX2xhc3RTaXplLmhlaWdodDtcbiAgICB9XG5cbiAgICB2YXIgdGFyZ2V0U2l6ZSA9IHRoaXMuY2FjaGUoJ3RhcmdldC1ib3VuZHMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMuZ2V0VGFyZ2V0Qm91bmRzKCk7XG4gICAgfSk7XG5cbiAgICB2YXIgdGFyZ2V0SGVpZ2h0ID0gdGFyZ2V0U2l6ZS5oZWlnaHQ7XG4gICAgdmFyIHRhcmdldFdpZHRoID0gdGFyZ2V0U2l6ZS53aWR0aDtcblxuICAgIHZhciBhbGxDbGFzc2VzID0gW3RoaXMuZ2V0Q2xhc3MoJ3Bpbm5lZCcpLCB0aGlzLmdldENsYXNzKCdvdXQtb2YtYm91bmRzJyldO1xuXG4gICAgdGhpcy5vcHRpb25zLmNvbnN0cmFpbnRzLmZvckVhY2goZnVuY3Rpb24gKGNvbnN0cmFpbnQpIHtcbiAgICAgIHZhciBvdXRPZkJvdW5kc0NsYXNzID0gY29uc3RyYWludC5vdXRPZkJvdW5kc0NsYXNzO1xuICAgICAgdmFyIHBpbm5lZENsYXNzID0gY29uc3RyYWludC5waW5uZWRDbGFzcztcblxuICAgICAgaWYgKG91dE9mQm91bmRzQ2xhc3MpIHtcbiAgICAgICAgYWxsQ2xhc3Nlcy5wdXNoKG91dE9mQm91bmRzQ2xhc3MpO1xuICAgICAgfVxuICAgICAgaWYgKHBpbm5lZENsYXNzKSB7XG4gICAgICAgIGFsbENsYXNzZXMucHVzaChwaW5uZWRDbGFzcyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBhbGxDbGFzc2VzLmZvckVhY2goZnVuY3Rpb24gKGNscykge1xuICAgICAgWydsZWZ0JywgJ3RvcCcsICdyaWdodCcsICdib3R0b20nXS5mb3JFYWNoKGZ1bmN0aW9uIChzaWRlKSB7XG4gICAgICAgIGFsbENsYXNzZXMucHVzaChjbHMgKyAnLScgKyBzaWRlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgdmFyIGFkZENsYXNzZXMgPSBbXTtcblxuICAgIHZhciB0QXR0YWNobWVudCA9IGV4dGVuZCh7fSwgdGFyZ2V0QXR0YWNobWVudCk7XG4gICAgdmFyIGVBdHRhY2htZW50ID0gZXh0ZW5kKHt9LCB0aGlzLmF0dGFjaG1lbnQpO1xuXG4gICAgdGhpcy5vcHRpb25zLmNvbnN0cmFpbnRzLmZvckVhY2goZnVuY3Rpb24gKGNvbnN0cmFpbnQpIHtcbiAgICAgIHZhciB0byA9IGNvbnN0cmFpbnQudG87XG4gICAgICB2YXIgYXR0YWNobWVudCA9IGNvbnN0cmFpbnQuYXR0YWNobWVudDtcbiAgICAgIHZhciBwaW4gPSBjb25zdHJhaW50LnBpbjtcblxuICAgICAgaWYgKHR5cGVvZiBhdHRhY2htZW50ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBhdHRhY2htZW50ID0gJyc7XG4gICAgICB9XG5cbiAgICAgIHZhciBjaGFuZ2VBdHRhY2hYID0gdW5kZWZpbmVkLFxuICAgICAgICAgIGNoYW5nZUF0dGFjaFkgPSB1bmRlZmluZWQ7XG4gICAgICBpZiAoYXR0YWNobWVudC5pbmRleE9mKCcgJykgPj0gMCkge1xuICAgICAgICB2YXIgX2F0dGFjaG1lbnQkc3BsaXQgPSBhdHRhY2htZW50LnNwbGl0KCcgJyk7XG5cbiAgICAgICAgdmFyIF9hdHRhY2htZW50JHNwbGl0MiA9IF9zbGljZWRUb0FycmF5KF9hdHRhY2htZW50JHNwbGl0LCAyKTtcblxuICAgICAgICBjaGFuZ2VBdHRhY2hZID0gX2F0dGFjaG1lbnQkc3BsaXQyWzBdO1xuICAgICAgICBjaGFuZ2VBdHRhY2hYID0gX2F0dGFjaG1lbnQkc3BsaXQyWzFdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2hhbmdlQXR0YWNoWCA9IGNoYW5nZUF0dGFjaFkgPSBhdHRhY2htZW50O1xuICAgICAgfVxuXG4gICAgICB2YXIgYm91bmRzID0gZ2V0Qm91bmRpbmdSZWN0KF90aGlzLCB0byk7XG5cbiAgICAgIGlmIChjaGFuZ2VBdHRhY2hZID09PSAndGFyZ2V0JyB8fCBjaGFuZ2VBdHRhY2hZID09PSAnYm90aCcpIHtcbiAgICAgICAgaWYgKHRvcCA8IGJvdW5kc1sxXSAmJiB0QXR0YWNobWVudC50b3AgPT09ICd0b3AnKSB7XG4gICAgICAgICAgdG9wICs9IHRhcmdldEhlaWdodDtcbiAgICAgICAgICB0QXR0YWNobWVudC50b3AgPSAnYm90dG9tJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0b3AgKyBoZWlnaHQgPiBib3VuZHNbM10gJiYgdEF0dGFjaG1lbnQudG9wID09PSAnYm90dG9tJykge1xuICAgICAgICAgIHRvcCAtPSB0YXJnZXRIZWlnaHQ7XG4gICAgICAgICAgdEF0dGFjaG1lbnQudG9wID0gJ3RvcCc7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGNoYW5nZUF0dGFjaFkgPT09ICd0b2dldGhlcicpIHtcbiAgICAgICAgaWYgKHRBdHRhY2htZW50LnRvcCA9PT0gJ3RvcCcpIHtcbiAgICAgICAgICBpZiAoZUF0dGFjaG1lbnQudG9wID09PSAnYm90dG9tJyAmJiB0b3AgPCBib3VuZHNbMV0pIHtcbiAgICAgICAgICAgIHRvcCArPSB0YXJnZXRIZWlnaHQ7XG4gICAgICAgICAgICB0QXR0YWNobWVudC50b3AgPSAnYm90dG9tJztcblxuICAgICAgICAgICAgdG9wICs9IGhlaWdodDtcbiAgICAgICAgICAgIGVBdHRhY2htZW50LnRvcCA9ICd0b3AnO1xuICAgICAgICAgIH0gZWxzZSBpZiAoZUF0dGFjaG1lbnQudG9wID09PSAndG9wJyAmJiB0b3AgKyBoZWlnaHQgPiBib3VuZHNbM10gJiYgdG9wIC0gKGhlaWdodCAtIHRhcmdldEhlaWdodCkgPj0gYm91bmRzWzFdKSB7XG4gICAgICAgICAgICB0b3AgLT0gaGVpZ2h0IC0gdGFyZ2V0SGVpZ2h0O1xuICAgICAgICAgICAgdEF0dGFjaG1lbnQudG9wID0gJ2JvdHRvbSc7XG5cbiAgICAgICAgICAgIGVBdHRhY2htZW50LnRvcCA9ICdib3R0b20nO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0QXR0YWNobWVudC50b3AgPT09ICdib3R0b20nKSB7XG4gICAgICAgICAgaWYgKGVBdHRhY2htZW50LnRvcCA9PT0gJ3RvcCcgJiYgdG9wICsgaGVpZ2h0ID4gYm91bmRzWzNdKSB7XG4gICAgICAgICAgICB0b3AgLT0gdGFyZ2V0SGVpZ2h0O1xuICAgICAgICAgICAgdEF0dGFjaG1lbnQudG9wID0gJ3RvcCc7XG5cbiAgICAgICAgICAgIHRvcCAtPSBoZWlnaHQ7XG4gICAgICAgICAgICBlQXR0YWNobWVudC50b3AgPSAnYm90dG9tJztcbiAgICAgICAgICB9IGVsc2UgaWYgKGVBdHRhY2htZW50LnRvcCA9PT0gJ2JvdHRvbScgJiYgdG9wIDwgYm91bmRzWzFdICYmIHRvcCArIChoZWlnaHQgKiAyIC0gdGFyZ2V0SGVpZ2h0KSA8PSBib3VuZHNbM10pIHtcbiAgICAgICAgICAgIHRvcCArPSBoZWlnaHQgLSB0YXJnZXRIZWlnaHQ7XG4gICAgICAgICAgICB0QXR0YWNobWVudC50b3AgPSAndG9wJztcblxuICAgICAgICAgICAgZUF0dGFjaG1lbnQudG9wID0gJ3RvcCc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRBdHRhY2htZW50LnRvcCA9PT0gJ21pZGRsZScpIHtcbiAgICAgICAgICBpZiAodG9wICsgaGVpZ2h0ID4gYm91bmRzWzNdICYmIGVBdHRhY2htZW50LnRvcCA9PT0gJ3RvcCcpIHtcbiAgICAgICAgICAgIHRvcCAtPSBoZWlnaHQ7XG4gICAgICAgICAgICBlQXR0YWNobWVudC50b3AgPSAnYm90dG9tJztcbiAgICAgICAgICB9IGVsc2UgaWYgKHRvcCA8IGJvdW5kc1sxXSAmJiBlQXR0YWNobWVudC50b3AgPT09ICdib3R0b20nKSB7XG4gICAgICAgICAgICB0b3AgKz0gaGVpZ2h0O1xuICAgICAgICAgICAgZUF0dGFjaG1lbnQudG9wID0gJ3RvcCc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChjaGFuZ2VBdHRhY2hYID09PSAndGFyZ2V0JyB8fCBjaGFuZ2VBdHRhY2hYID09PSAnYm90aCcpIHtcbiAgICAgICAgaWYgKGxlZnQgPCBib3VuZHNbMF0gJiYgdEF0dGFjaG1lbnQubGVmdCA9PT0gJ2xlZnQnKSB7XG4gICAgICAgICAgbGVmdCArPSB0YXJnZXRXaWR0aDtcbiAgICAgICAgICB0QXR0YWNobWVudC5sZWZ0ID0gJ3JpZ2h0JztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsZWZ0ICsgd2lkdGggPiBib3VuZHNbMl0gJiYgdEF0dGFjaG1lbnQubGVmdCA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgIGxlZnQgLT0gdGFyZ2V0V2lkdGg7XG4gICAgICAgICAgdEF0dGFjaG1lbnQubGVmdCA9ICdsZWZ0JztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoY2hhbmdlQXR0YWNoWCA9PT0gJ3RvZ2V0aGVyJykge1xuICAgICAgICBpZiAobGVmdCA8IGJvdW5kc1swXSAmJiB0QXR0YWNobWVudC5sZWZ0ID09PSAnbGVmdCcpIHtcbiAgICAgICAgICBpZiAoZUF0dGFjaG1lbnQubGVmdCA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgbGVmdCArPSB0YXJnZXRXaWR0aDtcbiAgICAgICAgICAgIHRBdHRhY2htZW50LmxlZnQgPSAncmlnaHQnO1xuXG4gICAgICAgICAgICBsZWZ0ICs9IHdpZHRoO1xuICAgICAgICAgICAgZUF0dGFjaG1lbnQubGVmdCA9ICdsZWZ0JztcbiAgICAgICAgICB9IGVsc2UgaWYgKGVBdHRhY2htZW50LmxlZnQgPT09ICdsZWZ0Jykge1xuICAgICAgICAgICAgbGVmdCArPSB0YXJnZXRXaWR0aDtcbiAgICAgICAgICAgIHRBdHRhY2htZW50LmxlZnQgPSAncmlnaHQnO1xuXG4gICAgICAgICAgICBsZWZ0IC09IHdpZHRoO1xuICAgICAgICAgICAgZUF0dGFjaG1lbnQubGVmdCA9ICdyaWdodCc7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGxlZnQgKyB3aWR0aCA+IGJvdW5kc1syXSAmJiB0QXR0YWNobWVudC5sZWZ0ID09PSAncmlnaHQnKSB7XG4gICAgICAgICAgaWYgKGVBdHRhY2htZW50LmxlZnQgPT09ICdsZWZ0Jykge1xuICAgICAgICAgICAgbGVmdCAtPSB0YXJnZXRXaWR0aDtcbiAgICAgICAgICAgIHRBdHRhY2htZW50LmxlZnQgPSAnbGVmdCc7XG5cbiAgICAgICAgICAgIGxlZnQgLT0gd2lkdGg7XG4gICAgICAgICAgICBlQXR0YWNobWVudC5sZWZ0ID0gJ3JpZ2h0JztcbiAgICAgICAgICB9IGVsc2UgaWYgKGVBdHRhY2htZW50LmxlZnQgPT09ICdyaWdodCcpIHtcbiAgICAgICAgICAgIGxlZnQgLT0gdGFyZ2V0V2lkdGg7XG4gICAgICAgICAgICB0QXR0YWNobWVudC5sZWZ0ID0gJ2xlZnQnO1xuXG4gICAgICAgICAgICBsZWZ0ICs9IHdpZHRoO1xuICAgICAgICAgICAgZUF0dGFjaG1lbnQubGVmdCA9ICdsZWZ0JztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodEF0dGFjaG1lbnQubGVmdCA9PT0gJ2NlbnRlcicpIHtcbiAgICAgICAgICBpZiAobGVmdCArIHdpZHRoID4gYm91bmRzWzJdICYmIGVBdHRhY2htZW50LmxlZnQgPT09ICdsZWZ0Jykge1xuICAgICAgICAgICAgbGVmdCAtPSB3aWR0aDtcbiAgICAgICAgICAgIGVBdHRhY2htZW50LmxlZnQgPSAncmlnaHQnO1xuICAgICAgICAgIH0gZWxzZSBpZiAobGVmdCA8IGJvdW5kc1swXSAmJiBlQXR0YWNobWVudC5sZWZ0ID09PSAncmlnaHQnKSB7XG4gICAgICAgICAgICBsZWZ0ICs9IHdpZHRoO1xuICAgICAgICAgICAgZUF0dGFjaG1lbnQubGVmdCA9ICdsZWZ0JztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGNoYW5nZUF0dGFjaFkgPT09ICdlbGVtZW50JyB8fCBjaGFuZ2VBdHRhY2hZID09PSAnYm90aCcpIHtcbiAgICAgICAgaWYgKHRvcCA8IGJvdW5kc1sxXSAmJiBlQXR0YWNobWVudC50b3AgPT09ICdib3R0b20nKSB7XG4gICAgICAgICAgdG9wICs9IGhlaWdodDtcbiAgICAgICAgICBlQXR0YWNobWVudC50b3AgPSAndG9wJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0b3AgKyBoZWlnaHQgPiBib3VuZHNbM10gJiYgZUF0dGFjaG1lbnQudG9wID09PSAndG9wJykge1xuICAgICAgICAgIHRvcCAtPSBoZWlnaHQ7XG4gICAgICAgICAgZUF0dGFjaG1lbnQudG9wID0gJ2JvdHRvbSc7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGNoYW5nZUF0dGFjaFggPT09ICdlbGVtZW50JyB8fCBjaGFuZ2VBdHRhY2hYID09PSAnYm90aCcpIHtcbiAgICAgICAgaWYgKGxlZnQgPCBib3VuZHNbMF0pIHtcbiAgICAgICAgICBpZiAoZUF0dGFjaG1lbnQubGVmdCA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgbGVmdCArPSB3aWR0aDtcbiAgICAgICAgICAgIGVBdHRhY2htZW50LmxlZnQgPSAnbGVmdCc7XG4gICAgICAgICAgfSBlbHNlIGlmIChlQXR0YWNobWVudC5sZWZ0ID09PSAnY2VudGVyJykge1xuICAgICAgICAgICAgbGVmdCArPSB3aWR0aCAvIDI7XG4gICAgICAgICAgICBlQXR0YWNobWVudC5sZWZ0ID0gJ2xlZnQnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsZWZ0ICsgd2lkdGggPiBib3VuZHNbMl0pIHtcbiAgICAgICAgICBpZiAoZUF0dGFjaG1lbnQubGVmdCA9PT0gJ2xlZnQnKSB7XG4gICAgICAgICAgICBsZWZ0IC09IHdpZHRoO1xuICAgICAgICAgICAgZUF0dGFjaG1lbnQubGVmdCA9ICdyaWdodCc7XG4gICAgICAgICAgfSBlbHNlIGlmIChlQXR0YWNobWVudC5sZWZ0ID09PSAnY2VudGVyJykge1xuICAgICAgICAgICAgbGVmdCAtPSB3aWR0aCAvIDI7XG4gICAgICAgICAgICBlQXR0YWNobWVudC5sZWZ0ID0gJ3JpZ2h0JztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBwaW4gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHBpbiA9IHBpbi5zcGxpdCgnLCcpLm1hcChmdW5jdGlvbiAocCkge1xuICAgICAgICAgIHJldHVybiBwLnRyaW0oKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHBpbiA9PT0gdHJ1ZSkge1xuICAgICAgICBwaW4gPSBbJ3RvcCcsICdsZWZ0JywgJ3JpZ2h0JywgJ2JvdHRvbSddO1xuICAgICAgfVxuXG4gICAgICBwaW4gPSBwaW4gfHwgW107XG5cbiAgICAgIHZhciBwaW5uZWQgPSBbXTtcbiAgICAgIHZhciBvb2IgPSBbXTtcblxuICAgICAgaWYgKHRvcCA8IGJvdW5kc1sxXSkge1xuICAgICAgICBpZiAocGluLmluZGV4T2YoJ3RvcCcpID49IDApIHtcbiAgICAgICAgICB0b3AgPSBib3VuZHNbMV07XG4gICAgICAgICAgcGlubmVkLnB1c2goJ3RvcCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9vYi5wdXNoKCd0b3AnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAodG9wICsgaGVpZ2h0ID4gYm91bmRzWzNdKSB7XG4gICAgICAgIGlmIChwaW4uaW5kZXhPZignYm90dG9tJykgPj0gMCkge1xuICAgICAgICAgIHRvcCA9IGJvdW5kc1szXSAtIGhlaWdodDtcbiAgICAgICAgICBwaW5uZWQucHVzaCgnYm90dG9tJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb29iLnB1c2goJ2JvdHRvbScpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChsZWZ0IDwgYm91bmRzWzBdKSB7XG4gICAgICAgIGlmIChwaW4uaW5kZXhPZignbGVmdCcpID49IDApIHtcbiAgICAgICAgICBsZWZ0ID0gYm91bmRzWzBdO1xuICAgICAgICAgIHBpbm5lZC5wdXNoKCdsZWZ0Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb29iLnB1c2goJ2xlZnQnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAobGVmdCArIHdpZHRoID4gYm91bmRzWzJdKSB7XG4gICAgICAgIGlmIChwaW4uaW5kZXhPZigncmlnaHQnKSA+PSAwKSB7XG4gICAgICAgICAgbGVmdCA9IGJvdW5kc1syXSAtIHdpZHRoO1xuICAgICAgICAgIHBpbm5lZC5wdXNoKCdyaWdodCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9vYi5wdXNoKCdyaWdodCcpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChwaW5uZWQubGVuZ3RoKSB7XG4gICAgICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIHBpbm5lZENsYXNzID0gdW5kZWZpbmVkO1xuICAgICAgICAgIGlmICh0eXBlb2YgX3RoaXMub3B0aW9ucy5waW5uZWRDbGFzcyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHBpbm5lZENsYXNzID0gX3RoaXMub3B0aW9ucy5waW5uZWRDbGFzcztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGlubmVkQ2xhc3MgPSBfdGhpcy5nZXRDbGFzcygncGlubmVkJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYWRkQ2xhc3Nlcy5wdXNoKHBpbm5lZENsYXNzKTtcbiAgICAgICAgICBwaW5uZWQuZm9yRWFjaChmdW5jdGlvbiAoc2lkZSkge1xuICAgICAgICAgICAgYWRkQ2xhc3Nlcy5wdXNoKHBpbm5lZENsYXNzICsgJy0nICsgc2lkZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChvb2IubGVuZ3RoKSB7XG4gICAgICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIG9vYkNsYXNzID0gdW5kZWZpbmVkO1xuICAgICAgICAgIGlmICh0eXBlb2YgX3RoaXMub3B0aW9ucy5vdXRPZkJvdW5kc0NsYXNzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgb29iQ2xhc3MgPSBfdGhpcy5vcHRpb25zLm91dE9mQm91bmRzQ2xhc3M7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9vYkNsYXNzID0gX3RoaXMuZ2V0Q2xhc3MoJ291dC1vZi1ib3VuZHMnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBhZGRDbGFzc2VzLnB1c2gob29iQ2xhc3MpO1xuICAgICAgICAgIG9vYi5mb3JFYWNoKGZ1bmN0aW9uIChzaWRlKSB7XG4gICAgICAgICAgICBhZGRDbGFzc2VzLnB1c2gob29iQ2xhc3MgKyAnLScgKyBzaWRlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSkoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHBpbm5lZC5pbmRleE9mKCdsZWZ0JykgPj0gMCB8fCBwaW5uZWQuaW5kZXhPZigncmlnaHQnKSA+PSAwKSB7XG4gICAgICAgIGVBdHRhY2htZW50LmxlZnQgPSB0QXR0YWNobWVudC5sZWZ0ID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAocGlubmVkLmluZGV4T2YoJ3RvcCcpID49IDAgfHwgcGlubmVkLmluZGV4T2YoJ2JvdHRvbScpID49IDApIHtcbiAgICAgICAgZUF0dGFjaG1lbnQudG9wID0gdEF0dGFjaG1lbnQudG9wID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmICh0QXR0YWNobWVudC50b3AgIT09IHRhcmdldEF0dGFjaG1lbnQudG9wIHx8IHRBdHRhY2htZW50LmxlZnQgIT09IHRhcmdldEF0dGFjaG1lbnQubGVmdCB8fCBlQXR0YWNobWVudC50b3AgIT09IF90aGlzLmF0dGFjaG1lbnQudG9wIHx8IGVBdHRhY2htZW50LmxlZnQgIT09IF90aGlzLmF0dGFjaG1lbnQubGVmdCkge1xuICAgICAgICBfdGhpcy51cGRhdGVBdHRhY2hDbGFzc2VzKGVBdHRhY2htZW50LCB0QXR0YWNobWVudCk7XG4gICAgICAgIF90aGlzLnRyaWdnZXIoJ3VwZGF0ZScsIHtcbiAgICAgICAgICBhdHRhY2htZW50OiBlQXR0YWNobWVudCxcbiAgICAgICAgICB0YXJnZXRBdHRhY2htZW50OiB0QXR0YWNobWVudFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGRlZmVyKGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghKF90aGlzLm9wdGlvbnMuYWRkVGFyZ2V0Q2xhc3NlcyA9PT0gZmFsc2UpKSB7XG4gICAgICAgIHVwZGF0ZUNsYXNzZXMoX3RoaXMudGFyZ2V0LCBhZGRDbGFzc2VzLCBhbGxDbGFzc2VzKTtcbiAgICAgIH1cbiAgICAgIHVwZGF0ZUNsYXNzZXMoX3RoaXMuZWxlbWVudCwgYWRkQ2xhc3NlcywgYWxsQ2xhc3Nlcyk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4geyB0b3A6IHRvcCwgbGVmdDogbGVmdCB9O1xuICB9XG59KTtcbi8qIGdsb2JhbHMgVGV0aGVyQmFzZSAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBfVGV0aGVyQmFzZSRVdGlscyA9IFRldGhlckJhc2UuVXRpbHM7XG52YXIgZ2V0Qm91bmRzID0gX1RldGhlckJhc2UkVXRpbHMuZ2V0Qm91bmRzO1xudmFyIHVwZGF0ZUNsYXNzZXMgPSBfVGV0aGVyQmFzZSRVdGlscy51cGRhdGVDbGFzc2VzO1xudmFyIGRlZmVyID0gX1RldGhlckJhc2UkVXRpbHMuZGVmZXI7XG5cblRldGhlckJhc2UubW9kdWxlcy5wdXNoKHtcbiAgcG9zaXRpb246IGZ1bmN0aW9uIHBvc2l0aW9uKF9yZWYpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIHRvcCA9IF9yZWYudG9wO1xuICAgIHZhciBsZWZ0ID0gX3JlZi5sZWZ0O1xuXG4gICAgdmFyIF9jYWNoZSA9IHRoaXMuY2FjaGUoJ2VsZW1lbnQtYm91bmRzJywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGdldEJvdW5kcyhfdGhpcy5lbGVtZW50KTtcbiAgICB9KTtcblxuICAgIHZhciBoZWlnaHQgPSBfY2FjaGUuaGVpZ2h0O1xuICAgIHZhciB3aWR0aCA9IF9jYWNoZS53aWR0aDtcblxuICAgIHZhciB0YXJnZXRQb3MgPSB0aGlzLmdldFRhcmdldEJvdW5kcygpO1xuXG4gICAgdmFyIGJvdHRvbSA9IHRvcCArIGhlaWdodDtcbiAgICB2YXIgcmlnaHQgPSBsZWZ0ICsgd2lkdGg7XG5cbiAgICB2YXIgYWJ1dHRlZCA9IFtdO1xuICAgIGlmICh0b3AgPD0gdGFyZ2V0UG9zLmJvdHRvbSAmJiBib3R0b20gPj0gdGFyZ2V0UG9zLnRvcCkge1xuICAgICAgWydsZWZ0JywgJ3JpZ2h0J10uZm9yRWFjaChmdW5jdGlvbiAoc2lkZSkge1xuICAgICAgICB2YXIgdGFyZ2V0UG9zU2lkZSA9IHRhcmdldFBvc1tzaWRlXTtcbiAgICAgICAgaWYgKHRhcmdldFBvc1NpZGUgPT09IGxlZnQgfHwgdGFyZ2V0UG9zU2lkZSA9PT0gcmlnaHQpIHtcbiAgICAgICAgICBhYnV0dGVkLnB1c2goc2lkZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChsZWZ0IDw9IHRhcmdldFBvcy5yaWdodCAmJiByaWdodCA+PSB0YXJnZXRQb3MubGVmdCkge1xuICAgICAgWyd0b3AnLCAnYm90dG9tJ10uZm9yRWFjaChmdW5jdGlvbiAoc2lkZSkge1xuICAgICAgICB2YXIgdGFyZ2V0UG9zU2lkZSA9IHRhcmdldFBvc1tzaWRlXTtcbiAgICAgICAgaWYgKHRhcmdldFBvc1NpZGUgPT09IHRvcCB8fCB0YXJnZXRQb3NTaWRlID09PSBib3R0b20pIHtcbiAgICAgICAgICBhYnV0dGVkLnB1c2goc2lkZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhciBhbGxDbGFzc2VzID0gW107XG4gICAgdmFyIGFkZENsYXNzZXMgPSBbXTtcblxuICAgIHZhciBzaWRlcyA9IFsnbGVmdCcsICd0b3AnLCAncmlnaHQnLCAnYm90dG9tJ107XG4gICAgYWxsQ2xhc3Nlcy5wdXNoKHRoaXMuZ2V0Q2xhc3MoJ2FidXR0ZWQnKSk7XG4gICAgc2lkZXMuZm9yRWFjaChmdW5jdGlvbiAoc2lkZSkge1xuICAgICAgYWxsQ2xhc3Nlcy5wdXNoKF90aGlzLmdldENsYXNzKCdhYnV0dGVkJykgKyAnLScgKyBzaWRlKTtcbiAgICB9KTtcblxuICAgIGlmIChhYnV0dGVkLmxlbmd0aCkge1xuICAgICAgYWRkQ2xhc3Nlcy5wdXNoKHRoaXMuZ2V0Q2xhc3MoJ2FidXR0ZWQnKSk7XG4gICAgfVxuXG4gICAgYWJ1dHRlZC5mb3JFYWNoKGZ1bmN0aW9uIChzaWRlKSB7XG4gICAgICBhZGRDbGFzc2VzLnB1c2goX3RoaXMuZ2V0Q2xhc3MoJ2FidXR0ZWQnKSArICctJyArIHNpZGUpO1xuICAgIH0pO1xuXG4gICAgZGVmZXIoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCEoX3RoaXMub3B0aW9ucy5hZGRUYXJnZXRDbGFzc2VzID09PSBmYWxzZSkpIHtcbiAgICAgICAgdXBkYXRlQ2xhc3NlcyhfdGhpcy50YXJnZXQsIGFkZENsYXNzZXMsIGFsbENsYXNzZXMpO1xuICAgICAgfVxuICAgICAgdXBkYXRlQ2xhc3NlcyhfdGhpcy5lbGVtZW50LCBhZGRDbGFzc2VzLCBhbGxDbGFzc2VzKTtcbiAgICB9KTtcblxuICAgIHJldHVybiB0cnVlO1xuICB9XG59KTtcbi8qIGdsb2JhbHMgVGV0aGVyQmFzZSAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBfc2xpY2VkVG9BcnJheSA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIHNsaWNlSXRlcmF0b3IoYXJyLCBpKSB7IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX2UgPSB1bmRlZmluZWQ7IHRyeSB7IGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pWydyZXR1cm4nXSkgX2lbJ3JldHVybiddKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfSByZXR1cm4gZnVuY3Rpb24gKGFyciwgaSkgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IHJldHVybiBhcnI7IH0gZWxzZSBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSB7IHJldHVybiBzbGljZUl0ZXJhdG9yKGFyciwgaSk7IH0gZWxzZSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UnKTsgfSB9OyB9KSgpO1xuXG5UZXRoZXJCYXNlLm1vZHVsZXMucHVzaCh7XG4gIHBvc2l0aW9uOiBmdW5jdGlvbiBwb3NpdGlvbihfcmVmKSB7XG4gICAgdmFyIHRvcCA9IF9yZWYudG9wO1xuICAgIHZhciBsZWZ0ID0gX3JlZi5sZWZ0O1xuXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuc2hpZnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgc2hpZnQgPSB0aGlzLm9wdGlvbnMuc2hpZnQ7XG4gICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMuc2hpZnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHNoaWZ0ID0gdGhpcy5vcHRpb25zLnNoaWZ0LmNhbGwodGhpcywgeyB0b3A6IHRvcCwgbGVmdDogbGVmdCB9KTtcbiAgICB9XG5cbiAgICB2YXIgc2hpZnRUb3AgPSB1bmRlZmluZWQsXG4gICAgICAgIHNoaWZ0TGVmdCA9IHVuZGVmaW5lZDtcbiAgICBpZiAodHlwZW9mIHNoaWZ0ID09PSAnc3RyaW5nJykge1xuICAgICAgc2hpZnQgPSBzaGlmdC5zcGxpdCgnICcpO1xuICAgICAgc2hpZnRbMV0gPSBzaGlmdFsxXSB8fCBzaGlmdFswXTtcblxuICAgICAgdmFyIF9zaGlmdCA9IHNoaWZ0O1xuXG4gICAgICB2YXIgX3NoaWZ0MiA9IF9zbGljZWRUb0FycmF5KF9zaGlmdCwgMik7XG5cbiAgICAgIHNoaWZ0VG9wID0gX3NoaWZ0MlswXTtcbiAgICAgIHNoaWZ0TGVmdCA9IF9zaGlmdDJbMV07XG5cbiAgICAgIHNoaWZ0VG9wID0gcGFyc2VGbG9hdChzaGlmdFRvcCwgMTApO1xuICAgICAgc2hpZnRMZWZ0ID0gcGFyc2VGbG9hdChzaGlmdExlZnQsIDEwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2hpZnRUb3AgPSBzaGlmdC50b3A7XG4gICAgICBzaGlmdExlZnQgPSBzaGlmdC5sZWZ0O1xuICAgIH1cblxuICAgIHRvcCArPSBzaGlmdFRvcDtcbiAgICBsZWZ0ICs9IHNoaWZ0TGVmdDtcblxuICAgIHJldHVybiB7IHRvcDogdG9wLCBsZWZ0OiBsZWZ0IH07XG4gIH1cbn0pO1xucmV0dXJuIFRldGhlcjtcblxufSkpO1xuIiwiLyoqXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQm9vdHN0cmFwICh2NC4wLjAtYWxwaGEuNik6IHV0aWwuanNcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5cbnZhciBVdGlsID0gZnVuY3Rpb24gKCQpIHtcblxuICAvKipcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqIFByaXZhdGUgVHJhbnNpdGlvbkVuZCBIZWxwZXJzXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKi9cblxuICB2YXIgdHJhbnNpdGlvbiA9IGZhbHNlO1xuXG4gIHZhciBNQVhfVUlEID0gMTAwMDAwMDtcblxuICB2YXIgVHJhbnNpdGlvbkVuZEV2ZW50ID0ge1xuICAgIFdlYmtpdFRyYW5zaXRpb246ICd3ZWJraXRUcmFuc2l0aW9uRW5kJyxcbiAgICBNb3pUcmFuc2l0aW9uOiAndHJhbnNpdGlvbmVuZCcsXG4gICAgT1RyYW5zaXRpb246ICdvVHJhbnNpdGlvbkVuZCBvdHJhbnNpdGlvbmVuZCcsXG4gICAgdHJhbnNpdGlvbjogJ3RyYW5zaXRpb25lbmQnXG4gIH07XG5cbiAgLy8gc2hvdXRvdXQgQW5ndXNDcm9sbCAoaHR0cHM6Ly9nb28uZ2wvcHh3UUdwKVxuICBmdW5jdGlvbiB0b1R5cGUob2JqKSB7XG4gICAgcmV0dXJuIHt9LnRvU3RyaW5nLmNhbGwob2JqKS5tYXRjaCgvXFxzKFthLXpBLVpdKykvKVsxXS50b0xvd2VyQ2FzZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNFbGVtZW50KG9iaikge1xuICAgIHJldHVybiAob2JqWzBdIHx8IG9iaikubm9kZVR5cGU7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRTcGVjaWFsVHJhbnNpdGlvbkVuZEV2ZW50KCkge1xuICAgIHJldHVybiB7XG4gICAgICBiaW5kVHlwZTogdHJhbnNpdGlvbi5lbmQsXG4gICAgICBkZWxlZ2F0ZVR5cGU6IHRyYW5zaXRpb24uZW5kLFxuICAgICAgaGFuZGxlOiBmdW5jdGlvbiBoYW5kbGUoZXZlbnQpIHtcbiAgICAgICAgaWYgKCQoZXZlbnQudGFyZ2V0KS5pcyh0aGlzKSkge1xuICAgICAgICAgIHJldHVybiBldmVudC5oYW5kbGVPYmouaGFuZGxlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHByZWZlci1yZXN0LXBhcmFtc1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRyYW5zaXRpb25FbmRUZXN0KCkge1xuICAgIGlmICh3aW5kb3cuUVVuaXQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdib290c3RyYXAnKTtcblxuICAgIGZvciAodmFyIG5hbWUgaW4gVHJhbnNpdGlvbkVuZEV2ZW50KSB7XG4gICAgICBpZiAoZWwuc3R5bGVbbmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGVuZDogVHJhbnNpdGlvbkVuZEV2ZW50W25hbWVdXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gdHJhbnNpdGlvbkVuZEVtdWxhdG9yKGR1cmF0aW9uKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBjYWxsZWQgPSBmYWxzZTtcblxuICAgICQodGhpcykub25lKFV0aWwuVFJBTlNJVElPTl9FTkQsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNhbGxlZCA9IHRydWU7XG4gICAgfSk7XG5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghY2FsbGVkKSB7XG4gICAgICAgIFV0aWwudHJpZ2dlclRyYW5zaXRpb25FbmQoX3RoaXMpO1xuICAgICAgfVxuICAgIH0sIGR1cmF0aW9uKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0VHJhbnNpdGlvbkVuZFN1cHBvcnQoKSB7XG4gICAgdHJhbnNpdGlvbiA9IHRyYW5zaXRpb25FbmRUZXN0KCk7XG5cbiAgICAkLmZuLmVtdWxhdGVUcmFuc2l0aW9uRW5kID0gdHJhbnNpdGlvbkVuZEVtdWxhdG9yO1xuXG4gICAgaWYgKFV0aWwuc3VwcG9ydHNUcmFuc2l0aW9uRW5kKCkpIHtcbiAgICAgICQuZXZlbnQuc3BlY2lhbFtVdGlsLlRSQU5TSVRJT05fRU5EXSA9IGdldFNwZWNpYWxUcmFuc2l0aW9uRW5kRXZlbnQoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogUHVibGljIFV0aWwgQXBpXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG4gIHZhciBVdGlsID0ge1xuXG4gICAgVFJBTlNJVElPTl9FTkQ6ICdic1RyYW5zaXRpb25FbmQnLFxuXG4gICAgZ2V0VUlEOiBmdW5jdGlvbiBnZXRVSUQocHJlZml4KSB7XG4gICAgICBkbyB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1iaXR3aXNlXG4gICAgICAgIHByZWZpeCArPSB+fihNYXRoLnJhbmRvbSgpICogTUFYX1VJRCk7IC8vIFwifn5cIiBhY3RzIGxpa2UgYSBmYXN0ZXIgTWF0aC5mbG9vcigpIGhlcmVcbiAgICAgIH0gd2hpbGUgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHByZWZpeCkpO1xuICAgICAgcmV0dXJuIHByZWZpeDtcbiAgICB9LFxuICAgIGdldFNlbGVjdG9yRnJvbUVsZW1lbnQ6IGZ1bmN0aW9uIGdldFNlbGVjdG9yRnJvbUVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgdmFyIHNlbGVjdG9yID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGFyZ2V0Jyk7XG5cbiAgICAgIGlmICghc2VsZWN0b3IpIHtcbiAgICAgICAgc2VsZWN0b3IgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnaHJlZicpIHx8ICcnO1xuICAgICAgICBzZWxlY3RvciA9IC9eI1thLXpdL2kudGVzdChzZWxlY3RvcikgPyBzZWxlY3RvciA6IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxlY3RvcjtcbiAgICB9LFxuICAgIHJlZmxvdzogZnVuY3Rpb24gcmVmbG93KGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiBlbGVtZW50Lm9mZnNldEhlaWdodDtcbiAgICB9LFxuICAgIHRyaWdnZXJUcmFuc2l0aW9uRW5kOiBmdW5jdGlvbiB0cmlnZ2VyVHJhbnNpdGlvbkVuZChlbGVtZW50KSB7XG4gICAgICAkKGVsZW1lbnQpLnRyaWdnZXIodHJhbnNpdGlvbi5lbmQpO1xuICAgIH0sXG4gICAgc3VwcG9ydHNUcmFuc2l0aW9uRW5kOiBmdW5jdGlvbiBzdXBwb3J0c1RyYW5zaXRpb25FbmQoKSB7XG4gICAgICByZXR1cm4gQm9vbGVhbih0cmFuc2l0aW9uKTtcbiAgICB9LFxuICAgIHR5cGVDaGVja0NvbmZpZzogZnVuY3Rpb24gdHlwZUNoZWNrQ29uZmlnKGNvbXBvbmVudE5hbWUsIGNvbmZpZywgY29uZmlnVHlwZXMpIHtcbiAgICAgIGZvciAodmFyIHByb3BlcnR5IGluIGNvbmZpZ1R5cGVzKSB7XG4gICAgICAgIGlmIChjb25maWdUeXBlcy5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkpIHtcbiAgICAgICAgICB2YXIgZXhwZWN0ZWRUeXBlcyA9IGNvbmZpZ1R5cGVzW3Byb3BlcnR5XTtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBjb25maWdbcHJvcGVydHldO1xuICAgICAgICAgIHZhciB2YWx1ZVR5cGUgPSB2YWx1ZSAmJiBpc0VsZW1lbnQodmFsdWUpID8gJ2VsZW1lbnQnIDogdG9UeXBlKHZhbHVlKTtcblxuICAgICAgICAgIGlmICghbmV3IFJlZ0V4cChleHBlY3RlZFR5cGVzKS50ZXN0KHZhbHVlVHlwZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihjb21wb25lbnROYW1lLnRvVXBwZXJDYXNlKCkgKyAnOiAnICsgKCdPcHRpb24gXCInICsgcHJvcGVydHkgKyAnXCIgcHJvdmlkZWQgdHlwZSBcIicgKyB2YWx1ZVR5cGUgKyAnXCIgJykgKyAoJ2J1dCBleHBlY3RlZCB0eXBlIFwiJyArIGV4cGVjdGVkVHlwZXMgKyAnXCIuJykpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBzZXRUcmFuc2l0aW9uRW5kU3VwcG9ydCgpO1xuXG4gIHJldHVybiBVdGlsO1xufShqUXVlcnkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbC5qcy5tYXBcbiJdfQ==
